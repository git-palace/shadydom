{"version":3,"sources":["env.js"],"names":["isShadyRoot","obj","__localName","ownerShadyRootForNode","node","root","getRootNode","matchesSelector","element","selector","matches","call","copyOwnProperty","name","source","target","pd","Object","getOwnPropertyDescriptor","defineProperty","extend","n$","getOwnPropertyNames","n","i","length","extendAll","sources","mixin","patchPrototype","proto","getPrototypeOf","hasOwnProperty","patchProto","create","__sourceProto","__patchProto","__proto__","enqueue","callback","scheduled","promish","then","flush","flushList","push","flushCount","shift","customElements$1","isFlushedMaxed","Error","escapeReplace","c","escapeAttr","s","replace","escapeAttrRegExp","escapeData","escapeDataRegExp","makeSet","arr","set","getOuterHTML","parentNode","composed","nodeType","Node","ELEMENT_NODE","tagName","localName","attrs","attributes","attr","value","voidElements","getInnerHTML","TEXT_NODE","data","plaintextParents","COMMENT_NODE","window","console","error","content","c$","childNodes","child","l","nodeWalker","currentNode","firstChild","lastChild","nodes","nextSibling","firstElementChild","elementWalker","lastElementChild","previousElementSibling","previousSibling","nextElementSibling","children","innerHTML","textContent","nodeValue","textWalker","document","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","getProperty","prop","__shady","hasProperty","generateSimpleDescriptor","get","nativeTree","configurable","clearNode","removeChild","getDocumentActiveElement","nativeActiveElementDescriptor","settings","hasDescriptors","activeElement","activeElementForNode","active","isShadyRoot$$1","host","contains","activeRoot","patchAccessorGroup","descriptors","force","p","objDesc","warn","patchAccessors","OutsideAccessors","InsideAccessors","ActiveElementAccessor","recordInsertBefore","container","ref_node","patchInsideElementAccessors","DOCUMENT_FRAGMENT_NODE","linkNode","resetTo","patchOutsideElementAccessors","ps","ns","recordRemoveChild","addNode","ownerRoot","ipAdded","__noInsertionPoint","_changePending","_skipUpdateInsertionPoints","_maybeAddInsertionPoint","handled","_maybeDistribute","shadyRoot","removeNode","distributed","logicalParent","maybeDistributeParent","removedDistributed","_removeDistributedChildren","addedInsertionPoint","getInsertionPointTag","updateRootViaContentChange","_removeOwnerShadyRoot","_scheduleObserver","addedNode","removedNode","observer","addedNodes","removedNodes","schedule","removeNodeFromParent","_hasCachedOwnerRoot","__ownerShadyRoot","parent","documentElement","insertionPointTag","fragContent","querySelector","wrappedContent","hasContent","needsDist","_nodeNeedsDistribution","added","querySelectorAll","np","na","recordChildNodes","hasInsertionPoint","hostNeedsDist","ip$","_insertionPoints","insertionPoint","_contains","dc$","assignedNodes","flatten","j","firstComposedNode","isFinalDestination","update","distributeAttributeChange","query","matcher","halter","list","_queryElements","elements","_queryElement","result","renderRootNode","render","setAttribute$1","ShadyCSS","ownerDocument","setElementClass","setAttribute","removeAttribute$1","removeAttribute","insertBefore$1","insertBefore","appendChild","removeChild$1","nativeParent","cloneNode$1","deep","cloneNode","nc","importNode$1","importNode","pathComposer","startNode","composedPath","current","startRoot","assignedSlot","retarget","refNode","path","refNodePath","p$","ancestor","lastRoot","rootIdx","indexOf","mixinComposedFlag","Base","klazz","type","options","event","__composed","prototype","fireHandlers","phase","hs","__handlers","fn","__immediatePropagationStopped","retargetNonBubblingEvent","e","__propagationStopped","Event","AT_TARGET","lastFiredRoot","shadowRoot","activateFocusEventOverrides","ev","nonBubblingEventsToRetarget","addEventListener","__target","__relatedTarget","relatedTarget","eventMixin","stopImmediatePropagation","newSplice","index","removed","addedCount","attachShadow","ShadyRoot","ShadyRootConstructionToken","getAssignedSlot","patchBuiltin","d","ShadyDOM","hasNativeShadowDOM","Element","desc","inUse","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","Promise","resolve","twiddle","createTextNode","cb","MutationObserver","disconnect","observe","characterData","customElements","AsyncObserver","constructor","_scheduled","callbacks","Set","mutations","takeRecords","forEach","Document","removeEventListener","nativeMethods","freeze","SHOW_ALL","SHOW_ELEMENT","parentElement","nativeInnerHTMLDesc","HTMLElement","inertDoc","implementation","createHTMLDocument","htmlContainer","createElement","className","getAttribute","tc","cn","join","text","Array","filter","ShadowRootAccessor","__outsideAccessors","__insideAccessors","alwaysComposed","blur","focus","focusin","focusout","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel","beforeinput","input","keydown","keyup","compositionstart","compositionupdate","compositionend","touchstart","touchend","touchmove","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","DOMActivate","DOMFocusIn","DOMFocusOut","keypress","isTrusted","__composedPath","currentTarget","__relatedTargetComposedPath","stopPropagation","PatchedEvent","PatchedCustomEvent","CustomEvent","PatchedMouseEvent","MouseEvent","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","currentStart","currentEnd","old","oldStart","oldEnd","rowCount","columnCount","distances","equals","north","west","spliceOperationsFromEditDistances","edits","min","northWest","reverse","calcSplices","splice","prefixCount","suffixCount","minLength","Math","sharedPrefix","sharedSuffix","ops","splices","oldIndex","searchLength","index1","index2","count","calculateSplices","previous","currentValue","previousValue","NormalizedEvent","inType","params","createEvent","initEvent","bubbles","cancelable","Distributor","getInsertionPoints","isInsertionPoint","distribute","distributePool","collectPool","pool","dirtyRoots","distributeInsertionPoint","prevAssignedNodes","clearAssignedSlots","needsSlotChange","anyDistributed","matchesInsertionPoint","_prevAssignedSlot","distributeNodeInto","children$$1","setDistributedNodesOnInsertionPoint","_fireSlotChange","slot","savePrevious","slotName","trim","distributedNodes","d$","dispatchEvent","token","TypeError","createDocumentFragment","_init","DocumentFragment","_renderPending","_hasRendered","_distributor","_getRenderRoot","renderRoot","_rendererForHost","_render","updateInsertionPoints","compose","forceRender","i$","__insertionPoints","insertionPoints","_composeTree","_updateChildNodes","_composeNode","distributedNode","next","nodeMixin","optionsOrCapture","capture","once","passive","__eventWrappers","wrapperFn","eventPhase","BUBBLING_PHASE","bubble","idx","replaceChild","isConnected","ownerDocumentElement","textMixin","fragmentMixin","slotMixin","elementMixin","defineProperties","documentMixin","_activeElement","patch","filterMutations","targetRootNode","map","mutation","mutationInScope","from","m","observeChildren","add","_callback","_observer","_node","unobserveChildren","handle","delete","size","Text","HTMLSlotElement","nativeHTMLElement","ShadowRoot"],"mappings":"AAAC,WAAY,CACb,aAEA;;;;;;;;EAmBA,QAASA,EAAT,CAAqBC,EAArB,CAA0B,CACxB,QAAmC,WAApB,MAAIC,WAAnB,CACD,CAED,QAASC,EAAT,CAA+BC,EAA/B,CAAqC,CACnC,GAAIC,IAAOD,GAAKE,WAAL,EAAX,CACA,GAAIN,EAAYK,EAAZ,CAAJ,CACE,MAAOA,GAEV,CAOD,QAASE,EAAT,CAAyBC,EAAzB,CAAkCC,EAAlC,CAA4C,CAC1C,MAAOC,IAAQC,IAAR,CAAaH,EAAb,CAAsBC,EAAtB,CACR,CAED,QAASG,EAAT,CAAyBC,EAAzB,CAA+BC,EAA/B,CAAuCC,EAAvC,CAA+C,CAC7C,GAAIC,IAAKC,OAAOC,wBAAP,CAAgCJ,EAAhC,CAAwCD,EAAxC,CAAT,CACIG,EAFyC,EAG3CC,OAAOE,cAAP,CAAsBJ,EAAtB,CAA8BF,EAA9B,CAAoCG,EAApC,CAEH,CAED,QAASI,EAAT,CAAgBL,EAAhB,CAAwBD,EAAxB,CAAgC,CAC9B,GAAIC,IAAUD,EAAd,CAAsB,CACpB,GAAIO,IAAKJ,OAAOK,mBAAP,CAA2BR,EAA3B,CAAT,CACA,IAAK,GAASS,GAAT,CAAIC,GAAE,CAAX,CAAkBA,GAAEH,GAAGI,MAAN,GAAkBF,GAAEF,GAAGG,EAAH,CAApB,CAAjB,CAA6CA,IAA7C,CACEZ,EAAgBW,EAAhB,CAAmBT,EAAnB,CAA2BC,EAA3B,CAEH,CACD,MAAOA,KAAUD,EAClB,CAED,QAASY,EAAT,CAAmBX,EAAnB,CAA2B,GAAGY,EAA9B,CAAuC,CACrC,IAAK,GAAIH,IAAE,CAAX,CAAcA,GAAIG,GAAQF,MAA1B,CAAkCD,IAAlC,CACEJ,EAAOL,EAAP,CAAeY,GAAQH,EAAR,CAAf,EAEF,MAAOT,GACR,CAED,QAASa,EAAT,CAAeb,EAAf,CAAuBD,EAAvB,CAA+B,CAC7B,IAAK,GAAIU,GAAT,GAAcV,GAAd,CACEC,GAAOS,EAAP,EAAYV,GAAOU,EAAP,CAAZ,CAEF,MAAOT,GACR,CAED,QAASc,EAAT,CAAwB5B,EAAxB,CAA6B2B,EAA7B,CAAoC,CAClC,GAAIE,IAAQb,OAAOc,cAAP,CAAsB9B,EAAtB,CAAZ,CACA,GAAI,CAAC6B,GAAME,cAAN,CAAqB,cAArB,CAAL,CAA2C,CACzC,GAAIC,IAAahB,OAAOiB,MAAP,CAAcJ,EAAd,CAAjB,CACAG,GAAWE,aAAX,CAA2BL,EAFc,CAGzCV,EAAOa,EAAP,CAAmBL,EAAnB,CAHyC,CAIzCE,GAAMM,YAAN,CAAqBH,EACtB,CAEDhC,GAAIoC,SAAJ,CAAgBP,GAAMM,YACvB,CAuCD,QAASE,EAAT,CAAiBC,EAAjB,CAA2B,CACpBC,EADoB,GAEvBA,KAFuB,CAGvBC,GAAQC,IAAR,CAAaC,CAAb,CAHuB,EAKzBC,GAAUC,IAAV,CAAeN,EAAf,CACD,CAED,QAASI,EAAT,EAAiB,KACfH,KADe,CAEfM,IAFe,CAGRF,GAAUnB,MAHF,EAIbmB,GAAUG,KAAV,KAEEC,IAAoBA,GAAiBL,KAN1B,EAObK,GAAiBL,KAAjB,EAPa,CAUf,KAAMM,IAAkBH,GAnBX,GAmBb,CAKA,GAJIF,GAAUnB,MAAV,EAAoB,CAACwB,EAIzB,EAHIN,GAGJ,CADAG,GAAa,CACb,CAAIG,EAAJ,CACE,KAAM,IAAIC,MAAJ,CAAU,mDAAV,CAET,CAqKD,QAASC,EAAT,CAAuBC,EAAvB,CAA0B,OAEjB,GAFiB,GAChBA,EADgB,CAGb,OAHa,CAIjB,GAJiB,GAChBA,EADgB,CAKb,MALa,CAMjB,GANiB,GAChBA,EADgB,CAOb,MAPa,CAQjB,GARiB,GAChBA,EADgB,CASb,QATa,CAUjB,MAViB,GAChBA,EADgB,CAWb,QAXa,OAazB,CAED,QAASC,EAAT,CAAoBC,EAApB,CAAuB,CACrB,MAAOA,IAAEC,OAAF,CAAUC,EAAV,CAA4BL,CAA5B,CACR,CAED,QAASM,EAAT,CAAoBH,EAApB,CAAuB,CACrB,MAAOA,IAAEC,OAAF,CAAUG,EAAV,CAA4BP,CAA5B,CACR,CAED,QAASQ,EAAT,CAAiBC,EAAjB,CAAsB,CACpB,GAAIC,MAAJ,CACA,IAAK,GAAIrC,IAAI,CAAb,CAAgBA,GAAIoC,GAAInC,MAAxB,CAAgCD,IAAhC,CACEqC,GAAID,GAAIpC,EAAJ,CAAJ,KAEF,MAAOqC,GACR,CAiCD,QAASC,EAAT,CAAsB1D,EAAtB,CAA4B2D,EAA5B,CAAwCC,EAAxC,CAAkD,CAChD,OAAQ5D,GAAK6D,QAAb,EACE,IAAKC,MAAKC,YAAV,CAAwB,CACtB,GAAIC,IAAUhE,GAAKiE,SAAnB,CACIf,GAAI,IAAMc,EADd,CAEIE,GAAQlE,GAAKmE,UAFjB,CAGA,IAAK,GAAWC,GAAX,CAAIhD,GAAI,CAAb,CAAuBgD,GAAOF,GAAM9C,EAAN,CAA9B,CAAyCA,IAAzC,CACE8B,IAAK,IAAMkB,GAAK3D,IAAX,CAAkB,IAAlB,CAAyBwC,EAAWmB,GAAKC,KAAhB,CAAzB,CAAkD,GAAvD,CALoB,MAOtBnB,KAAK,GAPiB,CAQlBoB,GAAaN,EAAb,CARkB,CASbd,EATa,CAWfA,GAAIqB,EAAavE,EAAb,CAAmB4D,EAAnB,CAAJ,CAAmC,IAAnC,CAA0CI,EAA1C,CAAoD,GAC5D,CACD,IAAKF,MAAKU,SAAV,CAAqB,CACnB,GAAIC,IAAOzE,GAAKyE,IAAhB,CADmB,MAEfd,KAAce,GAAiBf,GAAWM,SAA5B,CAFC,CAGVQ,EAHU,CAKZpB,EAAWoB,EAAX,CACR,CACD,IAAKX,MAAKa,YAAV,CACE,MAAO,OAAS3E,GAAKyE,IAAd,CAAqB,KAA5B,CAEF,QAEE,KADAG,QAAOC,OAAP,CAAeC,KAAf,CAAqB9E,EAArB,CACA,CAAM,GAAI8C,MAAJ,CAAU,iBAAV,CAAN,CA1BJ,CA6BD,CAED,QAASyB,EAAT,CAAsBvE,EAAtB,CAA4B4D,EAA5B,CAAsC,CACb,UAAnB,MAAKK,SAD2B,GAElCjE,GAAOA,GAAK+E,OAFsB,EAIpC,GAAI7B,IAAI,EAAR,CACI8B,GAAKpB,GAAWA,GAAS5D,EAAT,CAAX,CAA4BA,GAAKiF,UAD1C,CAEA,IAAK,GAAsBC,GAAtB,CAAI9D,GAAE,CAAN,CAAS+D,GAAEH,GAAG3D,MAAnB,CAAmCD,GAAE+D,EAAH,GAAUD,GAAMF,GAAG5D,EAAH,CAAhB,CAAlC,CAA0DA,IAA1D,CACE8B,IAAKQ,EAAawB,EAAb,CAAoBlF,EAApB,CAA0B4D,EAA1B,CAAL,CAEF,MAAOV,GACR,CAkBD,QAASS,EAAT,CAAoB3D,EAApB,CAA0B,CAExB,MADAoF,IAAWC,WAAX,CAAyBrF,EACzB,CAAOoF,GAAWzB,UAAX,EACR,CAED,QAAS2B,EAAT,CAAoBtF,EAApB,CAA0B,CAExB,MADAoF,IAAWC,WAAX,CAAyBrF,EACzB,CAAOoF,GAAWE,UAAX,EACR,CAED,QAASC,EAAT,CAAmBvF,EAAnB,CAAyB,CAEvB,MADAoF,IAAWC,WAAX,CAAyBrF,EACzB,CAAOoF,GAAWG,SAAX,EACR,CAYD,QAASN,EAAT,CAAoBjF,EAApB,CAA0B,CACxB,GAAIwF,MAAJ,CACAJ,GAAWC,WAAX,CAAyBrF,EAFD,KAGxB,GAAImB,IAAIiE,GAAWE,UAAX,EAHgB,CAIjBnE,EAJiB,EAKtBqE,GAAM/C,IAAN,CAAWtB,EAAX,CALsB,CAMtBA,GAAIiE,GAAWK,WAAX,EANkB,CAQxB,MAAOD,GACR,CAOD,QAASE,EAAT,CAA2B1F,EAA3B,CAAiC,CAE/B,MADA2F,IAAcN,WAAd,CAA4BrF,EAC5B,CAAO2F,GAAcL,UAAd,EACR,CAED,QAASM,EAAT,CAA0B5F,EAA1B,CAAgC,CAE9B,MADA2F,IAAcN,WAAd,CAA4BrF,EAC5B,CAAO2F,GAAcJ,SAAd,EACR,CAED,QAASM,EAAT,CAAgC7F,EAAhC,CAAsC,CAEpC,MADA2F,IAAcN,WAAd,CAA4BrF,EAC5B,CAAO2F,GAAcG,eAAd,EACR,CAED,QAASC,EAAT,CAA4B/F,EAA5B,CAAkC,CAEhC,MADA2F,IAAcN,WAAd,CAA4BrF,EAC5B,CAAO2F,GAAcF,WAAd,EACR,CAED,QAASO,EAAT,CAAkBhG,EAAlB,CAAwB,CACtB,GAAIwF,MAAJ,CACAG,GAAcN,WAAd,CAA4BrF,EAFN,KAGtB,GAAImB,IAAIwE,GAAcL,UAAd,EAHc,CAIfnE,EAJe,EAKpBqE,GAAM/C,IAAN,CAAWtB,EAAX,CALoB,CAMpBA,GAAIwE,GAAcF,WAAd,EANgB,CAQtB,MAAOD,GACR,CAED,QAASS,EAAT,CAAmBjG,EAAnB,CAAyB,CACvB,MAAOuE,GAAavE,EAAb,CAAoBmB,EAAD,EAAO8D,EAAW9D,EAAX,CAA1B,CACR,CAED,QAAS+E,EAAT,CAAqBlG,EAArB,CAA2B,CACzB,GAAIA,GAAK6D,QAAL,GAAkBC,KAAKC,YAA3B,CACE,MAAO/D,IAAKmG,SAAZ,CAEF,GAAIC,IAAaC,SAASC,gBAAT,CAA0BtG,EAA1B,CAAgCuG,WAAWC,SAA3C,CACf,IADe,IAAjB,CAEIzB,GAAU,EAFd,CAEkB5D,EAFlB,CAJyB,KAOhBA,GAAIiF,GAAWK,QAAX,EAPY,EAUvB1B,IAAW5D,GAAEgF,SAAb,CAEF,MAAOpB,GACR,CA6BD,QAAS2B,EAAT,CAAqB1G,EAArB,CAA2B2G,EAA3B,CAAiC,CAC/B,MAAO3G,IAAK4G,OAAL,EAAgB5G,GAAK4G,OAAL,CAAaD,EAAb,CACxB,CAED,QAASE,EAAT,CAAqB7G,EAArB,CAA2B2G,EAA3B,CAAiC,CAC/B,MAAOD,GAAY1G,EAAZ,CAAkB2G,EAAlB,UACR,CAYD,QAASG,EAAT,CAAkCH,EAAlC,CAAwC,CACtC,MAAO,CACLI,KAAM,CACJ,GAAI5B,IAAIuB,EAAY,IAAZ,CAAkBC,EAAlB,CAAR,CACA,MAAOxB,aAAsB6B,GAAWL,EAAX,EAAiB,IAAjB,CAAtB,CAAkBxB,EAC1B,CAJI,CAKL8B,eALK,CAOR,CAED,QAASC,EAAT,CAAmBlH,EAAnB,CAAyB,MAChBA,GAAKsF,UADW,EAErBtF,GAAKmH,WAAL,CAAiBnH,GAAKsF,UAAtB,CAEH,CAWD,QAAS8B,EAAT,EAAoC,CAClC,GAAIC,IAAiCA,GAA8BN,GAAnE,CACE,MAAOM,IAA8BN,GAA9B,CAAkCxG,IAAlC,CAAuC8F,QAAvC,CAAP,CAFgC,MAGtBiB,IAASC,cAHa,QAIzBlB,SAASmB,aAEnB,CAED,QAASC,EAAT,CAA8BzH,EAA9B,CAAoC,CAClC,GAAI0H,IAASN,GAAb,CACA,GAAI,CAACM,EAAL,CACE,MAAO,KAAP,CAEF,GAAIC,IAAiB,CAAC,CAAE/H,EAAYI,EAAZ,CAAxB,CACA,GAAIA,KAASqG,QAAb,CAAuB,CAGrB,GAAI,CAACsB,EAAL,CACE,MAAO,KAAP,CAKF,GAAI3H,GAAK4H,IAAL,GAAcF,EAAd,EACA,CAAC1H,GAAK4H,IAAL,CAAUC,QAAV,CAAmBH,EAAnB,CADL,CAEE,MAAO,KAEV,CAID,GAAII,IAAa/H,EAAsB2H,EAAtB,CAAjB,CAvBkC,KAwB3BI,IAAcA,KAAe9H,EAxBF,EAyBhC0H,GAASI,GAAWF,IAzBY,CA0BhCE,GAAa/H,EAAsB2H,EAAtB,CA1BmB,OA4B9B1H,MAASqG,QA5BqB,CA8BzByB,GAAa,IAAb,CAAoBJ,EA9BK,CAkCzBI,KAAe9H,EAAf,CAAsB0H,EAAtB,CAA+B,IAEzC,CAiND,QAASK,EAAT,CAA4BlI,EAA5B,CAAiCmI,EAAjC,CAA8CC,EAA9C,CAAqD,CACnD,IAAK,GAAIC,GAAT,GAAcF,GAAd,CAA2B,CACzB,GAAIG,IAAUtH,OAAOC,wBAAP,CAAgCjB,EAAhC,CAAqCqI,EAArC,CAAd,CACKC,IAAWA,GAAQlB,YAApB,EACD,CAACkB,EAAD,EAAYF,EAHU,CAIvBpH,OAAOE,cAAP,CAAsBlB,EAAtB,CAA2BqI,EAA3B,CAA8BF,GAAYE,EAAZ,CAA9B,CAJuB,CAKdD,EALc,EAMvBpD,QAAQuD,IAAR,CAAa,kBAAb,CAAiCF,EAAjC,CAAoC,IAApC,CAA0CrI,EAA1C,CAEH,CACF,CAGD,QAASwI,EAAT,CAAwB3G,EAAxB,CAA+B,CAC7BqG,EAAmBrG,EAAnB,CAA0B4G,EAA1B,CAD6B,CAE7BP,EAAmBrG,EAAnB,CAA0B6G,EAA1B,CAF6B,CAG7BR,EAAmBrG,EAAnB,CAA0B8G,EAA1B,CACD,CAuCD,QAASC,EAAT,CAA4BzI,EAA5B,CAAkC0I,EAAlC,CAA6CC,EAA7C,CAAuD,CAOrD,GANAC,GAA4BF,EAA5B,CAMA,CALAA,GAAU9B,OAAV,CAAoB8B,GAAU9B,OAAV,IAKpB,CAJIC,EAAY6B,EAAZ,CAAuB,YAAvB,CAIJ,GAHEA,GAAU9B,OAAV,CAAkB3B,UAAlB,CAA+B,IAGjC,EAAIjF,GAAK6D,QAAL,GAAkBC,KAAK+E,sBAA3B,CAAmD,CACjD,GAAI7D,IAAKhF,GAAKiF,UAAd,CACA,IAAK,GAAI7D,IAAE,CAAX,CAAcA,GAAI4D,GAAG3D,MAArB,CAA6BD,IAA7B,CACE0H,EAAS9D,GAAG5D,EAAH,CAAT,CAAgBsH,EAAhB,CAA2BC,EAA3B,EAGF3I,GAAK4G,OAAL,CAAe5G,GAAK4G,OAAL,IANkC,CAOjD,GAAImC,IAAUlC,EAAY7G,EAAZ,CAAkB,YAAlB,EAAkC,IAAlC,OAAd,CACAA,GAAK4G,OAAL,CAAatB,UAAb,CAA0BtF,GAAK4G,OAAL,CAAarB,SAAb,CAAyBwD,EARF,CASjD/I,GAAK4G,OAAL,CAAa3B,UAAb,CAA0B8D,EAC3B,CAVD,IAWED,GAAS9I,EAAT,CAAe0I,EAAf,CAA0BC,EAA1B,CAEH,CAED,QAASG,EAAT,CAAkB9I,EAAlB,CAAwB0I,EAAxB,CAAmCC,EAAnC,CAA6C,CAC3CK,GAA6BhJ,EAA7B,CAD2C,CAE3C2I,GAAWA,IAAY,IAFoB,CAG3C3I,GAAK4G,OAAL,CAAe5G,GAAK4G,OAAL,IAH4B,CAI3C8B,GAAU9B,OAAV,CAAoB8B,GAAU9B,OAAV,IAJuB,CAKvC+B,EALuC,GAMzCA,GAAS/B,OAAT,CAAmB+B,GAAS/B,OAAT,IANsB,EAS3C5G,GAAK4G,OAAL,CAAad,eAAb,CAA+B6C,GAAWA,GAAS/B,OAAT,CAAiBd,eAA5B,CAC7B4C,GAAUnD,SAV+B,CAW3C,GAAI0D,IAAKjJ,GAAK4G,OAAL,CAAad,eAAtB,CACImD,IAAMA,GAAGrC,OAZ8B,GAazCqC,GAAGrC,OAAH,CAAWnB,WAAX,CAAyBzF,EAbgB,EAgB3C,GAAIkJ,IAAKlJ,GAAK4G,OAAL,CAAanB,WAAb,CAA2BkD,EAApC,CACIO,IAAMA,GAAGtC,OAjB8B,GAkBzCsC,GAAGtC,OAAH,CAAWd,eAAX,CAA6B9F,EAlBY,EAqB3CA,GAAK4G,OAAL,CAAajD,UAAb,CAA0B+E,EArBiB,CAsBvCC,EAtBuC,CAuBrCA,KAAaD,GAAU9B,OAAV,CAAkBtB,UAvBM,GAwBvCoD,GAAU9B,OAAV,CAAkBtB,UAAlB,CAA+BtF,EAxBQ,GA2BzC0I,GAAU9B,OAAV,CAAkBrB,SAAlB,CAA8BvF,EA3BW,CA4BrC,CAAC0I,GAAU9B,OAAV,CAAkBtB,UA5BkB,GA6BvCoD,GAAU9B,OAAV,CAAkBtB,UAAlB,CAA+BtF,EA7BQ,GAiC3C0I,GAAU9B,OAAV,CAAkB3B,UAAlB,CAA+B,IAChC,CAED,QAASkE,EAAT,CAA2BnJ,EAA3B,CAAiC0I,EAAjC,CAA4C,CAC1C1I,GAAK4G,OAAL,CAAe5G,GAAK4G,OAAL,IAD2B,CAE1C8B,GAAU9B,OAAV,CAAoB8B,GAAU9B,OAAV,IAFsB,CAGtC5G,KAAS0I,GAAU9B,OAAV,CAAkBtB,UAHW,GAIxCoD,GAAU9B,OAAV,CAAkBtB,UAAlB,CAA+BtF,GAAK4G,OAAL,CAAanB,WAJJ,EAMtCzF,KAAS0I,GAAU9B,OAAV,CAAkBrB,SANW,GAOxCmD,GAAU9B,OAAV,CAAkBrB,SAAlB,CAA8BvF,GAAK4G,OAAL,CAAad,eAPH,EAS1C,GAAIoC,IAAIlI,GAAK4G,OAAL,CAAad,eAArB,CACI3E,GAAInB,GAAK4G,OAAL,CAAanB,WADrB,CAEIyC,EAXsC,GAYxCA,GAAEtB,OAAF,CAAYsB,GAAEtB,OAAF,IAZ4B,CAaxCsB,GAAEtB,OAAF,CAAUnB,WAAV,CAAwBtE,EAbgB,EAetCA,EAfsC,GAgBxCA,GAAEyF,OAAF,CAAYzF,GAAEyF,OAAF,IAhB4B,CAiBxCzF,GAAEyF,OAAF,CAAUd,eAAV,CAA4BoC,EAjBY,EAsB1ClI,GAAK4G,OAAL,CAAajD,UAAb,CAA0B3D,GAAK4G,OAAL,CAAad,eAAb,CACxB9F,GAAK4G,OAAL,CAAanB,WAAb,OAvBwC,CAwBtCoB,EAAY6B,EAAZ,CAAuB,YAAvB,CAxBsC,GA0BxCA,GAAU9B,OAAV,CAAkB3B,UAAlB,CAA+B,IA1BS,CA4B3C,CA+BD,QAASmE,EAAT,CAAiBV,EAAjB,CAA4B1I,EAA5B,CAAkC2I,EAAlC,CAA4C,CAC1C,GAAIU,IAAYtJ,EAAsB2I,EAAtB,CAAhB,CACIY,EADJ,CAEID,EAHsC,GAMpCrJ,GAAKuJ,kBAAL,EAA2B,CAACF,GAAUG,cANF,GAOtCH,GAAUI,0BAAV,GAPsC,EAYxCH,GAAUI,GAAwB1J,EAAxB,CAA8B0I,EAA9B,CAAyCW,EAAzC,CAZ8B,CAcpCC,EAdoC,GAetCD,GAAUI,0BAAV,GAfsC,GAkBtC5C,EAAY6B,EAAZ,CAAuB,YAAvB,CAlBsC,EAmBxCD,EAAmBzI,EAAnB,CAAyB0I,EAAzB,CAAoCC,EAApC,CAnBwC,CAwB1C,GAAIgB,IAAUC,GAAiB5J,EAAjB,CAAuB0I,EAAvB,CAAkCW,EAAlC,CAA6CC,EAA7C,GACZZ,GAAUmB,SADZ,CAEA,MAAOF,GACR,CAMD,QAASG,GAAT,CAAoB9J,EAApB,CAA0B,CAExB,GAEI+J,GAFJ,CAAIC,GAAgBnD,EAAY7G,EAAZ,CAAkB,YAAlB,GAClB0G,EAAY1G,EAAZ,CAAkB,YAAlB,CADF,CAGIqJ,GAAYtJ,EAAsBC,EAAtB,CAHhB,CAIA,GAAIgK,IAAiBX,EAArB,CAAgC,CAE9BU,GAAcE,GAAsBjK,EAAtB,CAFgB,CAG1BgK,EAH0B,EAI5Bb,EAAkBnJ,EAAlB,CAAwBgK,EAAxB,CAJ4B,CAO9B,GAAIE,IAAqBb,IACvBc,GAA2Bd,EAA3B,CAAsCrJ,EAAtC,CADF,CAEIoK,GAAuBJ,IAAiBX,EAAjB,EACzBW,GAAc/F,SAAd,GAA4BoF,GAAUgB,oBAAV,EAH9B,CAP8B,CAW1BH,IAAsBE,EAXI,IAY5Bf,GAAUI,0BAAV,GAZ4B,CAa5Ba,GAA2BjB,EAA3B,CAb4B,CAe/B,CAED,MADAkB,IAAsBvK,EAAtB,CACA,CAAO+J,EACR,CAGD,QAASS,GAAT,CAA2BxK,EAA3B,CAAiCyK,EAAjC,CAA4CC,EAA5C,CAAyD,CACvD,GAAIC,IAAW3K,GAAK4G,OAAL,EAAgB5G,GAAK4G,OAAL,CAAa+D,QAA5C,CACIA,EAFmD,GAGjDF,EAHiD,EAInDE,GAASC,UAAT,CAAoBnI,IAApB,CAAyBgI,EAAzB,CAJmD,CAMjDC,EANiD,EAOnDC,GAASE,YAAT,CAAsBpI,IAAtB,CAA2BiI,EAA3B,CAPmD,CASrDC,GAASG,QAAT,EATqD,CAWxD,CAED,QAASC,GAAT,CAA8B/K,EAA9B,CAAoCgK,EAApC,CAAmD,OAC7CA,GAD6C,EAE/CQ,GAAkBR,EAAlB,CAAiC,IAAjC,CAAuChK,EAAvC,CAF+C,CAGxC8J,GAAW9J,EAAX,CAHwC,OAM3CA,GAAK2D,UANsC,EAO7CwD,GAAY5G,IAAZ,CAAiBP,GAAK2D,UAAtB,CAAkC3D,EAAlC,CAP6C,CAS/CuK,GAAsBvK,EAAtB,CAT+C,CAWlD,CAED,QAASgL,GAAT,CAA6BhL,EAA7B,CAAmC,CACjC,QAAeA,GAAKiL,gBAAL,SAAf,CACD,CAED,QAAS/K,GAAT,CAAqBF,EAArB,CAA2B,CACzB,GAAKA,EAAD,EAAUA,GAAK6D,QAAnB,EAGA,GAAI5D,IAAOD,GAAKiL,gBAAhB,CACA,GAAI,WAAJ,CAAwB,CACtB,GAAIrL,EAAYI,EAAZ,CAAJ,CACEC,GAAOD,EADT,KAEO,CACL,GAAIkL,IAASlL,GAAK2D,UAAlB,CACA1D,GAAOiL,GAAShL,GAAYgL,EAAZ,CAAT,CAA+BlL,EACvC,CAMGqG,SAAS8E,eAAT,CAAyBtD,QAAzB,CAAkC7H,EAAlC,CAZkB,GAapBA,GAAKiL,gBAAL,CAAwBhL,EAbJ,CAevB,CACD,MAAOA,GApBP,CAqBD,CAED,QAAS2J,GAAT,CAA0B5J,EAA1B,CAAgC0I,EAAhC,CAA2CW,EAA3C,CAAsDC,EAAtD,CAA+D,CAO7D,GAAI8B,IAAoB/B,IAAaA,GAAUgB,oBAAV,EAAb,EAAiD,EAAzE,CACIgB,GAAerL,GAAK6D,QAAL,GAAkBC,KAAK+E,sBAAxB,EAChB,CAAC7I,GAAKuJ,kBADU,EAEhB6B,EAFgB,EAEKpL,GAAKsL,aAAL,CAAmBF,EAAnB,CAHvB,CAIIG,GAAiBF,IAClBA,GAAY1H,UAAZ,CAAuBE,QAAvB,GACDC,KAAK+E,sBANP,CAOI2C,GAAaH,IAAgBrL,GAAKiE,SAAL,GAAmBmH,EAPpD,CAP6D,CAqBzDI,IAAe9C,GAAUzE,SAAV,GAAwBmH,EAAvC,EAA6D9B,EArBJ,GAsBvDD,EAtBuD,EAyBzDiB,GAA2BjB,EAA3B,CAzByD,CA4B7D,GAAIoC,IAAYC,GAAuBhD,EAAvB,CAAhB,CASA,MARI+C,GAQJ,EAPEnB,GAA2B5B,GAAUmB,SAArC,CAOF,CAAO4B,IAAcD,IAAc,CAACD,EACrC,CAID,QAAS7B,GAAT,CAAiC1J,EAAjC,CAAuCkL,EAAvC,CAA+CjL,EAA/C,CAAqD,CACnD,GAAI0L,GAAJ,CACIP,GAAoBnL,GAAKoK,oBAAL,EADxB,CAEA,GAAIrK,GAAK6D,QAAL,GAAkBC,KAAK+E,sBAAvB,EACF,CAAC7I,GAAKuJ,kBADR,CAC4B,CAC1B,GAAIvE,IAAKhF,GAAK4L,gBAAL,CAAsBR,EAAtB,CAAT,CACA,IAAK,GAASjK,GAAT,CAAY0K,EAAZ,CAAgBC,EAAhB,CAAI1K,GAAE,CAAX,CAA0BA,GAAE4D,GAAG3D,MAAN,GAAkBF,GAAE6D,GAAG5D,EAAH,CAApB,CAAzB,CAAqDA,IAArD,CACEyK,GAAK1K,GAAEwC,UADT,CAGMkI,KAAO7L,EAHb,GAII6L,GAAKX,EAJT,EAMEY,GAAKpC,GAAwBvI,EAAxB,CAA2B0K,EAA3B,CAA+B5L,EAA/B,CANP,CAOE0L,GAAQA,IAASG,EAEpB,CAZD,IAYW9L,IAAKiE,SAAL,GAAmBmH,EAZ9B,GAaEW,GAAiBb,EAAjB,CAbF,CAcEa,GAAiB/L,EAAjB,CAdF,CAeE2L,KAfF,EAiBA,MAAOA,GACR,CAED,QAASD,GAAT,CAAgC1L,EAAhC,CAAsC,CACpC,MAAOA,KAAQA,GAAK6J,SAAb,EACL7J,GAAK6J,SAAL,CAAemC,iBAAf,EACH,CAED,QAAS7B,GAAT,CAAoClK,EAApC,CAA0CyI,EAA1C,CAAqD,CACnD,GAAIuD,GAAJ,CACIC,GAAMjM,GAAKkM,gBADf,CAEA,IAAK,GACCC,GADD,CAAIhL,GAAE,CAAX,CAAcA,GAAE8K,GAAI7K,MAApB,CAA4BD,IAA5B,CAEE,GADIgL,EACJ,CADqBF,GAAI9K,EAAJ,CACrB,CAAIiL,GAAU3D,EAAV,CAAqB0D,EAArB,CAAJ,CAA0C,CACxC,GAAIE,IAAMF,GAAeG,aAAf,CAA6B,CAACC,UAAD,CAA7B,CAAV,CACA,IAAK,GAAIC,IAAE,CAAX,CAAcA,GAAEH,GAAIjL,MAApB,CAA4BoL,IAA5B,CAAiC,CAC/BR,KAD+B,CAE/B,GAAIjM,IAAOsM,GAAIG,EAAJ,CAAX,CACIvB,GAASvH,EAAW3D,EAAX,CADb,CAEIkL,EAJ2B,EAK7B/D,GAAY5G,IAAZ,CAAiB2K,EAAjB,CAAyBlL,EAAzB,CAEH,CACF,CAEH,MAAOiM,GACR,CAED,QAASI,GAAT,CAAmB3D,EAAnB,CAA8B1I,EAA9B,CAAoC,MAC3BA,EAD2B,EACrB,CACX,GAAIA,IAAQ0I,EAAZ,CACE,SAEF1I,GAAOA,GAAK2D,UACb,CACF,CAED,QAAS4G,GAAT,CAA+BvK,EAA/B,CAAqC,CAEnC,GAAIgL,GAAoBhL,EAApB,CAAJ,CAA+B,CAC7B,GAAIgF,IAAKhF,GAAKiF,UAAd,CACA,IAAK,GAAsB9D,GAAtB,CAAIC,GAAE,CAAN,CAAS+D,GAAEH,GAAG3D,MAAnB,CAA+BD,GAAE+D,EAAH,GAAUhE,GAAE6D,GAAG5D,EAAH,CAAZ,CAA9B,CAAkDA,IAAlD,CACEmJ,GAAsBpJ,EAAtB,CAEH,CACDnB,GAAKiL,gBAAL,OACD,CAKD,QAASyB,GAAT,CAA2BN,EAA3B,CAA2C,CACzC,GAAInL,IAAKmL,GAAeG,aAAf,CAA6B,CAACC,UAAD,CAA7B,CAAT,CACIvM,GAAOC,GAAYkM,EAAZ,CADX,CAEA,IAAK,GAAsBjL,GAAtB,CAAIC,GAAE,CAAN,CAAS+D,GAAElE,GAAGI,MAAnB,CAA+BD,GAAE+D,EAAH,GAAUhE,GAAEF,GAAGG,EAAH,CAAZ,CAA9B,CAAkDA,IAAlD,CAEE,GAAInB,GAAK0M,kBAAL,CAAwBP,EAAxB,CAAwCjL,EAAxC,CAAJ,CACE,MAAOA,GAGZ,CAED,QAAS8I,GAAT,CAA+BjK,EAA/B,CAAqC,CACnC,GAAIkL,IAASlL,GAAK2D,UAAlB,CACA,GAAI+H,GAAuBR,EAAvB,CAAJ,CAEE,MADAZ,IAA2BY,GAAOrB,SAAlC,CACA,GAEH,CAED,QAASS,GAAT,CAAoCrK,EAApC,CAA0C,CAExCA,GAAKuJ,cAAL,GAFwC,CAGxCvJ,GAAK2M,MAAL,EACD,CAED,QAASC,GAAT,CAAmC7M,EAAnC,CAAyCS,EAAzC,CAA+C,CAC7C,GAAa,MAAT,KAAJ,CACEwJ,GAAsBjK,EAAtB,CADF,KAEO,IAAuB,MAAnB,MAAKiE,SAAL,EAAsC,MAAT,KAAjC,CAAkD,CACvD,GAAIhE,IAAOF,EAAsBC,EAAtB,CAAX,CACIC,EAFmD,EAGrDA,GAAK2M,MAAL,EAEH,CACF,CAKD,QAASE,GAAT,CAAe9M,EAAf,CAAqB+M,EAArB,CAA8BC,EAA9B,CAAsC,CACpC,GAAIC,MAAJ,CAGA,MAFAC,IAAelN,GAAKiF,UAApB,CAAgC8H,EAAhC,CACEC,EADF,CACUC,EADV,CAEA,CAAOA,EACR,CAED,QAASC,GAAT,CAAwBC,EAAxB,CAAkCJ,EAAlC,CAA2CC,EAA3C,CAAmDC,EAAnD,CAAyD,CACvD,IAAK,GAA4BjK,GAA5B,CAAI5B,GAAE,CAAN,CAAS+D,GAAEgI,GAAS9L,MAAzB,CAAqCD,GAAE+D,EAAH,GAAUnC,GAAEmK,GAAS/L,EAAT,CAAZ,CAApC,CAA8DA,IAA9D,CACE,GAAI4B,GAAEa,QAAF,GAAeC,KAAKC,YAApB,EACAqJ,GAAcpK,EAAd,CAAiB+J,EAAjB,CAA0BC,EAA1B,CAAkCC,EAAlC,CADJ,CAEE,QAGL,CAED,QAASG,GAAT,CAAuBpN,EAAvB,CAA6B+M,EAA7B,CAAsCC,EAAtC,CAA8CC,EAA9C,CAAoD,CAClD,GAAII,IAASN,GAAQ/M,EAAR,CAAb,CADkD,MAE9CqN,GAF8C,EAGhDJ,GAAKxK,IAAL,CAAUzC,EAAV,CAHgD,CAK9CgN,IAAUA,GAAOK,EAAP,CALoC,CAMzCA,EANyC,KAQlDH,IAAelN,GAAKiF,UAApB,CAAgC8H,EAAhC,CACEC,EADF,CACUC,EADV,CAED,CAED,QAASK,GAAT,CAAwBlN,EAAxB,CAAiC,CAC/B,GAAIH,IAAOG,GAAQF,WAAR,EAAX,CACIN,EAAYK,EAAZ,CAF2B,EAG7BA,GAAKsN,MAAL,EAEH,CAED,QAASC,GAAT,CAAwBxN,EAAxB,CAA8BoE,EAA9B,CAAoCC,EAApC,CAA2C,CAErCO,OAAO6I,QAAP,EAA4B,OAAT,KAAnB,EAAuCzN,GAAK0N,aAAL,GAAuBrH,QAFzB,CAGvCzB,OAAO6I,QAAP,CAAgBE,eAAhB,CAAgC3N,EAAhC,CAAsCqE,EAAtC,CAHuC,EAKvCuJ,GAAarN,IAAb,CAAkBP,EAAlB,CAAwBoE,EAAxB,CAA8BC,EAA9B,CALuC,CAMvCwI,GAA0B7M,EAA1B,CAAgCoE,EAAhC,CANuC,CAQ1C,CAED,QAASyJ,GAAT,CAA2B7N,EAA3B,CAAiCoE,EAAjC,CAAuC,CACrC0J,GAAgBvN,IAAhB,CAAqBP,EAArB,CAA2BoE,EAA3B,CADqC,CAErCyI,GAA0B7M,EAA1B,CAAgCoE,EAAhC,CACD,CAQD,QAAS2J,GAAT,CAAwB7C,EAAxB,CAAgClL,EAAhC,CAAsC2I,EAAtC,CAAgD,CAC9C,GAAIA,EAAJ,CAAc,CACZ,GAAIT,IAAIxB,EAAYiC,EAAZ,CAAsB,YAAtB,CAAR,CACA,GAAI,aAAmBT,KAAMgD,EAA7B,CACE,KAAMpI,wEAGT,CAED,GAAI9C,GAAK6D,QAAL,GAAkBC,KAAK+E,sBAA3B,CAAmD,CACjD,GAAIqC,IAASxE,EAAY1G,EAAZ,CAAkB,YAAlB,CAAb,CACA+K,GAAqB/K,EAArB,CAA2BkL,EAA3B,CACD,CACD,GAAI,CAAC9B,EAAQ8B,EAAR,CAAgBlL,EAAhB,CAAsB2I,EAAtB,CAAL,CAAsC,CACpC,GAAIA,EAAJ,CAAc,CAEZ,GAAI1I,IAAOF,EAAsB4I,EAAtB,CAAX,CACI1I,EAHQ,GAIV0I,GAAWA,GAAS1E,SAAT,GAAuBhE,GAAKoK,oBAAL,EAAvB,CACTqC,GAAkB/D,EAAlB,CADS,CACqBA,EALtB,CAOb,CAED,GAAID,IAAY9I,EAAYsL,EAAZ,EACdA,GAAOtD,IADO,CACAsD,EADhB,CAEIvC,EAZgC,CAalCqF,GAAazN,IAAb,CAAkBmI,EAAlB,CAA6B1I,EAA7B,CAAmC2I,EAAnC,CAbkC,CAelCsF,GAAY1N,IAAZ,CAAiBmI,EAAjB,CAA4B1I,EAA5B,CAEH,CAED,MADAwK,IAAkBU,EAAlB,CAA0BlL,EAA1B,CACA,CAAOA,EACR,CAMD,QAASkO,GAAT,CAAuBhD,EAAvB,CAA+BlL,EAA/B,CAAqC,CACnC,GAAIA,GAAK2D,UAAL,GAAoBuH,EAAxB,CACE,KAAMpI,OAAM,uDACV9C,EADI,CAAN,CAGF,GAAI,CAAC8J,GAAW9J,EAAX,CAAL,CAAuB,CAErB,GAAI0I,IAAY9I,EAAYsL,EAAZ,EACdA,GAAOtD,IADO,CAEdsD,EAFF,CAKIiD,GAAexK,EAAW3D,EAAX,CALnB,CAMI0I,KAAcyF,EARG,EASnBhH,GAAY5G,IAAZ,CAAiBmI,EAAjB,CAA4B1I,EAA5B,CAEH,CAED,MADAwK,IAAkBU,EAAlB,CAA0B,IAA1B,CAAgClL,EAAhC,CACA,CAAOA,EACR,CAED,QAASoO,GAAT,CAAqBpO,EAArB,CAA2BqO,EAA3B,CAAiC,CAC/B,GAAsB,UAAlB,KAAKpK,SAAT,CACE,MAAOqK,IAAU/N,IAAV,CAAeP,EAAf,CAAqBqO,EAArB,CAAP,CAEA,GAAIlN,IAAImN,GAAU/N,IAAV,CAAeP,EAAf,IAAR,CACA,GAAIqO,EAAJ,CAAU,CACR,GAAIrJ,IAAKhF,GAAKiF,UAAd,CACA,IAAK,GAASsJ,GAAT,CAAInN,GAAE,CAAX,CAAkBA,GAAI4D,GAAG3D,MAAzB,CAAiCD,IAAjC,CACEmN,GAAKvJ,GAAG5D,EAAH,EAAMkN,SAAN,IADP,CAEEnN,GAAE8M,WAAF,CAAcM,EAAd,CAEH,CACD,MAAOpN,GAEV,CAOD,QAASqN,GAAT,CAAsBxO,EAAtB,CAA4BqO,EAA5B,CAAkC,CAChC,GAAIrO,GAAK0N,aAAL,GAAuBrH,QAA3B,CACE,MAAOoI,IAAWlO,IAAX,CAAgB8F,QAAhB,CAA0BrG,EAA1B,CAAgCqO,EAAhC,CAAP,CAEF,GAAIlN,IAAIsN,GAAWlO,IAAX,CAAgB8F,QAAhB,CAA0BrG,EAA1B,IAAR,CACA,GAAIqO,EAAJ,CAAU,CACR,GAAIrJ,IAAKhF,GAAKiF,UAAd,CACA,IAAK,GAASsJ,GAAT,CAAInN,GAAE,CAAX,CAAkBA,GAAI4D,GAAG3D,MAAzB,CAAiCD,IAAjC,CACEmN,GAAKC,GAAaxJ,GAAG5D,EAAH,CAAb,IADP,CAEED,GAAE8M,WAAF,CAAcM,EAAd,CAEH,CACD,MAAOpN,GACR,CA8DD,QAASuN,GAAT,CAAsBC,EAAtB,CAAiC/K,EAAjC,CAA2C,CACzC,GAAIgL,MAAJ,CACIC,GAAUF,EADd,CAEIG,GAAYH,KAAc/J,MAAd,CAAuBA,MAAvB,CAAgC+J,GAAUzO,WAAV,EAFhD,CADyC,KAIlC2O,EAJkC,EAKvCD,GAAanM,IAAb,CAAkBoM,EAAlB,CALuC,CAOrCA,EAPqC,CAMnCA,GAAQE,YAN2B,CAO3BF,GAAQE,YAPmB,CAQ5BF,GAAQhL,QAAR,GAAqBC,KAAK+E,sBAA1B,EAAoDgG,GAAQjH,IAA5D,GAAqEhE,IAAYiL,KAAYC,EAA7F,CAR4B,CAS3BD,GAAQjH,IATmB,CAW3BiH,GAAQlL,UAXmB,CAkBzC,MAHIiL,IAAaA,GAAavN,MAAb,CAAsB,CAAnC,IAA0CgF,QAG9C,EAFEuI,GAAanM,IAAb,CAAkBmC,MAAlB,CAEF,CAAOgK,EACR,CAED,QAASI,GAAT,CAAkBC,EAAlB,CAA2BC,EAA3B,CAAiC,CAC/B,GAAI,CAACtP,CAAL,CACE,MAAOqP,GAAP,CAIF,GAAIE,IAAcT,GAAaO,EAAb,IAAlB,CACIG,GAAKF,EADT,CAEA,IAAK,GAASG,GAAT,CAAmBC,EAAnB,CAA6BrP,EAA7B,CAAmCsP,EAAnC,CAAInO,GAAE,CAAX,CAAiDA,GAAIgO,GAAG/N,MAAxD,CAAgED,IAAhE,CAOE,GANAiO,GAAWD,GAAGhO,EAAH,CAMX,CALAnB,GAAOoP,KAAazK,MAAb,CAAsBA,MAAtB,CAA+ByK,GAASnP,WAAT,EAKtC,CAJID,IAASqP,EAIb,GAHEC,GAAUJ,GAAYK,OAAZ,CAAoBvP,EAApB,CAGZ,CAFEqP,GAAWrP,EAEb,EAAI,CAACL,EAAYK,EAAZ,CAAD,EAAgC,CAAC,CAAX,GAA1B,CACE,MAAOoP,GAGZ,CA6CD,QAASI,GAAT,CAA2BC,EAA3B,CAAiC,CAG/B,GAAIC,IAAQ,SAASC,EAAT,CAAeC,EAAf,CAAwB,CAClC,GAAIC,IAAQ,GAAIJ,GAAJ,CAASE,EAAT,CAAeC,EAAf,CAAZ,CAEA,MADAC,IAAMC,UAAN,CAAmBF,MAAmBA,GAAQjM,QAC9C,CAAOkM,EACR,CAJD,CAQA,MAFAtO,GAAMmO,EAAN,CAAaD,EAAb,CAEA,CADAC,GAAMK,SAAN,CAAkBN,GAAKM,SACvB,CAAOL,EACR,CAOD,QAASM,GAAT,CAAsBH,EAAtB,CAA6B9P,EAA7B,CAAmCkQ,EAAnC,CAA0C,CACxC,GAAIC,IAAKnQ,GAAKoQ,UAAL,EAAmBpQ,GAAKoQ,UAAL,CAAgBN,GAAMF,IAAtB,CAAnB,EACP5P,GAAKoQ,UAAL,CAAgBN,GAAMF,IAAtB,EAA4BM,EAA5B,CADF,CAEA,GAAIC,EAAJ,CACE,IAAK,GAAWE,GAAX,CAAIjP,GAAI,CAAb,CAAqBiP,GAAKF,GAAG/O,EAAH,CAA1B,CAAkCA,IAAlC,CAEE,GADAiP,GAAG9P,IAAH,CAAQP,EAAR,CAAc8P,EAAd,CACA,CAAIA,GAAMQ,6BAAV,CACE,MAIP,CAED,QAASC,GAAT,CAAkCC,EAAlC,CAAqC,CACnC,GAAItB,IAAOsB,GAAE5B,YAAF,EAAX,CACI5O,EADJ,CAGAa,OAAOE,cAAP,CAAsByP,EAAtB,CAAyB,eAAzB,CAA0C,CACxCzJ,IAAK,UAAW,CACd,MAAO/G,GACR,CAHuC,CAIxCiH,eAJwC,CAA1C,CAJmC,CAUnC,IAAK,GAAI7F,IAAI8N,GAAK7N,MAAL,CAAc,CAA3B,CAAmC,CAAL,IAA9B,CAAsCD,IAAtC,CAIE,GAHApB,GAAOkP,GAAK9N,EAAL,CAGP,CADA6O,GAAaO,EAAb,CAAgBxQ,EAAhB,CAAsB,SAAtB,CACA,CAAIwQ,GAAEC,oBAAN,CACE,OAKJ5P,OAAOE,cAAP,CAAsByP,EAAtB,CAAyB,YAAzB,CAAuC,CAACnM,MAAOqM,MAAMC,SAAd,CAAvC,CApBmC,CAwBnC,GAAIC,GAAJ,CACA,IAAK,GAAIxP,IAAI,CAAb,CAAgBA,GAAI8N,GAAK7N,MAAzB,CAAiCD,IAAjC,CAEE,GADApB,GAAOkP,GAAK9N,EAAL,CACP,EAAU,CAAN,OAAYpB,GAAK6Q,UAAL,EAAmB7Q,GAAK6Q,UAAL,GAAoBD,EAAvD,IACEX,GAAaO,EAAb,CAAgBxQ,EAAhB,CAAsB,QAAtB,CADF,CAGMA,KAAS4E,MAHf,GAIIgM,GAAgB5Q,GAAKE,WAAL,EAJpB,EAMMsQ,GAAEC,oBANR,EAOI,MAIP,CA8HD,QAASK,GAAT,EAAuC,CACrC,IAAK,GAAIC,GAAT,GAAeC,GAAf,CACEpM,OAAOqM,gBAAP,CAAwBF,EAAxB,CAA4B,SAASP,EAAT,CAAY,CACjCA,GAAEU,QAD+B,GAEpCV,GAAEU,QAAF,CAAaV,GAAE7P,MAFqB,CAGpC6P,GAAEW,eAAF,CAAoBX,GAAEY,aAHc,CAIpC3P,EAAe+O,EAAf,CAAkBa,EAAlB,CAJoC,CAKpCd,GAAyBC,EAAzB,CALoC,CAMpCA,GAAEc,wBAAF,EANoC,CAQvC,CARD,IAUH,CAuBD,QAASC,GAAT,CAAmBC,EAAnB,CAA0BC,EAA1B,CAAmCC,EAAnC,CAA+C,CAC7C,MAAO,CACLF,MAAOA,EADF,CAELC,QAASA,EAFJ,CAGLC,WAAYA,EAHP,CAKR,CAqsBD,QAASC,GAAT,CAAsB/J,EAAtB,CAA4BiI,EAA5B,CAAqC,CACnC,GAAI,CAACjI,EAAL,CACE,KAAM,sBAAN,CAEF,GAAI,CAACiI,EAAL,CACE,KAAM,uBAAN,CAEF,MAAO,IAAI+B,GAAJ,CAAcC,EAAd,CAA0CjK,EAA1C,CACR,CAcD,QAASkK,GAAT,CAAyB9R,EAAzB,CAA+B,CAE7B,MADAsN,IAAetN,EAAf,CACA,CAAO0G,EAAY1G,EAAZ,CAAkB,cAAlB,GAAqC,IAC7C,CAoID,QAAS+R,GAAT,CAAsBrQ,EAAtB,CAA6B7B,EAA7B,CAAkC,CAChC,GAAIoB,IAAKJ,OAAOK,mBAAP,CAA2BrB,EAA3B,CAAT,CACA,IAAK,GAAIuB,IAAE,CAAX,CAAcA,GAAIH,GAAGI,MAArB,CAA6BD,IAA7B,CAAkC,CAChC,GAAID,IAAIF,GAAGG,EAAH,CAAR,CACI4Q,GAAInR,OAAOC,wBAAP,CAAgCjB,EAAhC,CAAqCsB,EAArC,CADR,CAKI6Q,GAAE3N,KAN0B,CAO9B3C,GAAMP,EAAN,EAAW6Q,GAAE3N,KAPiB,CAS9BxD,OAAOE,cAAP,CAAsBW,EAAtB,CAA6BP,EAA7B,CAAgC6Q,EAAhC,CAEH,CACF,CAjoFD,GAAI1K,IAAW1C,OAAOqN,QAAP,IAAf,CAEA3K,GAAS4K,kBAAT,IAAsCC,QAAQnC,SAAR,CAAkB2B,YAAlB,EAAkC7N,KAAKkM,SAAL,CAAe9P,WAAvF,CAfa,CAiBb,GAAIkS,IAAOvR,OAAOC,wBAAP,CAAgCgD,KAAKkM,SAArC,CAAgD,YAAhD,CAAX,CAEA1I,GAASC,cAAT,IAAkC6K,IAAQA,GAAKnL,YAAb,EAA6BmL,GAAKrL,GAApE,CAnBa,CAoBbO,GAAS+K,KAAT,CAAiB/K,GAASW,KAAT,EAAkB,CAACX,GAAS4K,kBApBhC,CAiCb,GAAIhK,IAAIiK,QAAQnC,SAAhB,CACI1P,GAAU4H,GAAE5H,OAAF,EAAa4H,GAAE/H,eAAf,EACZ+H,GAAEoK,kBADU,EACYpK,GAAEqK,iBADd,EAEZrK,GAAEsK,gBAFU,EAEUtK,GAAEuK,qBAH1B,CAqDIpQ,EArDJ,CAsDA,GAAIuC,OAAO8N,OAAX,CACErQ,GAAUqQ,QAAQC,OAAR,EADZ,KAEO,CACL,GAAIC,IAAUvM,SAASwM,cAAT,CAAwB,EAAxB,CAAd,CACI9N,GAAU,CADd,CAEA1C,GAAU,CACRC,KAAKwQ,EAAL,CAAS,CAGP,GAAInI,IAAW,GAAIoI,iBAAJ,CAAqB,UAAW,CAC7CpI,GAASqI,UAAT,EAD6C,CAE7CF,IACD,CAHc,CAAf,CAIAnI,GAASsI,OAAT,CAAiBL,EAAjB,CAA0B,CAACM,gBAAD,CAA1B,CAPO,CAQPN,GAAQ1M,WAAR,CAAsBnB,IACvB,CAVO,CAYX,CAaD,GAAInC,IAAmBgC,OAAOuO,cAA9B,CACI3Q,KADJ,CAEIJ,EAFJ,CAGIM,GAAa,CAHjB,CAiCAH,EAAM0K,IAAN,CAAazK,EAtJA,CAkKb,KAAM4Q,GAAc,CAElBC,aAAc,CACZ,KAAKC,UAAL,GADY,CAEZ,KAAK1I,UAAL,GAFY,CAGZ,KAAKC,YAAL,GAHY,CAIZ,KAAK0I,SAAL,CAAiB,GAAIC,IACtB,CAED1I,UAAW,CACJ,KAAKwI,UADD,GAEP,KAAKA,UAAL,GAFO,CAGPjR,GAAQC,IAAR,CAAa,IAAM,CACjB,KAAKC,KAAL,EACD,CAFD,CAHO,CAOV,CAEDA,OAAQ,CACN,GAAI,KAAK+Q,UAAT,CAAqB,CACnB,KAAKA,UAAL,GADmB,CAEnB,GAAIG,IAAY,KAAKC,WAAL,EAAhB,CACID,GAAUpS,MAHK,EAIjB,KAAKkS,SAAL,CAAeI,OAAf,CAAuB,SAASb,EAAT,CAAa,CAClCA,GAAGW,EAAH,CACD,CAFD,CAIH,CACF,CAEDC,aAAc,CACZ,GAAI,KAAK9I,UAAL,CAAgBvJ,MAAhB,EAA0B,KAAKwJ,YAAL,CAAkBxJ,MAAhD,CAAwD,CACtD,GAAIoS,IAAY,CAAC,CACf7I,WAAY,KAAKA,UADF,CAEfC,aAAc,KAAKA,YAFJ,CAAD,CAAhB,CAMA,MAFA,MAAKD,UAAL,GAEA,CADA,KAAKC,YAAL,GACA,CAAO4I,EACR,CACD,QACD,CAzCiB,CAkDpB,GA2DIxF,IAAckE,QAAQnC,SAAR,CAAkB/B,WA3DpC,CA4DID,GAAemE,QAAQnC,SAAR,CAAkBhC,YA5DrC,CA6DI7G,GAAcgL,QAAQnC,SAAR,CAAkB7I,WA7DpC,CA8DIyG,GAAeuE,QAAQnC,SAAR,CAAkBpC,YA9DrC,CA+DIE,GAAkBqE,QAAQnC,SAAR,CAAkBlC,eA/DxC,CAgEIQ,GAAY6D,QAAQnC,SAAR,CAAkB1B,SAhElC,CAiEIG,GAAamF,SAAS5D,SAAT,CAAmBvB,UAjEpC,CAkEIwC,GAAmBkB,QAAQnC,SAAR,CAAkBiB,gBAlEzC,CAmEI4C,GAAsB1B,QAAQnC,SAAR,CAAkB6D,mBAnE5C,CAsEA,GAAIC,IAAgBjT,OAAOkT,MAAP,CAAc,CACjC9F,YAAaA,EADoB,CAEjCD,aAAcA,EAFmB,CAGjC7G,YAAaA,EAHoB,CAIjCyG,aAAcA,EAJmB,CAKjCE,gBAAiBA,EALgB,CAMjCQ,UAAWA,EANsB,CAOjCG,WAAYA,EAPqB,CAQjCwC,iBAAkBA,EARe,CASjC4C,oBAAqBA,EATY,CAAd,CAApB,CA4BA,GAAIzQ,IAAmB,aAAvB,CACIE,GAAmB,cADvB,CAmCIgB,GAAef,wHAnCnB,CAsDImB,GAAmBnB,gFAtDvB,CAuHI6B,GAAaiB,SAASC,gBAAT,CAA0BD,QAA1B,CAAoCE,WAAWyN,QAA/C,CACf,IADe,IAvHjB,CA0HIrO,GAAgBU,SAASC,gBAAT,CAA0BD,QAA1B,CAAoCE,WAAW0N,YAA/C,CAClB,IADkB,IA1HpB,CAwNA,GAAIjN,IAAanG,OAAOkT,MAAP,CAAc,CAC9BpQ,WAAYA,CADkB,CAE9B2B,WAAYA,CAFkB,CAG9BC,UAAWA,CAHmB,CAI9BO,gBAhFD,SAAyB9F,EAAzB,CAA+B,CAE7B,MADAoF,IAAWC,WAAX,CAAyBrF,EACzB,CAAOoF,GAAWU,eAAX,EACR,CAyE8B,CAK9BL,YA5ED,SAAqBzF,EAArB,CAA2B,CAEzB,MADAoF,IAAWC,WAAX,CAAyBrF,EACzB,CAAOoF,GAAWK,WAAX,EACR,CAoE8B,CAM9BR,WAAYA,CANkB,CAO9BiP,cA9DD,SAAuBlU,EAAvB,CAA6B,CAE3B,MADA2F,IAAcN,WAAd,CAA4BrF,EAC5B,CAAO2F,GAAchC,UAAd,EACR,CAoD8B,CAQ9B+B,kBAAmBA,CARW,CAS9BE,iBAAkBA,CATY,CAU9BC,uBAAwBA,CAVM,CAW9BE,mBAAoBA,CAXU,CAY9BC,SAAUA,CAZoB,CAa9BC,UAAWA,CAbmB,CAc9BC,YAAaA,CAdiB,CAAd,CAAjB,CA6DA,KAAMiO,IACJtT,OAAOC,wBAAP,CAAgCqR,QAAQnC,SAAxC,CAAmD,WAAnD,GACAnP,OAAOC,wBAAP,CAAgCsT,YAAYpE,SAA5C,CAAuD,WAAvD,CAFF,CAIMqE,GAAWhO,SAASiO,cAAT,CAAwBC,kBAAxB,CAA2C,OAA3C,CAJjB,CAKMC,GAAgBH,GAASI,aAAT,CAAuB,KAAvB,CALtB,CAOMpN,GAAgCxG,OAAOC,wBAAP,CACpC8S,SAAS5D,SAD2B,CAChB,eADgB,CAPtC,CAuDA,GAAI1H,IAAmB,CAErB4L,cAAepN,EAAyB,eAAzB,CAFM,CAIrBnD,WAAYmD,EAAyB,YAAzB,CAJS,CAMrBrB,YAAaqB,EAAyB,aAAzB,CANQ,CAQrBhB,gBAAiBgB,EAAyB,iBAAzB,CARI,CAUrB4N,UAAW,CACT3N,KAAM,CACJ,MAAO,MAAK4N,YAAL,CAAkB,OAAlB,CACR,CAHQ,CAITlR,IAAIY,EAAJ,CAAW,CACT,KAAKuJ,YAAL,CAAkB,OAAlB,CAA2BvJ,EAA3B,CACD,CANQ,CAOT4C,eAPS,CAVU,CAqBrBlB,mBAAoB,CAClBgB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,aAAlB,CAAJ,CAAsC,CACpC,GAAI1F,IAAI,KAAKsE,WAAb,CADoC,KAE7BtE,IAAKA,GAAE0C,QAAF,GAAeC,KAAKC,YAFI,EAGlC5C,GAAIA,GAAEsE,WAAN,CAEF,MAAOtE,GACR,CACC,MAAO4E,GAAmB,IAAnB,CAEV,CAXiB,CAYlBkB,eAZkB,CArBC,CAoCrBpB,uBAAwB,CACtBkB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,iBAAlB,CAAJ,CAA0C,CACxC,GAAI1F,IAAI,KAAK2E,eAAb,CADwC,KAEjC3E,IAAKA,GAAE0C,QAAF,GAAeC,KAAKC,YAFQ,EAGtC5C,GAAIA,GAAE2E,eAAN,CAEF,MAAO3E,GACR,CACC,MAAO0E,GAAuB,IAAvB,CAEV,CAXqB,CAYtBoB,eAZsB,CApCH,CAAvB,CAqDIsB,GAAkB,CAEpBtD,WAAY,CACV8B,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,YAAlB,CAAJ,CAAqC,CACnC,GAAI,CAAC,KAAKD,OAAL,CAAa3B,UAAlB,CAA8B,CAC5B,KAAK2B,OAAL,CAAa3B,UAAb,GAD4B,CAE5B,IAAK,GAAI9D,IAAE,KAAKmE,UAAhB,CAA4BnE,EAA5B,CAA+BA,GAAEA,GAAEsE,WAAnC,CACE,KAAKmB,OAAL,CAAa3B,UAAb,CAAwBxC,IAAxB,CAA6BtB,EAA7B,CAEH,CACD,MAAO,MAAKyF,OAAL,CAAa3B,UACrB,CACC,MAAOA,GAAW,IAAX,CAEV,CAbS,CAcVgC,eAdU,CAFQ,CAmBpB3B,WAAYwB,EAAyB,YAAzB,CAnBQ,CAqBpBvB,UAAWuB,EAAyB,WAAzB,CArBS,CAuBpBZ,YAAa,CACXa,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,YAAlB,CAAJ,CAAqC,CACnC,GAAI+N,MAAJ,CACA,IAAK,GAAiC5R,GAAjC,CAAI5B,GAAI,CAAR,CAAWyT,GAAK,KAAK5P,UAA1B,CAA0CjC,GAAI6R,GAAGzT,EAAH,CAA9C,CAAsDA,IAAtD,CACM4B,GAAEa,QAAF,GAAeC,KAAKa,YAD1B,EAEIiQ,GAAGnS,IAAH,CAAQO,GAAEkD,WAAV,CAFJ,CAKA,MAAO0O,IAAGE,IAAH,CAAQ,EAAR,CACR,CACC,MAAO5O,GAAY,IAAZ,CAEV,CAbU,CAcXzC,IAAIsR,EAAJ,CAAU,CACJ,KAAKlR,QAAL,GAAkBC,KAAKC,YADnB,EAKNmD,EAAU,IAAV,CALM,CAMF6N,EANE,EAOJ,KAAK9G,WAAL,CAAiB5H,SAASwM,cAAT,CAAwBkC,EAAxB,CAAjB,CAPI,EAGN,KAAK5O,SAAL,CAAiB4O,EAOpB,CAxBU,CAyBX9N,eAzBW,CAvBO,CAoDpBvB,kBAAmB,CACjBqB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,YAAlB,CAAJ,CAAqC,CACnC,GAAI1F,IAAI,KAAKmE,UAAb,CADmC,KAE5BnE,IAAKA,GAAE0C,QAAF,GAAeC,KAAKC,YAFG,EAGjC5C,GAAIA,GAAEsE,WAAN,CAEF,MAAOtE,GACR,CACC,MAAOuE,GAAkB,IAAlB,CAEV,CAXgB,CAYjBuB,eAZiB,CApDC,CAmEpBrB,iBAAkB,CAChBmB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,WAAlB,CAAJ,CAAoC,CAClC,GAAI1F,IAAI,KAAKoE,SAAb,CADkC,KAE3BpE,IAAKA,GAAE0C,QAAF,GAAeC,KAAKC,YAFE,EAGhC5C,GAAIA,GAAE2E,eAAN,CAEF,MAAO3E,GACR,CACC,MAAOyE,GAAiB,IAAjB,CAEV,CAXe,CAYhBqB,eAZgB,CAnEE,CAkFpBjB,SAAU,CACRe,KAAM,OACAF,GAAY,IAAZ,CAAkB,YAAlB,CADA,CAEKmO,MAAMhF,SAAN,CAAgBiF,MAAhB,CAAuB1U,IAAvB,CAA4B,KAAK0E,UAAjC,CAA6C,SAAS9D,EAAT,CAAY,CAC9D,MAAQA,IAAE0C,QAAF,GAAeC,KAAKC,YAC7B,CAFM,CAFL,CAMKiC,EAAS,IAAT,CAEV,CATO,CAURiB,eAVQ,CAlFU,CAgGpBhB,UAAW,CACTc,KAAM,CACJ,GAAIhC,IAA6B,UAAnB,QAAKd,SAAL,CAAgC,KAAKc,OAArC,CAA+C,IAA7D,CADI,MAEA8B,GAAY,IAAZ,CAAkB,YAAlB,CAFA,CAGKtC,EAAaQ,EAAb,CAHL,CAKKkB,EAAUlB,EAAV,CAEV,CARQ,CASTtB,IAAIsR,EAAJ,CAAU,CACR,GAAIhQ,IAA6B,UAAnB,QAAKd,SAAL,CAAgC,KAAKc,OAArC,CAA+C,IAA7D,CADQ,IAERmC,EAAUnC,EAAV,CAFQ,CAGJoP,IAAuBA,GAAoB1Q,GAHvC,CAIN0Q,GAAoB1Q,GAApB,CAAwBlD,IAAxB,CAA6BiU,EAA7B,CAA4CO,EAA5C,CAJM,CAMNP,GAAcvO,SAAd,CAA0B8O,EANpB,CAQDP,GAAclP,UARb,EASNP,GAAQkJ,WAAR,CAAoBuG,GAAclP,UAAlC,CAEH,CApBQ,CAqBT2B,eArBS,CAhGS,CArDtB,CAkLIiO,GAAqB,CACvBrE,WAAY,CACV9J,KAAM,CACJ,MAAO,MAAK8C,SACb,CAHS,CAIVpG,IAAIY,EAAJ,CAAW,CACT,KAAKwF,SAAL,CAAiBxF,EAClB,CANS,CAOV4C,eAPU,CADW,CAlLzB,CAiMIuB,GAAwB,CAE1BhB,cAAe,CACbT,KAAM,CACJ,MAAOU,GAAqB,IAArB,CACR,CAHY,CAIbhE,KAAM,CAAE,CAJK,CAKbwD,eALa,CAFW,CAjM5B,CAyOI+B,GAA+B1B,GAASC,cAAT,CACjC,UAAW,CAAE,CADoB,CACjB,SAASnH,EAAT,CAAkB,CAC1BA,GAAQwG,OAAR,EAAmBxG,GAAQwG,OAAR,CAAgBuO,kBADT,GAE9B/U,GAAQwG,OAAR,CAAkBxG,GAAQwG,OAAR,IAFY,CAG9BxG,GAAQwG,OAAR,CAAgBuO,kBAAhB,GAH8B,CAI9BpN,EAAmB3H,EAAnB,CAA4BkI,EAA5B,IAJ8B,CAMjC,CAhPH,CAmPIM,GAA8BtB,GAASC,cAAT,CAChC,UAAW,CAAE,CADmB,CAChB,SAASnH,EAAT,CAAkB,CAC1BA,GAAQwG,OAAR,EAAmBxG,GAAQwG,OAAR,CAAgBwO,iBADT,GAE9BhV,GAAQwG,OAAR,CAAkBxG,GAAQwG,OAAR,IAFY,CAG9BxG,GAAQwG,OAAR,CAAgBwO,iBAAhB,GAH8B,CAI9BrN,EAAmB3H,EAAnB,CAA4BmI,EAA5B,IAJ8B,CAK9BR,EAAmB3H,EAAnB,CAA4B8U,EAA5B,IAL8B,CAOjC,CA3PH,CA+VInJ,GAAmB,SAAS/L,EAAT,CAAe,CACpC,GAAI,CAAC6G,EAAY7G,EAAZ,CAAkB,YAAlB,CAAL,CAAsC,CACpCA,GAAK4G,OAAL,CAAe5G,GAAK4G,OAAL,IADqB,CAEpC5G,GAAK4G,OAAL,CAAatB,UAAb,CAA0BA,EAAWtF,EAAX,CAFU,CAGpCA,GAAK4G,OAAL,CAAarB,SAAb,CAAyBA,EAAUvF,EAAV,CAHW,CAIpC4I,GAA4B5I,EAA5B,CAJoC,CAKpC,GAAIgF,IAAKhF,GAAK4G,OAAL,CAAa3B,UAAb,CAA0BA,EAAWjF,EAAX,CAAnC,CACA,IAAK,GAASmB,GAAT,CAAIC,GAAE,CAAX,CAAkBA,GAAE4D,GAAG3D,MAAN,GAAkBF,GAAE6D,GAAG5D,EAAH,CAApB,CAAjB,CAA6CA,IAA7C,CACED,GAAEyF,OAAF,CAAYzF,GAAEyF,OAAF,IADd,CAEEzF,GAAEyF,OAAF,CAAUjD,UAAV,CAAuB3D,EAFzB,CAGEmB,GAAEyF,OAAF,CAAUnB,WAAV,CAAwBT,GAAG5D,GAAE,CAAL,GAAW,IAHrC,CAIED,GAAEyF,OAAF,CAAUd,eAAV,CAA4Bd,GAAG5D,GAAE,CAAL,GAAW,IAJzC,CAKE4H,GAA6B7H,EAA7B,CAEH,CACF,CA9WD,CAyyBIkU,GAAiB,CACnBC,OADmB,CAEnBC,QAFmB,CAGnBC,UAHmB,CAInBC,WAJmB,CAKnBC,QALmB,CAMnBC,WANmB,CAOnBC,YAPmB,CAQnBC,aARmB,CASnBC,aATmB,CAUnBC,YAVmB,CAWnBC,WAXmB,CAYnBC,YAZmB,CAanBC,UAbmB,CAcnBC,QAdmB,CAenBC,cAfmB,CAgBnBC,QAhBmB,CAiBnBC,UAjBmB,CAkBnBC,QAlBmB,CAmBnBC,mBAnBmB,CAoBnBC,oBApBmB,CAqBnBC,iBArBmB,CAsBnBC,aAtBmB,CAuBnBC,WAvBmB,CAwBnBC,YAxBmB,CAyBnBC,cAzBmB,CA0BnBC,cA1BmB,CA2BnBC,eA3BmB,CA4BnBC,cA5BmB,CA6BnBC,cA7BmB,CA8BnBC,YA9BmB,CA+BnBC,gBA/BmB,CAgCnBC,aAhCmB,CAiCnBC,eAjCmB,CAkCnBC,oBAlCmB,CAmCnBC,qBAnCmB,CAoCnBC,YApCmB,CAqCnBC,OArCmB,CAsCnBC,YAtCmB,CAuCnBC,YAvCmB,CAwCnBC,WAxCmB,CAyCnBC,OAzCmB,CA0CnBC,UA1CmB,CA2CnBC,cA3CmB,CA4CnBC,aA5CmB,CA6CnBC,cA7CmB,CA8CnBC,WA9CmB,CAzyBrB,CAo4BI9G,GAAa,CAEf,GAAIzN,SAAJ,EAAe,CAIb,MAHI,MAAKwU,SAAL,EAAkB,cAAKrI,UAG3B,GAFE,KAAKA,UAAL,CAAkBsF,GAAe,KAAKzF,IAApB,CAEpB,EAAO,KAAKG,UAAL,IACR,CAPc,CASfnB,cAAe,CAIb,MAHK,MAAKyJ,cAGV,GAFE,KAAKA,cAAL,CAAsB3J,GAAa,KAAKwC,QAAlB,CAA4B,KAAKtN,QAAjC,CAExB,EAAO,KAAKyU,cACb,CAdc,CAgBf,GAAI1X,OAAJ,EAAa,CACX,MAAOqO,IAAS,KAAKsJ,aAAd,CAA6B,KAAK1J,YAAL,EAA7B,CACR,CAlBc,CAqBf,GAAIwC,cAAJ,EAAoB,OACb,MAAKD,eADQ,EAIb,KAAKoH,2BAJQ,GAKhB,KAAKA,2BAAL,CAAmC7J,GAAa,KAAKyC,eAAlB,IALnB,EAQXnC,GAAS,KAAKsJ,aAAd,CAA6B,KAAKC,2BAAlC,CARW,EAET,IAOV,CA9Bc,CA+BfC,iBAAkB,CAChB9H,MAAMV,SAAN,CAAgBwI,eAAhB,CAAgCjY,IAAhC,CAAqC,IAArC,CADgB,CAEhB,KAAKkQ,oBAAL,GACD,CAlCc,CAmCfa,0BAA2B,CACzBZ,MAAMV,SAAN,CAAgBsB,wBAAhB,CAAyC/Q,IAAzC,CAA8C,IAA9C,CADyB,CAEzB,KAAK+P,6BAAL,GAFyB,CAGzB,KAAKG,oBAAL,GACD,CAvCc,CAp4BjB,CA67BIO,GAA8B,CAChCuE,QADgC,CAEhCD,OAFgC,CA77BlC,CAioCImD,GAAehJ,GAAkB7K,OAAO8L,KAAzB,CAjoCnB,CAkoCIgI,GAAqBjJ,GAAkB7K,OAAO+T,WAAzB,CAloCzB,CAmoCIC,GAAoBnJ,GAAkB7K,OAAOiU,UAAzB,CAnoCxB,CA8pCA,KAAMC,IAAa,CAAnB,CACMC,GAAc,CADpB,CAEMC,GAAW,CAFjB,CAGMC,GAAc,CAHpB,CAKA,GAAIC,IAAc,CAahBC,kBAAkBtK,EAAlB,CAA2BuK,EAA3B,CAAyCC,EAAzC,CAC4BC,EAD5B,CACiCC,EADjC,CAC2CC,EAD3C,CACmD,CAEjD,GAAIC,IAAWD,GAASD,EAAT,CAAoB,CAAnC,CACIG,GAAcL,GAAaD,EAAb,CAA4B,CAD9C,CAEIO,GAAgB3E,KAAhB,CAAsByE,EAAtB,CAFJ,CAKA,IAAK,GAAIrY,IAAI,CAAb,CAAgBA,GAAIqY,EAApB,CAA8BrY,IAA9B,CACEuY,GAAUvY,EAAV,EAAmB4T,KAAnB,CAAyB0E,EAAzB,CADF,CAEEC,GAAUvY,EAAV,EAAa,CAAb,EAAkBA,EAFpB,CAMA,IAAK,GAAIqL,IAAI,CAAb,CAAgBA,GAAIiN,EAApB,CAAiCjN,IAAjC,CACEkN,GAAU,CAAV,EAAalN,EAAb,EAAkBA,EAAlB,CAEF,IAAK,GAAIrL,IAAI,CAAb,CAAgBA,GAAIqY,EAApB,CAA8BrY,IAA9B,CACE,IAAK,GAAIqL,IAAI,CAAb,CAAgBA,GAAIiN,EAApB,CAAiCjN,IAAjC,CACE,GAAI,KAAKmN,MAAL,CAAY/K,GAAQuK,GAAe3M,EAAf,CAAmB,CAA3B,CAAZ,CAA2C6M,GAAIC,GAAWnY,EAAX,CAAe,CAAnB,CAA3C,CAAJ,CACEuY,GAAUvY,EAAV,EAAaqL,EAAb,EAAkBkN,GAAUvY,GAAI,CAAd,EAAiBqL,GAAI,CAArB,CAAlB,CADF,IAEK,CACH,GAAIoN,IAAQF,GAAUvY,GAAI,CAAd,EAAiBqL,EAAjB,EAAsB,CAAlC,CACIqN,GAAOH,GAAUvY,EAAV,EAAaqL,GAAI,CAAjB,EAAsB,CADjC,CAEAkN,GAAUvY,EAAV,EAAaqL,EAAb,EAAkBoN,GAAQC,EAAR,CAAeD,EAAf,CAAuBC,EAC1C,CAIL,MAAOH,GACR,CA3Ce,CAgDhBI,kCAAkCJ,EAAlC,CAA6C,CAC3C,GAAIvY,IAAIuY,GAAUtY,MAAV,CAAmB,CAA3B,CACIoL,GAAIkN,GAAU,CAAV,EAAatY,MAAb,CAAsB,CAD9B,CAEIwN,GAAU8K,GAAUvY,EAAV,EAAaqL,EAAb,CAFd,CAGIuN,KAHJ,CAD2C,KAKhC,CAAJ,KAAa,CAAJ,GAL2B,EAKpB,CACrB,GAAS,CAAL,IAAJ,CAAY,CACVA,GAAMvX,IAAN,CAAWuW,EAAX,CADU,CAEVvM,IAFU,CAGV,QACD,CACD,GAAS,CAAL,IAAJ,CAAY,CACVuN,GAAMvX,IAAN,CAAWwW,EAAX,CADU,CAEV7X,IAFU,CAGV,QACD,CACD,GAII6Y,GAJJ,CAAIC,GAAYP,GAAUvY,GAAI,CAAd,EAAiBqL,GAAI,CAArB,CAAhB,CACIqN,GAAOH,GAAUvY,GAAI,CAAd,EAAiBqL,EAAjB,CADX,CAEIoN,GAAQF,GAAUvY,EAAV,EAAaqL,GAAI,CAAjB,CAFZ,CAMEwN,EAjBmB,CAgBjBH,GAAOD,EAhBU,CAiBbC,GAAOI,EAAP,CAAmBJ,EAAnB,CAA0BI,EAjBb,CAmBbL,GAAQK,EAAR,CAAoBL,EAApB,CAA4BK,EAnBf,CAqBjBD,IAAOC,EArBU,EAsBfA,IAAarL,EAtBE,CAuBjBmL,GAAMvX,IAAN,CAAWqW,EAAX,CAvBiB,EAyBjBkB,GAAMvX,IAAN,CAAWsW,EAAX,CAzBiB,CA0BjBlK,GAAUqL,EA1BO,EA4BnB9Y,IA5BmB,CA6BnBqL,IA7BmB,EA8BVwN,IAAOH,EA9BG,EA+BnBE,GAAMvX,IAAN,CAAWwW,EAAX,CA/BmB,CAgCnB7X,IAhCmB,CAiCnByN,GAAUiL,EAjCS,GAmCnBE,GAAMvX,IAAN,CAAWuW,EAAX,CAnCmB,CAoCnBvM,IApCmB,CAqCnBoC,GAAUgL,EArCS,CAuCtB,CAGD,MADAG,IAAMG,OAAN,EACA,CAAOH,EACR,CAhGe,CA0HhBI,YAAYvL,EAAZ,CAAqBuK,EAArB,CAAmCC,EAAnC,CACsBC,EADtB,CAC2BC,EAD3B,CACqCC,EADrC,CAC6C,CAC3C,GAEIa,GAFJ,CAAIC,GAAc,CAAlB,CACIC,GAAc,CADlB,CAIIC,GAAYC,KAAKR,GAAL,CAASZ,GAAaD,EAAtB,CAAoCI,GAASD,EAA7C,CAJhB,CAgBA,GAXoB,CAAhB,MAAiC,CAAZ,IAWzB,GAVEe,GAAc,KAAKI,YAAL,CAAkB7L,EAAlB,CAA2ByK,EAA3B,CAAgCkB,EAAhC,CAUhB,EARInB,IAAcxK,GAAQxN,MAAtB,EAAgCmY,IAAUF,GAAIjY,MAQlD,GAPEkZ,GAAc,KAAKI,YAAL,CAAkB9L,EAAlB,CAA2ByK,EAA3B,CAAgCkB,GAAYF,EAA5C,CAOhB,EALAlB,IAAgBkB,EAKhB,CAJAf,IAAYe,EAIZ,CAHAjB,IAAckB,EAGd,CAFAf,IAAUe,EAEV,CAAiC,CAA7B,KAAanB,EAAb,EAAuD,CAArB,KAASG,EAA/C,CACE,SAEF,GAAIH,IAAgBC,EAApB,CAAgC,KAC9BgB,GAAS9I,GAAU6H,EAAV,IAA4B,CAA5B,CADqB,CAEvBG,GAAWC,EAFY,EAG5Ba,GAAO5I,OAAP,CAAehP,IAAf,CAAoB6W,GAAIC,IAAJ,CAApB,EAEF,MAAO,CAAEc,EAAF,CACR,CAAM,GAAId,IAAYC,EAAhB,CACL,MAAO,CAAEjI,GAAU6H,EAAV,IAA4BC,GAAaD,EAAzC,CAAF,CAAP,CAEF,GAAIwB,IAAM,KAAKb,iCAAL,CACN,KAAKZ,iBAAL,CAAuBtK,EAAvB,CAAgCuK,EAAhC,CAA8CC,EAA9C,CACuBC,EADvB,CAC4BC,EAD5B,CACsCC,EADtC,CADM,CAAV,CAIAa,SAjC2C,CAkC3C,GAAIQ,MAAJ,CACIrJ,GAAQ4H,EADZ,CAEI0B,GAAWvB,EAFf,CAGA,IAAK,GAAInY,IAAI,CAAb,CAAgBA,GAAIwZ,GAAIvZ,MAAxB,CAAgCD,IAAhC,CACE,OAAOwZ,GAAIxZ,EAAJ,CAAP,EACE,IAAK0X,GAAL,CACMuB,EADN,GAEIQ,GAAQpY,IAAR,CAAa4X,EAAb,CAFJ,CAGIA,SAHJ,EAME7I,IANF,CAOEsJ,IAPF,CAQE,MACF,IAAK/B,GAAL,CACOsB,EADP,GAEIA,GAAS9I,GAAUC,EAAV,IAAqB,CAArB,CAFb,EAIE6I,GAAO3I,UAAP,EAJF,CAKEF,IALF,CAOE6I,GAAO5I,OAAP,CAAehP,IAAf,CAAoB6W,GAAIwB,EAAJ,CAApB,CAPF,CAQEA,IARF,CASE,MACF,IAAK9B,GAAL,CACOqB,EADP,GAEIA,GAAS9I,GAAUC,EAAV,IAAqB,CAArB,CAFb,EAIE6I,GAAO3I,UAAP,EAJF,CAKEF,IALF,CAME,MACF,IAAKyH,GAAL,CACOoB,EADP,GAEIA,GAAS9I,GAAUC,EAAV,IAAqB,CAArB,CAFb,EAIE6I,GAAO5I,OAAP,CAAehP,IAAf,CAAoB6W,GAAIwB,EAAJ,CAApB,CAJF,CAKEA,IALF,CA3BF,CAwCF,MAHIT,GAGJ,EAFEQ,GAAQpY,IAAR,CAAa4X,EAAb,CAEF,CAAOQ,EACR,CA1Me,CA4MhBH,aAAa7L,EAAb,CAAsByK,EAAtB,CAA2ByB,EAA3B,CAAyC,CACvC,IAAK,GAAI3Z,IAAI,CAAb,CAAgBA,GAAI2Z,EAApB,CAAkC3Z,IAAlC,CACE,GAAI,CAAC,KAAKwY,MAAL,CAAY/K,GAAQzN,EAAR,CAAZ,CAAwBkY,GAAIlY,EAAJ,CAAxB,CAAL,CACE,MAAOA,GAAP,CACJ,MAAO2Z,GACR,CAjNe,CAmNhBJ,aAAa9L,EAAb,CAAsByK,EAAtB,CAA2ByB,EAA3B,CAAyC,CACvC,GAAIC,IAASnM,GAAQxN,MAArB,CACI4Z,GAAS3B,GAAIjY,MADjB,CAEI6Z,GAAQ,CAFZ,CADuC,KAIhCA,GAAQH,EAAR,EAAwB,KAAKnB,MAAL,CAAY/K,GAAQ,EAAEmM,EAAV,CAAZ,CAA+B1B,GAAI,EAAE2B,EAAN,CAA/B,CAJQ,EAKrCC,KAEF,MAAOA,GACR,CA3Ne,CA6NhBC,iBAAiBtM,EAAjB,CAA0BuM,EAA1B,CAAoC,CAClC,MAAO,MAAKhB,WAAL,CAAiBvL,EAAjB,CAA0B,CAA1B,CAA6BA,GAAQxN,MAArC,CAA6C+Z,EAA7C,CAAuD,CAAvD,CACiBA,GAAS/Z,MAD1B,CAER,CAhOe,CAkOhBuY,OAAOyB,EAAP,CAAqBC,EAArB,CAAoC,CAClC,MAAOD,MAAiBC,EACzB,CApOe,CAAlB,CAwOIH,GAAmB,CAACtM,EAAD,CAAUuM,EAAV,GACrBlC,GAAYiC,gBAAZ,CAA6BtM,EAA7B,CAAsCuM,EAAtC,CAzOF,CAsPIG,GAAmC,UAAjB,QAAO7K,MAAP,CAA8BA,KAA9B,CACpB,SAAS8K,EAAT,CAAiBC,EAAjB,CAAyB,CACvBA,GAASA,MADc,CAEvB,GAAIjL,IAAInK,SAASqV,WAAT,CAAqB,OAArB,CAAR,CAEA,MADAlL,IAAEmL,SAAF,CAAYH,EAAZ,GAA4BC,GAAOG,OAAnC,GAAqDH,GAAOI,UAA5D,CACA,CAAOrL,EACR,CA5PH,CA8PA,GAAIsL,IAAc,KAAM,CAEtBzI,YAAYpT,EAAZ,CAAkB,CAChB,KAAKA,IAAL,CAAYA,EADI,CAEhB,KAAKmL,iBAAL,CAAyB,MAC1B,CAED2Q,oBAAqB,CACnB,MAAO,MAAK9b,IAAL,CAAU2L,gBAAV,CAA2B,KAAKR,iBAAhC,CACR,CAEDY,mBAAoB,CAClB,SAAe,KAAK/L,IAAL,CAAUkM,gBAAV,EACb,KAAKlM,IAAL,CAAUkM,gBAAV,CAA2B9K,MAD7B,CAED,CAED2a,iBAAiBhc,EAAjB,CAAuB,CACrB,MAAOA,IAAKiE,SAAL,EAAkBjE,GAAKiE,SAAL,EAAkB,KAAKmH,iBACjD,CAED6Q,YAAa,OACP,MAAKjQ,iBAAL,EADO,CAEF,KAAKkQ,cAAL,CAAoB,KAAKjc,IAAzB,CAA+B,KAAKkc,WAAL,EAA/B,CAFE,GAKZ,CAIDA,aAAc,CACZ,GAAIvU,IAAO,KAAK3H,IAAL,CAAU2H,IAArB,CACIwU,KADJ,CACahb,GAAE,CADf,CAEA,IAAK,GAAID,IAAEyG,GAAKtC,UAAhB,CAA4BnE,EAA5B,CAA+BA,GAAEA,GAAEsE,WAAnC,CACE2W,GAAKhb,IAAL,EAAYD,EAAZ,CAEF,MAAOib,GACR,CAKDF,eAAelc,EAAf,CAAqBoc,EAArB,CAA2B,CACzB,GAAIC,MAAJ,CACIjN,GAAK,KAAKnP,IAAL,CAAUkM,gBADnB,CAEA,IAAK,GAAsBjE,GAAtB,CAAI9G,GAAE,CAAN,CAAS+D,GAAEiK,GAAG/N,MAAnB,CAA+BD,GAAE+D,EAAH,GAAU+C,GAAEkH,GAAGhO,EAAH,CAAZ,CAA9B,CAAkDA,IAAlD,CAAuD,CACrD,KAAKkb,wBAAL,CAA8BpU,EAA9B,CAAiCkU,EAAjC,CADqD,CAMrD,GAAIlR,IAAShD,GAAEvE,UAAf,CACIuH,IAAUA,GAAOrB,SAAjB,EACA,KAAKmC,iBAAL,CAAuBd,GAAOrB,SAA9B,CARiD,EASnDwS,GAAW5Z,IAAX,CAAgByI,GAAOrB,SAAvB,CAEH,CACD,IAAK,GACC3B,GADD,CAAI9G,GAAE,CAAX,CAAcA,GAAIgb,GAAK/a,MAAvB,CAA+BD,IAA/B,CAEE,GADI8G,EACJ,CADQkU,GAAKhb,EAAL,CACR,CAAI8G,EAAJ,CAAO,CACLA,GAAEtB,OAAF,CAAYsB,GAAEtB,OAAF,IADP,CAELsB,GAAEtB,OAAF,CAAUmI,YAAV,OAFK,CAIL,GAAI7D,IAASvH,EAAWuE,EAAX,CAAb,CACIgD,EALC,EAMH/D,GAAY5G,IAAZ,CAAiB2K,EAAjB,CAAyBhD,EAAzB,CAEH,CAEH,MAAOmU,GACR,CAEDC,yBAAyBlQ,EAAzB,CAAyCgQ,EAAzC,CAA+C,CAC7C,GAAIG,IAAoBnQ,GAAexF,OAAf,CAAuB2F,aAA/C,CACIgQ,EAFyC,EAG3C,KAAKC,kBAAL,CAAwBpQ,EAAxB,IAH2C,CAK7CA,GAAexF,OAAf,CAAuB2F,aAAvB,GAL6C,CAM7C,GAAIkQ,MAAJ,CAEIC,KAFJ,CAGA,IAAK,GAAwB1c,GAAxB,CAAIoB,GAAE,CAAN,CAAS+D,GAAEiX,GAAK/a,MAArB,CAAmCD,GAAI+D,EAAvC,CAA0C/D,IAA1C,EACEpB,GAAKoc,GAAKhb,EAAL,CADP,EAGM,CAACpB,EAHP,GAOM,KAAK2c,qBAAL,CAA2B3c,EAA3B,CAAiCoM,EAAjC,CAPN,GAQQpM,GAAK4G,OAAL,CAAagW,iBAAb,EAAkCxQ,EAR1C,GASMqQ,KATN,EAWI,KAAKI,kBAAL,CAAwB7c,EAAxB,CAA8BoM,EAA9B,CAXJ,CAaIgQ,GAAKhb,EAAL,QAbJ,CAeIsb,KAfJ,EAmBA,GAAI,CAACA,EAAL,CAAqB,CACnB,GAAII,IAAc1Q,GAAenH,UAAjC,CACA,IAAK,GAAWjF,GAAX,CAAIyM,GAAI,CAAb,CAAsBA,GAAIqQ,GAAYzb,MAAtC,CAA8CoL,IAA9C,CACEzM,GAAO8c,GAAYrQ,EAAZ,CADT,CAEMzM,GAAK4G,OAAL,CAAagW,iBAAb,EAAkCxQ,EAFxC,GAGIqQ,KAHJ,EAKE,KAAKI,kBAAL,CAAwB7c,EAAxB,CAA8BoM,EAA9B,CAEH,CAGD,GAAImQ,EAAJ,CAAuB,CAIrB,IAAK,GAAInb,IAAE,CAAX,CAAcA,GAAImb,GAAkBlb,MAApC,CAA4CD,IAA5C,CACEmb,GAAkBnb,EAAlB,EAAqBwF,OAArB,CAA6BgW,iBAA7B,CAAiD,IAAjD,CAEExQ,GAAexF,OAAf,CAAuB2F,aAAvB,CAAqClL,MAArC,CAA8Ckb,GAAkBlb,MAP/C,GAQnBob,KARmB,CAUtB,CACD,KAAKM,mCAAL,CAAyC3Q,EAAzC,CAnD6C,CAoDzCqQ,EApDyC,EAqD3C,KAAKO,eAAL,CAAqB5Q,EAArB,CAEH,CAEDoQ,mBAAmBS,EAAnB,CAAyBC,EAAzB,CAAuC,CACrC,GAAIjc,IAAKgc,GAAKrW,OAAL,CAAa2F,aAAtB,CACA,GAAItL,EAAJ,CACE,IAAK,GACCE,GADD,CAAIC,GAAE,CAAX,CAAcA,GAAIH,GAAGI,MAArB,CAA6BD,IAA7B,CACMD,EADN,CACUF,GAAGG,EAAH,CADV,CAEM8b,EAFN,GAGI/b,GAAEyF,OAAF,CAAUgW,iBAAV,CAA8Bzb,GAAEyF,OAAF,CAAUmI,YAH5C,EAQM5N,GAAEyF,OAAF,CAAUmI,YAAV,GAA2BkO,EARjC,GASI9b,GAAEyF,OAAF,CAAUmI,YAAV,CAAyB,IAT7B,CAaH,CAED4N,sBAAsB3c,EAAtB,CAA4BoM,EAA5B,CAA4C,CAC1C,GAAI+Q,IAAW/Q,GAAeuI,YAAf,CAA4B,MAA5B,CAAf,CACAwI,GAAWA,GAAWA,GAASC,IAAT,EAAX,CAA6B,EAFE,CAG1C,GAAIH,IAAOjd,GAAK2U,YAAL,EAAqB3U,GAAK2U,YAAL,CAAkB,MAAlB,CAAhC,CAEA,MADAsI,IAAOA,GAAOA,GAAKG,IAAL,EAAP,CAAqB,EAC5B,CAAQH,IAAQE,EACjB,CAEDN,mBAAmB3X,EAAnB,CAA0BkH,EAA1B,CAA0C,CACxCA,GAAexF,OAAf,CAAuB2F,aAAvB,CAAqC9J,IAArC,CAA0CyC,EAA1C,CADwC,CAExCA,GAAM0B,OAAN,CAAcmI,YAAd,CAA6B3C,EAC9B,CAED2Q,oCAAoC3Q,EAApC,CAAoD,CAClD,GAAInL,IAAKmL,GAAexF,OAAf,CAAuB2F,aAAhC,CACAH,GAAexF,OAAf,CAAuByW,gBAAvB,GAFkD,CAGlD,IAAK,GAASlc,GAAT,CAAIC,GAAE,CAAX,CAAkBA,GAAEH,GAAGI,MAAN,GAAkBF,GAAEF,GAAGG,EAAH,CAApB,CAAjB,CAA8CA,IAA9C,CACE,GAAI,KAAK4a,gBAAL,CAAsB7a,EAAtB,CAAJ,CAA8B,CAC5B,GAAImc,IAAKnc,GAAEyF,OAAF,CAAUyW,gBAAnB,CACA,GAAIC,EAAJ,CACE,IAAK,GAAI7Q,IAAE,CAAX,CAAcA,GAAI6Q,GAAGjc,MAArB,CAA6BoL,IAA7B,CACEL,GAAexF,OAAf,CAAuByW,gBAAvB,CAAwC5a,IAAxC,CAA6C6a,GAAG7Q,EAAH,CAA7C,CAGL,CAPD,IAQEL,IAAexF,OAAf,CAAuByW,gBAAvB,CAAwC5a,IAAxC,CAA6CxB,GAAGG,EAAH,CAA7C,CAGL,CAED4b,gBAAgB5Q,EAAhB,CAAgC,CAI9BA,GAAemR,aAAf,CAA6B,GAAIhC,GAAJ,CAAoB,YAApB,CAA7B,CAJ8B,CAK1BnP,GAAexF,OAAf,CAAuBmI,YALG,EAM5B,KAAKiO,eAAL,CAAqB5Q,GAAexF,OAAf,CAAuBmI,YAA5C,CAEH,CAEDpC,mBAAmBP,EAAnB,CAAmC,CACjC,MAAO,CAAEA,GAAexF,OAAf,CAAuBmI,YACjC,CA5LqB,CAAxB,CA8MA,KAAM8C,MAAN,CAEA,GAAID,IAAY,SAAS4L,EAAT,CAAgB5V,EAAhB,CAAsB,CACpC,GAAI4V,KAAU3L,EAAd,CACE,KAAM,IAAI4L,UAAJ,CAAc,qBAAd,CAAN,CAIF,GAAI5M,IAAaxK,SAASqX,sBAAT,EAAjB,CAGA,MAFA7M,IAAW5O,SAAX,CAAuB2P,GAAU5B,SAEjC,CADAa,GAAW8M,KAAX,CAAiB/V,EAAjB,CACA,CAAOiJ,EACR,CAVD,CAYAe,GAAU5B,SAAV,CAAsBnP,OAAOiB,MAAP,CAAc8b,iBAAiB5N,SAA/B,CA/vET,CAgwEb1O,EAAUsQ,GAAU5B,SAApB,CAA+B,CAE7B2N,MAAM/V,EAAN,CAAY,CAIV,KAAK9H,WAAL,CAAmB,WAJT,CAMViM,GAAiBnE,EAAjB,CANU,CAOVmE,GAAiB,IAAjB,CAPU,CASVnE,GAAKiJ,UAAL,CAAkB,IATR,CAUV,KAAKjJ,IAAL,CAAYA,EAVF,CAYV,KAAKiW,cAAL,GAZU,CAaV,KAAKC,YAAL,GAbU,CAcV,KAAKtU,cAAL,GAdU,CAeV,KAAKuU,YAAL,CAAoB,GAAIjC,GAAJ,CAAgB,IAAhB,CAfV,CAgBV,KAAKlP,MAAL,EACD,CAnB4B,CAsB7BA,QAAS,CACF,KAAKiR,cADH,GAEL,KAAKA,cAAL,GAFK,CAGL3b,EAAQ,IAAM,KAAKqL,MAAL,EAAd,CAHK,CAKR,CA3B4B,CA8B7ByQ,gBAAiB,CACf,GAAIC,IAAa,IAAjB,CACIhe,GAAO,IADX,CADe,KAGRA,EAHQ,EAITA,GAAK4d,cAJI,GAKXI,GAAahe,EALF,EAObA,GAAOA,GAAKie,gBAAL,EAPM,CASf,MAAOD,GACR,CAxC4B,CA4C7BC,kBAAmB,CACjB,GAAIje,IAAO,KAAK2H,IAAL,CAAU1H,WAAV,EAAX,CACA,GAAIN,EAAYK,EAAZ,CAAJ,CAAuB,CACrB,GAAI+E,IAAK,KAAK4C,IAAL,CAAU3C,UAAnB,CACA,IAAK,GAASjC,GAAT,CAAI5B,GAAE,CAAX,CAAiBA,GAAI4D,GAAG3D,MAAxB,CAAgCD,IAAhC,CAEE,GADA4B,GAAIgC,GAAG5D,EAAH,CACJ,CAAI,KAAK2c,YAAL,CAAkB/B,gBAAlB,CAAmChZ,EAAnC,CAAJ,CACE,MAAO/C,GAGZ,CACF,CAvD4B,CAyD7BsN,QAAS,CACH,KAAKsQ,cADF,EAEL,KAAKG,cAAL,GAAsBG,OAAtB,EAEH,CA7D4B,CA+D7BA,SAAU,CACR,KAAKN,cAAL,GADQ,CAER,KAAKrU,cAAL,GAFQ,CAGH,KAAKC,0BAHF,CAKG,CAAC,KAAKqU,YALT,GAMN,KAAK3R,gBAAL,GANM,EAIN,KAAKiS,qBAAL,EAJM,CAQR,KAAK3U,0BAAL,GARQ,CAgBR,KAAKwS,UAAL,EAhBQ,CAkBR,KAAKoC,OAAL,EAlBQ,CAmBR,KAAKP,YAAL,GACD,CAnF4B,CAqF7BQ,aAAc,CACZ,KAAKT,cAAL,GADY,CAEZ,KAAKtQ,MAAL,EACD,CAxF4B,CA0F7B0O,YAAa,CACX,GAAII,IAAa,KAAK0B,YAAL,CAAkB9B,UAAlB,EAAjB,CACA,IAAK,GAAI7a,IAAE,CAAX,CAAcA,GAAEib,GAAWhb,MAA3B,CAAmCD,IAAnC,CACEib,GAAWjb,EAAX,EAAc+c,OAAd,EAEH,CA/F4B,CAiG7BC,uBAAwB,CACtB,GAAIG,IAAK,KAAKC,iBAAd,CAEA,GAAID,EAAJ,CACE,IAAK,GAASvb,GAAT,CAAI5B,GAAE,CAAX,CAAiBA,GAAImd,GAAGld,MAAxB,CAAgCD,IAAhC,CACE4B,GAAIub,GAAGnd,EAAH,CADN,CAEM4B,GAAE9C,WAAF,KAAoB,IAF1B,EAGI,KAAK6d,YAAL,CAAkBvB,kBAAlB,CAAqCxZ,EAArC,CAHJ,CAOFub,GAAK,KAAKpS,gBAAL,CAAwB,KAAK4R,YAAL,CAAkBhC,kBAAlB,EAXP,CAiBtB,IAAK,GAAS/Y,GAAT,CAAI5B,GAAE,CAAX,CAAiBA,GAAImd,GAAGld,MAAxB,CAAgCD,IAAhC,CACE4B,GAAIub,GAAGnd,EAAH,CADN,CAEE4B,GAAE4D,OAAF,CAAY5D,GAAE4D,OAAF,IAFd,CAGEmF,GAAiB/I,EAAjB,CAHF,CAIE+I,GAAiB/I,GAAEW,UAAnB,CAEH,CAxH4B,CA0H7B,GAAIwI,iBAAJ,EAAuB,CAIrB,MAHK,MAAKqS,iBAGV,EAFE,KAAKJ,qBAAL,EAEF,CAAO,KAAKI,iBAAL,GAA2B,KAAKA,iBAAL,GAA3B,CACR,CA/H4B,CAiI7B,GAAIrS,iBAAJ,CAAqBsS,EAArB,CAAsC,CACpC,KAAKD,iBAAL,CAAyBC,EAC1B,CAnI4B,CAqI7BzS,mBAAoB,CAClB,MAAO,MAAK+R,YAAL,CAAkB/R,iBAAlB,EACR,CAvI4B,CAyI7BqS,SAAU,CAKR,KAAKK,YAAL,EAGD,CAjJ4B,CAqJ7BA,cAAe,CACb,KAAKC,iBAAL,CAAuB,KAAK/W,IAA5B,CAAkC,KAAKgX,YAAL,CAAkB,KAAKhX,IAAvB,CAAlC,CADa,CAEb,GAAIwH,IAAK,KAAKjD,gBAAL,IAAT,CACA,IAAK,GAAsBjE,GAAtB,CAAyBgD,EAAzB,CAAI9J,GAAE,CAAN,CAAS+D,GAAEiK,GAAG/N,MAAnB,CAAuCD,GAAE+D,EAAH,GAAU+C,GAAEkH,GAAGhO,EAAH,CAAZ,CAAtC,CAA0DA,IAA1D,CACE8J,GAAShD,GAAEvE,UADb,CAEOuH,KAAW,KAAKtD,IAAjB,EAA2BsD,KAAW,IAF5C,EAGI,KAAKyT,iBAAL,CAAuBzT,EAAvB,CAA+B,KAAK0T,YAAL,CAAkB1T,EAAlB,CAA/B,CAGL,CA9J4B,CAiK7B0T,aAAa5e,EAAb,CAAmB,CACjB,GAAI8c,MAAJ,CACI9X,GAAK,CAAChF,GAAK6J,SAAL,EAAkB7J,EAAnB,EAAyBiF,UADlC,CAEA,IAAK,GACCC,GADD,CAAI9D,GAAI,CAAb,CAAgBA,GAAI4D,GAAG3D,MAAvB,CAA+BD,IAA/B,CAEE,GADI8D,EACJ,CADYF,GAAG5D,EAAH,CACZ,CAAI,KAAK2c,YAAL,CAAkB/B,gBAAlB,CAAmC9W,EAAnC,CAAJ,CAA+C,CAC7C,GAAImY,IAAmBnY,GAAM0B,OAAN,CAAcyW,gBAAd,GACpBnY,GAAM0B,OAAN,CAAcyW,gBAAd,GADoB,CAAvB,CAEA,IAAK,GACCwB,GADD,CAAIpS,GAAI,CAAb,CAAgBA,GAAI4Q,GAAiBhc,MAArC,CAA6CoL,IAA7C,CACMoS,EADN,CACwBxB,GAAiB5Q,EAAjB,CADxB,CAEM,KAAKE,kBAAL,CAAwBzH,EAAxB,CAA+B2Z,EAA/B,CAFN,EAGI/B,GAAYra,IAAZ,CAAiBoc,EAAjB,CAGL,CATD,IAUE/B,IAAYra,IAAZ,CAAiByC,EAAjB,CAVF,CAaF,MAAO4X,GACR,CApL4B,CAsL7BnQ,mBAAmBP,EAAnB,CAAmCpM,EAAnC,CAAyC,CACvC,MAAO,MAAK+d,YAAL,CAAkBpR,kBAAlB,CACLP,EADK,CACWpM,EADX,CAER,CAzL4B,CA4L7B2e,kBAAkBjW,EAAlB,CAA6BoU,EAA7B,CAA0C,CACxC,GAAIlZ,IAAWqB,EAAWyD,EAAX,CAAf,CACImS,GAAUM,GAAiB2B,EAAjB,CAA8BlZ,EAA9B,CADd,CAGA,IAAK,GAAcV,GAAd,CAAI9B,GAAE,CAAN,CAAS4Q,GAAE,CAAhB,CAAuB5Q,GAAEyZ,GAAQxZ,MAAX,GAAuB6B,GAAE2X,GAAQzZ,EAAR,CAAzB,CAAtB,CAA4DA,IAA5D,CAAiE,CAC/D,IAAK,GAASD,GAAT,CAAIsL,GAAE,CAAX,CAAkBA,GAAIvJ,GAAEuO,OAAF,CAAUpQ,MAAf,GAA2BF,GAAE+B,GAAEuO,OAAF,CAAUhF,EAAV,CAA7B,CAAjB,CAA6DA,IAA7D,CAKM9I,EAAWxC,EAAX,IAAkBuH,EALxB,EAMIvB,GAAY5G,IAAZ,CAAiBmI,EAAjB,CAA4BvH,EAA5B,CANJ,CAQEyC,GAASyW,MAAT,CAAgBnX,GAAEsO,KAAF,CAAUQ,EAA1B,CAA6B,CAA7B,CARF,CAUAA,IAAK9O,GAAEwO,UACR,CAED,IAAK,GAASxO,GAAT,CAAY4b,EAAZ,CAAI1d,GAAE,CAAX,CAAwBA,GAAEyZ,GAAQxZ,MAAX,GAAuB6B,GAAE2X,GAAQzZ,EAAR,CAAzB,CAAvB,CAA6DA,IAA7D,CAAkE,CAChE0d,GAAOlb,GAASV,GAAEsO,KAAX,CADyD,CAEhE,IAAK,GAAerQ,GAAf,CAAIsL,GAAEvJ,GAAEsO,KAAb,CAAuB/E,GAAIvJ,GAAEsO,KAAF,CAAUtO,GAAEwO,UAAvC,CAAmDjF,IAAnD,CACEtL,GAAI2b,GAAYrQ,EAAZ,CADN,CAEEuB,GAAazN,IAAb,CAAkBmI,EAAlB,CAA6BvH,EAA7B,CAAgC2d,EAAhC,CAFF,CAIElb,GAASyW,MAAT,CAAgB5N,EAAhB,CAAmB,CAAnB,CAAsBtL,EAAtB,CAEH,CACF,CAvN4B,CAyN7BkJ,sBAAuB,CACrB,MAAO,MAAK0T,YAAL,CAAkB3S,iBAC1B,CA3N4B,CAA/B,CAhwEa,CAq2Bb,SAAkC1J,EAAlC,CAAyC,CACvCqG,EAAmBrG,EAAnB,CAA0B6G,EAA1B,IADuC,CAEvCR,EAAmBrG,EAAnB,CAA0B8G,EAA1B,IACD,CAqoDD,CAAyBoJ,GAAU5B,SAAnC,CA7+Ea,CA8/Eb,GAAI+O,IAAY,CAEd9N,iBAv4BF,SAA4BrB,EAA5B,CAAkCS,EAAlC,CAAsC2O,EAAtC,CAAwD,CACtD,GAAK3O,EAAL,EAUA,GAAI4O,GAAJ,CAAaC,EAAb,CAAmBC,EAAnB,CAUA,GATgC,QAA5B,QAAOH,GASX,EAREC,KAAkBD,GAAiBC,OAQrC,CAPEC,KAAeF,GAAiBE,IAOlC,CANEC,KAAkBH,GAAiBG,OAMrC,GAJEF,KAAkBD,EAIpB,CAHEE,KAGF,CAFEC,KAEF,EAAI9O,GAAG+O,eAAP,EAEE,IAAK,GAAIhe,IAAI,CAAb,CAAgBA,GAAIiP,GAAG+O,eAAH,CAAmB/d,MAAvC,CAA+CD,IAA/C,CACE,GAAIiP,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsBpB,IAAtB,GAA+B,IAA/B,EACAqQ,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsBwO,IAAtB,GAA+BA,EAD/B,EAEAS,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsB6d,OAAtB,GAAkCA,EAFlC,EAGA5O,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsB8d,IAAtB,GAA+BA,EAH/B,EAIA7O,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsB+d,OAAtB,GAAkCA,EAJtC,CAKE,OARN,KAYE9O,IAAG+O,eAAH,GAZF,CAeA,KAAMC,IAAY,SAAS7O,EAAT,CAAY,CAa5B,GAXI0O,EAWJ,EAVE,KAAKrL,mBAAL,CAAyBjE,EAAzB,CAA+BS,EAA/B,CAAmC2O,EAAnC,CAUF,CARKxO,GAAEU,QAQP,GAPEV,GAAEU,QAAF,CAAaV,GAAE7P,MAOjB,CANE6P,GAAEW,eAAF,CAAoBX,GAAEY,aAMxB,CALE3P,EAAe+O,EAAf,CAAkBa,EAAlB,CAKF,EAAIb,GAAE5M,QAAF,EAA+C,CAAC,CAAlC,IAAEgL,YAAF,GAAiBY,OAAjB,CAAyB,IAAzB,CAAlB,OACMgB,IAAE8O,UAAF,GAAiB5O,MAAM6O,cAD7B,EAEQ/O,GAAE7P,MAAF,GAAa6P,GAAEY,aAFvB,KAGMZ,IAAEc,wBAAF,EAHN,CAOSjB,GAAGG,EAAH,CAEV,CAtBD,CAwBAH,GAAG+O,eAAH,CAAmB3c,IAAnB,CAAwB,CACtBzC,KAAM,IADgB,CAEtB4P,KAAMA,EAFgB,CAGtBqP,QAASA,EAHa,CAItBC,KAAMA,EAJgB,CAKtBC,QAASA,EALa,CAMtBE,UAAWA,EANW,CAAxB,CA3DA,CAoEIrO,GAA4BpB,EAA5B,CApEJ,EAqEE,KAAKQ,UAAL,CAAkB,KAAKA,UAAL,IArEpB,CAsEE,KAAKA,UAAL,CAAgBR,EAAhB,EAAwB,KAAKQ,UAAL,CAAgBR,EAAhB,GAAyB,CAACqP,UAAD,CAAcO,SAAd,CAtEnD,CAuEE,KAAKpP,UAAL,CAAgBR,EAAhB,EAAsBqP,GAAU,SAAV,CAAsB,QAA5C,EAAsDxc,IAAtD,CAA2D4c,EAA3D,CAvEF,EAyEEpO,GAAiB1Q,IAAjB,CAAsB,IAAtB,CAA4BqP,EAA5B,CAAkCyP,EAAlC,CAA6CL,EAA7C,CAzEF,CA2ED,CAyzBe,CAIdnL,oBA3zBF,SAA+BjE,EAA/B,CAAqCS,EAArC,CAAyC2O,EAAzC,CAA2D,CACzD,GAAK3O,EAAL,EAKA,GAAI4O,GAAJ,CAAaC,EAAb,CAAmBC,EAAnB,CACgC,QAA5B,QAAOH,GANX,EAOEC,KAAkBD,GAAiBC,OAPrC,CAQEC,KAAeF,GAAiBE,IARlC,CASEC,KAAkBH,GAAiBG,OATrC,GAWEF,KAAkBD,EAXpB,CAYEE,KAZF,CAaEC,KAbF,EAgBA,GAAIE,GAAJ,CACA,GAAIhP,GAAG+O,eAAP,CACE,IAAK,GAAIhe,IAAI,CAAb,CAAgBA,GAAIiP,GAAG+O,eAAH,CAAmB/d,MAAvC,CAA+CD,IAA/C,CACE,GAAIiP,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsBpB,IAAtB,GAA+B,IAA/B,EACAqQ,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsBwO,IAAtB,GAA+BA,EAD/B,EAEAS,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsB6d,OAAtB,GAAkCA,EAFlC,EAGA5O,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsB8d,IAAtB,GAA+BA,EAH/B,EAIA7O,GAAG+O,eAAH,CAAmBhe,EAAnB,EAAsB+d,OAAtB,GAAkCA,EAJtC,CAI+C,CAC7CE,GAAYhP,GAAG+O,eAAH,CAAmB/E,MAAnB,CAA0BjZ,EAA1B,CAA6B,CAA7B,EAAgC,CAAhC,EAAmCie,SADF,CAGxChP,GAAG+O,eAAH,CAAmB/d,MAHqB,GAI3CgP,GAAG+O,eAAH,OAJ2C,EAM7C,KACD,CAKL,GADAvL,GAAoBtT,IAApB,CAAyB,IAAzB,CAA+BqP,EAA/B,CAAqCyP,IAAahP,EAAlD,CAAsD2O,EAAtD,CACA,CAAIK,IAAarO,GAA4BpB,EAA5B,CAAb,EACA,KAAKQ,UADL,EACmB,KAAKA,UAAL,CAAgBR,EAAhB,CADvB,CAC8C,CAC5C,KAAMpM,IAAM,KAAK4M,UAAL,CAAgBR,EAAhB,EAAsBqP,GAAU,SAAV,CAAsB,QAA5C,CAAZ,CACMQ,GAAMjc,GAAIgM,OAAJ,CAAY6P,EAAZ,CADZ,CAEU,CAAC,CAAP,GAHwC,EAI1C7b,GAAI6W,MAAJ,CAAWoF,EAAX,CAAgB,CAAhB,CAEH,CA1CD,CA2CD,CA2wBe,CAMdxR,YAAYjO,EAAZ,CAAkB,CAChB,MAAO+N,IAAe,IAAf,CAAqB/N,EAArB,CACR,CARa,CAUdgO,aAAahO,EAAb,CAAmB2I,EAAnB,CAA6B,CAC3B,MAAOoF,IAAe,IAAf,CAAqB/N,EAArB,CAA2B2I,EAA3B,CACR,CAZa,CAcdxB,YAAYnH,EAAZ,CAAkB,CAChB,MAAOkO,IAAc,IAAd,CAAoBlO,EAApB,CACR,CAhBa,CAkBd0f,aAAa1f,EAAb,CAAmB2I,EAAnB,CAA6B,CAG3B,MAFA,MAAKqF,YAAL,CAAkBhO,EAAlB,CAAwB2I,EAAxB,CAEA,CADA,KAAKxB,WAAL,CAAiBwB,EAAjB,CACA,CAAO3I,EACR,CAtBa,CAwBdsO,UAAUD,EAAV,CAAgB,CACd,MAAOD,IAAY,IAAZ,CAAkBC,EAAlB,CACR,CA1Ba,CA4BdnO,YAAY2P,EAAZ,CAAqB,CACnB,MAAO3P,IAAY,IAAZ,CAAkB2P,EAAlB,CACR,CA9Ba,CAgCd,GAAI8P,YAAJ,EAAkB,CAEhB,KAAMjS,IAAgB,KAAKA,aAA3B,CACA,GAAIA,IAAiBA,GAAc7F,QAA/B,EAA2C6F,GAAc7F,QAAd,CAAuB,IAAvB,CAA/C,CAA6E,SAC7E,KAAM+X,IAAuBlS,GAAcvC,eAA3C,CACA,GAAIyU,IAAwBA,GAAqB/X,QAA7C,EAAyD+X,GAAqB/X,QAArB,CAA8B,IAA9B,CAA7D,CAAkG,SAElG,GAAI7H,IAAO,IAAX,CAPgB,KAQTA,IAAQ,EAAEA,aAAgB4T,SAAlB,CARC,EASd5T,GAAOA,GAAK2D,UAAL,GAAoB3D,aAAgB4R,GAAhB,CAA4B5R,GAAK4H,IAAjC,OAApB,CAAP,CAEF,MAAO,CAAC,EAAE5H,IAAQA,aAAgB4T,SAA1B,CACT,CA5Ca,CAAhB,CAiDIiM,GAAY,CACd,GAAI9Q,aAAJ,EAAmB,CACjB,MAAO+C,IAAgB,IAAhB,CACR,CAHa,CAjDhB,CAuDIgO,GAAgB,CAGlBxU,cAAcjL,EAAd,CAAwB,CAEtB,GAAIgN,IAASP,GAAM,IAAN,CAAY,SAAS3L,EAAT,CAAY,CACnC,MAAOhB,GAAgBgB,EAAhB,CAAmBd,EAAnB,CACR,CAFY,CAEV,SAASc,EAAT,CAAY,CACb,QAAeA,EAChB,CAJY,EAIV,CAJU,CAAb,CAKA,MAAOkM,KAAU,IAClB,CAXiB,CAalBzB,iBAAiBvL,EAAjB,CAA2B,CACzB,MAAOyM,IAAM,IAAN,CAAY,SAAS3L,EAAT,CAAY,CAC7B,MAAOhB,GAAgBgB,EAAhB,CAAmBd,EAAnB,CACR,CAFM,CAGR,CAjBiB,CAvDpB,CA4EI0f,GAAY,CAEdxT,cAAcsD,EAAd,CAAuB,CACrB,GAAuB,MAAnB,QAAK5L,SAAT,CAEE,MADAqJ,IAAe,IAAf,CACA,CAAO,KAAK1G,OAAL,CACJ,CAACiJ,IAAWA,GAAQrD,OAAnB,CAA6B,KAAK5F,OAAL,CAAayW,gBAA1C,CACF,KAAKzW,OAAL,CAAa2F,aADZ,KADI,GAKV,CAVa,CA5EhB,CA0FIyT,GAAe1e,EAAU,CAE3BsM,aAAanN,EAAb,CAAmB4D,EAAnB,CAA0B,CACxBmJ,GAAe,IAAf,CAAqB/M,EAArB,CAA2B4D,EAA3B,CACD,CAJ0B,CAM3ByJ,gBAAgBrN,EAAhB,CAAsB,CACpBoN,GAAkB,IAAlB,CAAwBpN,EAAxB,CACD,CAR0B,CAU3BkR,aAAa9B,EAAb,CAAsB,CACpB,MAAO8B,IAAa,IAAb,CAAmB9B,EAAnB,CACR,CAZ0B,CAc3B,GAAIoN,KAAJ,EAAW,CACT,MAAO,MAAKtI,YAAL,CAAkB,MAAlB,CACR,CAhB0B,CAkB3B,GAAIsI,KAAJ,CAAS5Y,EAAT,CAAgB,CACd,KAAKuJ,YAAL,CAAkB,MAAlB,CAA0BvJ,EAA1B,CACD,CApB0B,CAsB3B,GAAI0K,aAAJ,EAAmB,CACjB,MAAO+C,IAAgB,IAAhB,CACR,CAxB0B,CAAV,CA0BhBgO,EA1BgB,CA0BDC,EA1BC,CA1FnB,CAsHAlf,OAAOof,gBAAP,CAAwBD,EAAxB,CAAsC9K,EAAtC,CApnFa,CAsnFb,GAAIgL,IAAgB5e,EAAU,CAC5BmN,WAAWzO,EAAX,CAAiBqO,EAAjB,CAAuB,CACrB,MAAOG,IAAaxO,EAAb,CAAmBqO,EAAnB,CACR,CAH2B,CAAV,CAIjByR,EAJiB,CAApB,CAMAjf,OAAOof,gBAAP,CAAwBC,EAAxB,CAAuC,CACrCC,eAAgB3X,GAAsBhB,aADD,CAAvC,CA5nFa,CA2sFTF,GAAS+K,KA3sFA,GA6sFXzN,OAAOqN,QAAP,CAAkB,CAEhBI,MAAO/K,GAAS+K,KAFA,CAIhB+N,MAAO,SAASpgB,EAAT,CAAe,CAAE,MAAOA,GAAO,CAJtB,CAKhBJ,YAAaA,CALG,CAMhBsC,QAASA,CANO,CAOhBK,MAAOA,CAPS,CAQhB+E,SAAUA,EARM,CAShB+Y,gBAv+EJ,SAAyB5M,EAAzB,CAAoC9S,EAApC,CAA4C,CAC1C,KAAM2f,IAAiB3f,GAAOT,WAAP,EAAvB,CACA,MAAOuT,IAAU8M,GAAV,CAAc,SAASC,EAAT,CAAmB,CACtC,KAAMC,IAAmBH,KAAmBE,GAAS7f,MAAT,CAAgBT,WAAhB,EAA5C,CACA,GAAIugB,IAAmBD,GAAS5V,UAAhC,CAA4C,CAC1C,GAAIpF,IAAQwP,MAAM0L,IAAN,CAAWF,GAAS5V,UAApB,EAAgCqK,MAAhC,CAAuC,SAAS9T,EAAT,CAAY,CAC7D,MAAQmf,MAAmBnf,GAAEjB,WAAF,EAC5B,CAFW,CAAZ,CAGA,GAAIsF,GAAMnE,MAAV,CAME,MALAmf,IAAW3f,OAAOiB,MAAP,CAAc0e,EAAd,CAKX,CAJA3f,OAAOE,cAAP,CAAsByf,EAAtB,CAAgC,YAAhC,CAA8C,CAC5Cnc,MAAOmB,EADqC,CAE5CyB,eAF4C,CAA9C,CAIA,CAAOuZ,EAEV,CAZD,IAYO,IAAIC,EAAJ,CACL,MAAOD,GAEV,CAjBM,EAiBJvL,MAjBI,CAiBG,SAAS0L,EAAT,CAAY,CAAE,MAAOA,GAAE,CAjB1B,CAkBR,CA08EmB,CAUhBC,gBAngFkB,SAAS5gB,EAAT,CAAemC,EAAf,CAAyB,CAC7CnC,GAAK4G,OAAL,CAAe5G,GAAK4G,OAAL,IAD8B,CAExC5G,GAAK4G,OAAL,CAAa+D,QAF2B,GAG3C3K,GAAK4G,OAAL,CAAa+D,QAAb,CAAwB,GAAIyI,GAHe,EAK7CpT,GAAK4G,OAAL,CAAa+D,QAAb,CAAsB4I,SAAtB,CAAgCsN,GAAhC,CAAoC1e,EAApC,CAL6C,CAM7C,GAAIwI,IAAW3K,GAAK4G,OAAL,CAAa+D,QAA5B,CACA,MAAO,CACLmW,UAAW3e,EADN,CAEL4e,UAAWpW,EAFN,CAGLqW,MAAOhhB,EAHF,CAIL0T,aAAc,CACZ,MAAO/I,IAAS+I,WAAT,EACR,CANI,CAQR,CA0+EmB,CAWhBuN,kBAn/EoB,SAASC,EAAT,CAAiB,CACvC,GAAIvW,IAAWuW,IAAUA,GAAOH,SAAhC,CACIpW,EAFmC,GAGrCA,GAAS4I,SAAT,CAAmB4N,MAAnB,CAA0BD,GAAOJ,SAAjC,CAHqC,CAIjC,CAACnW,GAAS4I,SAAT,CAAmB6N,IAJa,GAKnCF,GAAOF,KAAP,CAAapa,OAAb,CAAqB+D,QAArB,CAAgC,IALG,EAQxC,CAg+EmB,CAYhBmJ,cAAeA,EAZC,CAahB9M,WAAYA,EAbI,CA7sFP,CAuwDb,UAAuB,CACrBpC,OAAO8L,KAAP,CAAe+H,EADM,CAErB7T,OAAO+T,WAAP,CAAqBD,EAFA,CAGrB9T,OAAOiU,UAAP,CAAoBD,EAHC,CAIrB9H,IACD,CAk9BC,EA9tFW,CAwpFb,UAAyB,CAevB,GAbAiB,GAAanN,OAAOd,IAAP,CAAYkM,SAAzB,CAAoC+O,EAApC,CAaA,CAZAhN,GAAanN,OAAOyc,IAAP,CAAYrR,SAAzB,CAAoC6P,EAApC,CAYA,CAXA9N,GAAanN,OAAOgZ,gBAAP,CAAwB5N,SAArC,CAAgD8P,EAAhD,CAWA,CAVA/N,GAAanN,OAAOuN,OAAP,CAAenC,SAA5B,CAAuCgQ,EAAvC,CAUA,CATAjO,GAAanN,OAAOgP,QAAP,CAAgB5D,SAA7B,CAAwCkQ,EAAxC,CASA,CARItb,OAAO0c,eAQX,EAPEvP,GAAanN,OAAO0c,eAAP,CAAuBtR,SAApC,CAA+C+P,EAA/C,CAOF,CAAIzY,GAASC,cAAb,CAA6B,CAC3Bc,EAAezD,OAAOd,IAAP,CAAYkM,SAA3B,CAD2B,CAE3B3H,EAAezD,OAAOyc,IAAP,CAAYrR,SAA3B,CAF2B,CAG3B3H,EAAezD,OAAOgZ,gBAAP,CAAwB5N,SAAvC,CAH2B,CAI3B3H,EAAezD,OAAOuN,OAAP,CAAenC,SAA9B,CAJ2B,CAK3B,GAAIuR,IACD3c,OAAOuO,cAAP,EAAyBA,eAAeoO,iBAAzC,EACAnN,WAFF,CAGA/L,EAAekZ,GAAkBvR,SAAjC,CAR2B,CAS3B3H,EAAezD,OAAOgP,QAAP,CAAgB5D,SAA/B,CAT2B,CAUvBpL,OAAO0c,eAVgB,EAWzBjZ,EAAezD,OAAO0c,eAAP,CAAuBtR,SAAtC,CAEH,CACF,CA2CC,EAhuFW,CAkuFXpL,OAAO4c,UAAP,CAAoB5P,EAluFT,CAquFZ,CAruFA,G","file":"shadydom.min.js","sourcesContent":["(function () {\n'use strict';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet settings = window.ShadyDOM || {};\n\nsettings.hasNativeShadowDOM = Boolean(Element.prototype.attachShadow && Node.prototype.getRootNode);\n\nlet desc = Object.getOwnPropertyDescriptor(Node.prototype, 'firstChild');\n\nsettings.hasDescriptors = Boolean(desc && desc.configurable && desc.get);\nsettings.inUse = settings.force || !settings.hasNativeShadowDOM;\n\nfunction isShadyRoot(obj) {\n  return Boolean(obj.__localName === 'ShadyRoot');\n}\n\nfunction ownerShadyRootForNode(node) {\n  let root = node.getRootNode();\n  if (isShadyRoot(root)) {\n    return root;\n  }\n}\n\nlet p = Element.prototype;\nlet matches = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nfunction matchesSelector(element, selector) {\n  return matches.call(element, selector);\n}\n\nfunction copyOwnProperty(name, source, target) {\n  let pd = Object.getOwnPropertyDescriptor(source, name);\n  if (pd) {\n    Object.defineProperty(target, name, pd);\n  }\n}\n\nfunction extend(target, source) {\n  if (target && source) {\n    let n$ = Object.getOwnPropertyNames(source);\n    for (let i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n      copyOwnProperty(n, source, target);\n    }\n  }\n  return target || source;\n}\n\nfunction extendAll(target, ...sources) {\n  for (let i=0; i < sources.length; i++) {\n    extend(target, sources[i]);\n  }\n  return target;\n}\n\nfunction mixin(target, source) {\n  for (var i in source) {\n    target[i] = source[i];\n  }\n  return target;\n}\n\nfunction patchPrototype(obj, mixin) {\n  let proto = Object.getPrototypeOf(obj);\n  if (!proto.hasOwnProperty('__patchProto')) {\n    let patchProto = Object.create(proto);\n    patchProto.__sourceProto = proto;\n    extend(patchProto, mixin);\n    proto.__patchProto = patchProto;\n  }\n  // old browsers don't have setPrototypeOf\n  obj.__proto__ = proto.__patchProto;\n}\n\n// TODO(sorvell): actually rely on a real Promise polyfill...\nlet promish;\nif (window.Promise) {\n  promish = Promise.resolve();\n} else {\n  let twiddle = document.createTextNode('');\n  let content = 0;\n  promish = {\n    then(cb) {\n      // To preserve timing with Promise microtasks\n      // we create a new observer for every callback.\n      let observer = new MutationObserver(function() {\n        observer.disconnect();\n        cb();\n      });\n      observer.observe(twiddle, {characterData: true});\n      twiddle.textContent = content++;\n    }\n  };\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// render enqueuer/flusher\nlet customElements$1 = window.customElements;\nlet flushList = [];\nlet scheduled;\nlet flushCount = 0;\nlet flushMax = 100;\nfunction enqueue(callback) {\n  if (!scheduled) {\n    scheduled = true;\n    promish.then(flush);\n  }\n  flushList.push(callback);\n}\n\nfunction flush() {\n  scheduled = false;\n  flushCount++;\n  while (flushList.length) {\n    flushList.shift()();\n  }\n  if (customElements$1 && customElements$1.flush) {\n    customElements$1.flush();\n  }\n  // continue flushing after elements are upgraded...\n  const isFlushedMaxed = (flushCount > flushMax);\n  if (flushList.length && !isFlushedMaxed) {\n      flush();\n  }\n  flushCount = 0;\n  if (isFlushedMaxed) {\n    throw new Error('Loop detected in ShadyDOM distribution, aborting.')\n  }\n}\n\nflush.list = flushList;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nclass AsyncObserver {\n\n  constructor() {\n    this._scheduled = false;\n    this.addedNodes = [];\n    this.removedNodes = [];\n    this.callbacks = new Set();\n  }\n\n  schedule() {\n    if (!this._scheduled) {\n      this._scheduled = true;\n      promish.then(() => {\n        this.flush();\n      });\n    }\n  }\n\n  flush() {\n    if (this._scheduled) {\n      this._scheduled = false;\n      let mutations = this.takeRecords();\n      if (mutations.length) {\n        this.callbacks.forEach(function(cb) {\n          cb(mutations);\n        });\n      }\n    }\n  }\n\n  takeRecords() {\n    if (this.addedNodes.length || this.removedNodes.length) {\n      let mutations = [{\n        addedNodes: this.addedNodes,\n        removedNodes: this.removedNodes\n      }];\n      this.addedNodes = [];\n      this.removedNodes = [];\n      return mutations;\n    }\n    return [];\n  }\n\n}\n\n// TODO(sorvell): consider instead polyfilling MutationObserver\n// directly so that users do not have to fork their code.\n// Supporting the entire api may be challenging: e.g. filtering out\n// removed nodes in the wrong scope and seeing non-distributing\n// subtree child mutations.\nlet observeChildren = function(node, callback) {\n  node.__shady = node.__shady || {};\n  if (!node.__shady.observer) {\n    node.__shady.observer = new AsyncObserver();\n  }\n  node.__shady.observer.callbacks.add(callback);\n  let observer = node.__shady.observer;\n  return {\n    _callback: callback,\n    _observer: observer,\n    _node: node,\n    takeRecords() {\n      return observer.takeRecords()\n    }\n  };\n};\n\nlet unobserveChildren = function(handle) {\n  let observer = handle && handle._observer;\n  if (observer) {\n    observer.callbacks.delete(handle._callback);\n    if (!observer.callbacks.size) {\n      handle._node.__shady.observer = null;\n    }\n  }\n};\n\nfunction filterMutations(mutations, target) {\n  const targetRootNode = target.getRootNode();\n  return mutations.map(function(mutation) {\n    const mutationInScope = (targetRootNode === mutation.target.getRootNode());\n    if (mutationInScope && mutation.addedNodes) {\n      let nodes = Array.from(mutation.addedNodes).filter(function(n) {\n        return (targetRootNode === n.getRootNode());\n      });\n      if (nodes.length) {\n        mutation = Object.create(mutation);\n        Object.defineProperty(mutation, 'addedNodes', {\n          value: nodes,\n          configurable: true\n        });\n        return mutation;\n      }\n    } else if (mutationInScope) {\n      return mutation;\n    }\n  }).filter(function(m) { return m});\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet appendChild = Element.prototype.appendChild;\nlet insertBefore = Element.prototype.insertBefore;\nlet removeChild = Element.prototype.removeChild;\nlet setAttribute = Element.prototype.setAttribute;\nlet removeAttribute = Element.prototype.removeAttribute;\nlet cloneNode = Element.prototype.cloneNode;\nlet importNode = Document.prototype.importNode;\nlet addEventListener = Element.prototype.addEventListener;\nlet removeEventListener = Element.prototype.removeEventListener;\n\n\nvar nativeMethods = Object.freeze({\n\tappendChild: appendChild,\n\tinsertBefore: insertBefore,\n\tremoveChild: removeChild,\n\tsetAttribute: setAttribute,\n\tremoveAttribute: removeAttribute,\n\tcloneNode: cloneNode,\n\timportNode: importNode,\n\taddEventListener: addEventListener,\n\tremoveEventListener: removeEventListener\n});\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Cribbed from ShadowDOM polyfill\n// https://github.com/webcomponents/webcomponentsjs/blob/master/src/ShadowDOM/wrappers/HTMLElement.js#L28\n/////////////////////////////////////////////////////////////////////////////\n// innerHTML and outerHTML\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\nlet escapeAttrRegExp = /[&\\u00A0\"]/g;\nlet escapeDataRegExp = /[&\\u00A0<>]/g;\n\nfunction escapeReplace(c) {\n  switch (c) {\n    case '&':\n      return '&amp;';\n    case '<':\n      return '&lt;';\n    case '>':\n      return '&gt;';\n    case '\"':\n      return '&quot;';\n    case '\\u00A0':\n      return '&nbsp;';\n  }\n}\n\nfunction escapeAttr(s) {\n  return s.replace(escapeAttrRegExp, escapeReplace);\n}\n\nfunction escapeData(s) {\n  return s.replace(escapeDataRegExp, escapeReplace);\n}\n\nfunction makeSet(arr) {\n  let set = {};\n  for (let i = 0; i < arr.length; i++) {\n    set[arr[i]] = true;\n  }\n  return set;\n}\n\n// http://www.whatwg.org/specs/web-apps/current-work/#void-elements\nlet voidElements = makeSet([\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]);\n\nlet plaintextParents = makeSet([\n  'style',\n  'script',\n  'xmp',\n  'iframe',\n  'noembed',\n  'noframes',\n  'plaintext',\n  'noscript'\n]);\n\nfunction getOuterHTML(node, parentNode, composed) {\n  switch (node.nodeType) {\n    case Node.ELEMENT_NODE: {\n      let tagName = node.localName;\n      let s = '<' + tagName;\n      let attrs = node.attributes;\n      for (let i = 0, attr; (attr = attrs[i]); i++) {\n        s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n      }\n      s += '>';\n      if (voidElements[tagName]) {\n        return s;\n      }\n      return s + getInnerHTML(node, composed) + '</' + tagName + '>';\n    }\n    case Node.TEXT_NODE: {\n      let data = node.data;\n      if (parentNode && plaintextParents[parentNode.localName]) {\n        return data;\n      }\n      return escapeData(data);\n    }\n    case Node.COMMENT_NODE: {\n      return '<!--' + node.data + '-->';\n    }\n    default: {\n      window.console.error(node);\n      throw new Error('not implemented');\n    }\n  }\n}\n\nfunction getInnerHTML(node, composed) {\n  if (node.localName === 'template') {\n    node = node.content;\n  }\n  let s = '';\n  let c$ = composed ? composed(node) : node.childNodes;\n  for (let i=0, l=c$.length, child; (i<l) && (child=c$[i]); i++) {\n    s += getOuterHTML(child, node, composed);\n  }\n  return s;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet nodeWalker = document.createTreeWalker(document, NodeFilter.SHOW_ALL,\n  null, false);\n\nlet elementWalker = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT,\n  null, false);\n\nfunction parentNode(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.parentNode();\n}\n\nfunction firstChild(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.firstChild();\n}\n\nfunction lastChild(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.lastChild();\n}\n\nfunction previousSibling(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.previousSibling();\n}\n\nfunction nextSibling(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.nextSibling();\n}\n\nfunction childNodes(node) {\n  let nodes = [];\n  nodeWalker.currentNode = node;\n  let n = nodeWalker.firstChild();\n  while (n) {\n    nodes.push(n);\n    n = nodeWalker.nextSibling();\n  }\n  return nodes;\n}\n\nfunction parentElement(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.parentNode();\n}\n\nfunction firstElementChild(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.firstChild();\n}\n\nfunction lastElementChild(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.lastChild();\n}\n\nfunction previousElementSibling(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.previousSibling();\n}\n\nfunction nextElementSibling(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.nextSibling();\n}\n\nfunction children(node) {\n  let nodes = [];\n  elementWalker.currentNode = node;\n  let n = elementWalker.firstChild();\n  while (n) {\n    nodes.push(n);\n    n = elementWalker.nextSibling();\n  }\n  return nodes;\n}\n\nfunction innerHTML(node) {\n  return getInnerHTML(node, (n) => childNodes(n));\n}\n\nfunction textContent(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) {\n    return node.nodeValue;\n  }\n  let textWalker = document.createTreeWalker(node, NodeFilter.SHOW_TEXT,\n    null, false);\n  let content = '', n;\n  while ( (n = textWalker.nextNode()) ) {\n    // TODO(sorvell): can't use textContent since we patch it on Node.prototype!\n    // However, should probably patch it only on element.\n    content += n.nodeValue;\n  }\n  return content;\n}\n\nvar nativeTree = Object.freeze({\n\tparentNode: parentNode,\n\tfirstChild: firstChild,\n\tlastChild: lastChild,\n\tpreviousSibling: previousSibling,\n\tnextSibling: nextSibling,\n\tchildNodes: childNodes,\n\tparentElement: parentElement,\n\tfirstElementChild: firstElementChild,\n\tlastElementChild: lastElementChild,\n\tpreviousElementSibling: previousElementSibling,\n\tnextElementSibling: nextElementSibling,\n\tchildren: children,\n\tinnerHTML: innerHTML,\n\ttextContent: textContent\n});\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction getProperty(node, prop) {\n  return node.__shady && node.__shady[prop];\n}\n\nfunction hasProperty(node, prop) {\n  return getProperty(node, prop) !== undefined;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction generateSimpleDescriptor(prop) {\n  return {\n    get() {\n      let l = getProperty(this, prop);\n      return l !== undefined ? l : nativeTree[prop](this);\n    },\n    configurable: true\n  }\n}\n\nfunction clearNode(node) {\n  while (node.firstChild) {\n    node.removeChild(node.firstChild);\n  }\n}\n\nconst nativeInnerHTMLDesc =\n  Object.getOwnPropertyDescriptor(Element.prototype, 'innerHTML') ||\n  Object.getOwnPropertyDescriptor(HTMLElement.prototype, 'innerHTML');\n\nconst inertDoc = document.implementation.createHTMLDocument('inert');\nconst htmlContainer = inertDoc.createElement('div');\n\nconst nativeActiveElementDescriptor = Object.getOwnPropertyDescriptor(\n  Document.prototype, 'activeElement');\nfunction getDocumentActiveElement() {\n  if (nativeActiveElementDescriptor && nativeActiveElementDescriptor.get) {\n    return nativeActiveElementDescriptor.get.call(document);\n  } else if (!settings.hasDescriptors) {\n    return document.activeElement;\n  }\n}\n\nfunction activeElementForNode(node) {\n  let active = getDocumentActiveElement();\n  if (!active) {\n    return null;\n  }\n  let isShadyRoot$$1 = !!(isShadyRoot(node));\n  if (node !== document) {\n    // If this node isn't a document or shady root, then it doesn't have\n    // an active element.\n    if (!isShadyRoot$$1) {\n      return null;\n    }\n    // If this shady root's host is the active element or the active\n    // element is not a descendant of the host (in the composed tree),\n    // then it doesn't have an active element.\n    if (node.host === active ||\n        !node.host.contains(active)) {\n      return null;\n    }\n  }\n  // This node is either the document or a shady root of which the active\n  // element is a (composed) descendant of its host; iterate upwards to\n  // find the active element's most shallow host within it.\n  let activeRoot = ownerShadyRootForNode(active);\n  while (activeRoot && activeRoot !== node) {\n    active = activeRoot.host;\n    activeRoot = ownerShadyRootForNode(active);\n  }\n  if (node === document) {\n    // This node is the document, so activeRoot should be null.\n    return activeRoot ? null : active;\n  } else {\n    // This node is a non-document shady root, and it should be\n    // activeRoot.\n    return activeRoot === node ? active : null;\n  }\n}\n\nlet OutsideAccessors = {\n  // node...\n  parentElement: generateSimpleDescriptor('parentElement'),\n\n  parentNode: generateSimpleDescriptor('parentNode'),\n\n  nextSibling: generateSimpleDescriptor('nextSibling'),\n\n  previousSibling: generateSimpleDescriptor('previousSibling'),\n\n  className: {\n    get() {\n      return this.getAttribute('class');\n    },\n    set(value) {\n      this.setAttribute('class', value);\n    },\n    configurable: true\n  },\n\n  // fragment, element, document\n  nextElementSibling: {\n    get() {\n      if (hasProperty(this, 'nextSibling')) {\n        let n = this.nextSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.nextSibling;\n        }\n        return n;\n      } else {\n        return nextElementSibling(this);\n      }\n    },\n    configurable: true\n  },\n\n  previousElementSibling: {\n    get() {\n      if (hasProperty(this, 'previousSibling')) {\n        let n = this.previousSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.previousSibling;\n        }\n        return n;\n      } else {\n        return previousElementSibling(this);\n      }\n    },\n    configurable: true\n  }\n\n};\n\nlet InsideAccessors = {\n\n  childNodes: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        if (!this.__shady.childNodes) {\n          this.__shady.childNodes = [];\n          for (let n=this.firstChild; n; n=n.nextSibling) {\n            this.__shady.childNodes.push(n);\n          }\n        }\n        return this.__shady.childNodes;\n      } else {\n        return childNodes(this);\n      }\n    },\n    configurable: true\n  },\n\n  firstChild: generateSimpleDescriptor('firstChild'),\n\n  lastChild: generateSimpleDescriptor('lastChild'),\n\n  textContent: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        let tc = [];\n        for (let i = 0, cn = this.childNodes, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      } else {\n        return textContent(this);\n      }\n    },\n    set(text) {\n      if (this.nodeType !== Node.ELEMENT_NODE) {\n        // TODO(sorvell): can't do this if patch nodeValue.\n        this.nodeValue = text;\n      } else {\n        clearNode(this);\n        if (text) {\n          this.appendChild(document.createTextNode(text));\n        }\n      }\n    },\n    configurable: true\n  },\n\n  // fragment, element, document\n  firstElementChild: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        let n = this.firstChild;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.nextSibling;\n        }\n        return n;\n      } else {\n        return firstElementChild(this);\n      }\n    },\n    configurable: true\n  },\n\n  lastElementChild: {\n    get() {\n      if (hasProperty(this, 'lastChild')) {\n        let n = this.lastChild;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.previousSibling;\n        }\n        return n;\n      } else {\n        return lastElementChild(this);\n      }\n    },\n    configurable: true\n  },\n\n  children: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        return Array.prototype.filter.call(this.childNodes, function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      } else {\n        return children(this);\n      }\n    },\n    configurable: true\n  },\n\n  // element (HTMLElement on IE11)\n  innerHTML: {\n    get() {\n      let content = this.localName === 'template' ? this.content : this;\n      if (hasProperty(this, 'firstChild')) {\n        return getInnerHTML(content);\n      } else {\n        return innerHTML(content);\n      }\n    },\n    set(text) {\n      let content = this.localName === 'template' ? this.content : this;\n      clearNode(content);\n      if (nativeInnerHTMLDesc && nativeInnerHTMLDesc.set) {\n        nativeInnerHTMLDesc.set.call(htmlContainer, text);\n      } else {\n        htmlContainer.innerHTML = text;\n      }\n      while (htmlContainer.firstChild) {\n        content.appendChild(htmlContainer.firstChild);\n      }\n    },\n    configurable: true\n  }\n\n};\n\n// Note: Can be patched on element prototype on all browsers.\n// Must be patched on instance on browsers that support native Shadow DOM\n// but do not have builtin accessors (old Chrome).\nlet ShadowRootAccessor = {\n  shadowRoot: {\n    get() {\n      return this.shadyRoot;\n    },\n    set(value) {\n      this.shadyRoot = value;\n    },\n    configurable: true\n  }\n};\n\n// Note: Can be patched on document prototype on browsers with builtin accessors.\n// Must be patched separately on simulated ShadowRoot.\n// Must be patched as `_activeElement` on browsers without builtin accessors.\nlet ActiveElementAccessor = {\n\n  activeElement: {\n    get() {\n      return activeElementForNode(this);\n    },\n    set() {},\n    configurable: true\n  }\n\n};\n\n// patch a group of descriptors on an object only if it exists or if the `force`\n// argument is true.\nfunction patchAccessorGroup(obj, descriptors, force) {\n  for (let p in descriptors) {\n    let objDesc = Object.getOwnPropertyDescriptor(obj, p);\n    if ((objDesc && objDesc.configurable) ||\n      (!objDesc && force)) {\n      Object.defineProperty(obj, p, descriptors[p]);\n    } else if (force) {\n      console.warn('Could not define', p, 'on', obj);\n    }\n  }\n}\n\n// patch dom accessors on proto where they exist\nfunction patchAccessors(proto) {\n  patchAccessorGroup(proto, OutsideAccessors);\n  patchAccessorGroup(proto, InsideAccessors);\n  patchAccessorGroup(proto, ActiveElementAccessor);\n}\n\n// ensure element descriptors (IE/Edge don't have em)\nfunction patchShadowRootAccessors(proto) {\n  patchAccessorGroup(proto, InsideAccessors, true);\n  patchAccessorGroup(proto, ActiveElementAccessor, true);\n}\n\n// ensure an element has patched \"outside\" accessors; no-op when not needed\nlet patchOutsideElementAccessors = settings.hasDescriptors ?\n  function() {} : function(element) {\n    if (!(element.__shady && element.__shady.__outsideAccessors)) {\n      element.__shady = element.__shady || {};\n      element.__shady.__outsideAccessors = true;\n      patchAccessorGroup(element, OutsideAccessors, true);\n    }\n  };\n\n// ensure an element has patched \"inside\" accessors; no-op when not needed\nlet patchInsideElementAccessors = settings.hasDescriptors ?\n  function() {} : function(element) {\n    if (!(element.__shady && element.__shady.__insideAccessors)) {\n      element.__shady = element.__shady || {};\n      element.__shady.__insideAccessors = true;\n      patchAccessorGroup(element, InsideAccessors, true);\n      patchAccessorGroup(element, ShadowRootAccessor, true);\n    }\n  };\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction recordInsertBefore(node, container, ref_node) {\n  patchInsideElementAccessors(container);\n  container.__shady = container.__shady || {};\n  if (hasProperty(container, 'firstChild')) {\n    container.__shady.childNodes = null;\n  }\n  // handle document fragments\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    let c$ = node.childNodes;\n    for (let i=0; i < c$.length; i++) {\n      linkNode(c$[i], container, ref_node);\n    }\n    // cleanup logical dom in doc fragment.\n    node.__shady = node.__shady || {};\n    let resetTo = hasProperty(node, 'firstChild') ? null : undefined;\n    node.__shady.firstChild = node.__shady.lastChild = resetTo;\n    node.__shady.childNodes = resetTo;\n  } else {\n    linkNode(node, container, ref_node);\n  }\n}\n\nfunction linkNode(node, container, ref_node) {\n  patchOutsideElementAccessors(node);\n  ref_node = ref_node || null;\n  node.__shady = node.__shady || {};\n  container.__shady = container.__shady || {};\n  if (ref_node) {\n    ref_node.__shady = ref_node.__shady || {};\n  }\n  // update ref_node.previousSibling <-> node\n  node.__shady.previousSibling = ref_node ? ref_node.__shady.previousSibling :\n    container.lastChild;\n  let ps = node.__shady.previousSibling;\n  if (ps && ps.__shady) {\n    ps.__shady.nextSibling = node;\n  }\n  // update node <-> ref_node\n  let ns = node.__shady.nextSibling = ref_node;\n  if (ns && ns.__shady) {\n    ns.__shady.previousSibling = node;\n  }\n  // update node <-> container\n  node.__shady.parentNode = container;\n  if (ref_node) {\n    if (ref_node === container.__shady.firstChild) {\n      container.__shady.firstChild = node;\n    }\n  } else {\n    container.__shady.lastChild = node;\n    if (!container.__shady.firstChild) {\n      container.__shady.firstChild = node;\n    }\n  }\n  // remove caching of childNodes\n  container.__shady.childNodes = null;\n}\n\nfunction recordRemoveChild(node, container) {\n  node.__shady = node.__shady || {};\n  container.__shady = container.__shady || {};\n  if (node === container.__shady.firstChild) {\n    container.__shady.firstChild = node.__shady.nextSibling;\n  }\n  if (node === container.__shady.lastChild) {\n    container.__shady.lastChild = node.__shady.previousSibling;\n  }\n  let p = node.__shady.previousSibling;\n  let n = node.__shady.nextSibling;\n  if (p) {\n    p.__shady = p.__shady || {};\n    p.__shady.nextSibling = n;\n  }\n  if (n) {\n    n.__shady = n.__shady || {};\n    n.__shady.previousSibling = p;\n  }\n  // When an element is removed, logical data is no longer tracked.\n  // Explicitly set `undefined` here to indicate this. This is disginguished\n  // from `null` which is set if info is null.\n  node.__shady.parentNode = node.__shady.previousSibling =\n    node.__shady.nextSibling = undefined;\n  if (hasProperty(container, 'childNodes')) {\n    // remove caching of childNodes\n    container.__shady.childNodes = null;\n  }\n}\n\nlet recordChildNodes = function(node) {\n  if (!hasProperty(node, 'firstChild')) {\n    node.__shady = node.__shady || {};\n    node.__shady.firstChild = firstChild(node);\n    node.__shady.lastChild = lastChild(node);\n    patchInsideElementAccessors(node);\n    let c$ = node.__shady.childNodes = childNodes(node);\n    for (let i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n      n.__shady = n.__shady || {};\n      n.__shady.parentNode = node;\n      n.__shady.nextSibling = c$[i+1] || null;\n      n.__shady.previousSibling = c$[i-1] || null;\n      patchOutsideElementAccessors(n);\n    }\n  }\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Try to add node. Record logical info, track insertion points, perform\n// distribution iff needed. Return true if the add is handled.\nfunction addNode(container, node, ref_node) {\n  let ownerRoot = ownerShadyRootForNode(container);\n  let ipAdded;\n  if (ownerRoot) {\n    // optimization: special insertion point tracking\n    // TODO(sorvell): verify that the renderPending check here should not be needed.\n    if (node.__noInsertionPoint && !ownerRoot._changePending) {\n      ownerRoot._skipUpdateInsertionPoints = true;\n    }\n    // note: we always need to see if an insertion point is added\n    // since this saves logical tree info; however, invalidation state\n    // needs\n    ipAdded = _maybeAddInsertionPoint(node, container, ownerRoot);\n    // invalidate insertion points IFF not already invalid!\n    if (ipAdded) {\n      ownerRoot._skipUpdateInsertionPoints = false;\n    }\n  }\n  if (hasProperty(container, 'firstChild')) {\n    recordInsertBefore(node, container, ref_node);\n  }\n  // if not distributing and not adding to host, do a fast path addition\n  // TODO(sorvell): revisit flow since `ipAdded` needed here if\n  // node is a fragment that has a patched QSA.\n  let handled = _maybeDistribute(node, container, ownerRoot, ipAdded) ||\n    container.shadyRoot;\n  return handled;\n}\n\n// Try to remove node: update logical info and perform distribution iff\n// needed. Return true if the removal has been handled.\n// note that it's possible for both the node's host and its parent\n// to require distribution... both cases are handled here.\nfunction removeNode(node) {\n  // important that we want to do this only if the node has a logical parent\n  let logicalParent = hasProperty(node, 'parentNode') &&\n    getProperty(node, 'parentNode');\n  let distributed;\n  let ownerRoot = ownerShadyRootForNode(node);\n  if (logicalParent || ownerRoot) {\n    // distribute node's parent iff needed\n    distributed = maybeDistributeParent(node);\n    if (logicalParent) {\n      recordRemoveChild(node, logicalParent);\n    }\n    // remove node from root and distribute it iff needed\n    let removedDistributed = ownerRoot &&\n      _removeDistributedChildren(ownerRoot, node);\n    let addedInsertionPoint = (logicalParent && ownerRoot &&\n      logicalParent.localName === ownerRoot.getInsertionPointTag());\n    if (removedDistributed || addedInsertionPoint) {\n      ownerRoot._skipUpdateInsertionPoints = false;\n      updateRootViaContentChange(ownerRoot);\n    }\n  }\n  _removeOwnerShadyRoot(node);\n  return distributed;\n}\n\n\nfunction _scheduleObserver(node, addedNode, removedNode) {\n  let observer = node.__shady && node.__shady.observer;\n  if (observer) {\n    if (addedNode) {\n      observer.addedNodes.push(addedNode);\n    }\n    if (removedNode) {\n      observer.removedNodes.push(removedNode);\n    }\n    observer.schedule();\n  }\n}\n\nfunction removeNodeFromParent(node, logicalParent) {\n  if (logicalParent) {\n    _scheduleObserver(logicalParent, null, node);\n    return removeNode(node);\n  } else {\n    // composed but not logical parent\n    if (node.parentNode) {\n      removeChild.call(node.parentNode, node);\n    }\n    _removeOwnerShadyRoot(node);\n  }\n}\n\nfunction _hasCachedOwnerRoot(node) {\n  return Boolean(node.__ownerShadyRoot !== undefined);\n}\n\nfunction getRootNode(node) {\n  if (!node || !node.nodeType) {\n    return;\n  }\n  let root = node.__ownerShadyRoot;\n  if (root === undefined) {\n    if (isShadyRoot(node)) {\n      root = node;\n    } else {\n      let parent = node.parentNode;\n      root = parent ? getRootNode(parent) : node;\n    }\n    // memo-ize result for performance but only memo-ize\n    // result if node is in the document. This avoids a problem where a root\n    // can be cached while an element is inside a fragment.\n    // If this happens and we cache the result, the value can become stale\n    // because for perf we avoid processing the subtree of added fragments.\n    if (document.documentElement.contains(node)) {\n      node.__ownerShadyRoot = root;\n    }\n  }\n  return root;\n}\n\nfunction _maybeDistribute(node, container, ownerRoot, ipAdded) {\n  // TODO(sorvell): technically we should check non-fragment nodes for\n  // <content> children but since this case is assumed to be exceedingly\n  // rare, we avoid the cost and will address with some specific api\n  // when the need arises.  For now, the user must call\n  // distributeContent(true), which updates insertion points manually\n  // and forces distribution.\n  let insertionPointTag = ownerRoot && ownerRoot.getInsertionPointTag() || '';\n  let fragContent = (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) &&\n    !node.__noInsertionPoint &&\n    insertionPointTag && node.querySelector(insertionPointTag);\n  let wrappedContent = fragContent &&\n    (fragContent.parentNode.nodeType !==\n    Node.DOCUMENT_FRAGMENT_NODE);\n  let hasContent = fragContent || (node.localName === insertionPointTag);\n  // There are 3 possible cases where a distribution may need to occur:\n  // 1. <content> being inserted (the host of the shady root where\n  //    content is inserted needs distribution)\n  // 2. children being inserted into parent with a shady root (parent\n  //    needs distribution)\n  // 3. container is an insertionPoint\n  if (hasContent || (container.localName === insertionPointTag) || ipAdded) {\n    if (ownerRoot) {\n      // note, insertion point list update is handled after node\n      // mutations are complete\n      updateRootViaContentChange(ownerRoot);\n    }\n  }\n  let needsDist = _nodeNeedsDistribution(container);\n  if (needsDist) {\n    updateRootViaContentChange(container.shadyRoot);\n  }\n  // Return true when distribution will fully handle the composition\n  // Note that if a content was being inserted that was wrapped by a node,\n  // and the parent does not need distribution, return false to allow\n  // the nodes to be added directly, after which children may be\n  // distributed and composed into the wrapping node(s)\n  return needsDist || (hasContent && !wrappedContent);\n}\n\n/* note: parent argument is required since node may have an out\nof date parent at this point; returns true if a <content> is being added */\nfunction _maybeAddInsertionPoint(node, parent, root) {\n  let added;\n  let insertionPointTag = root.getInsertionPointTag();\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE &&\n    !node.__noInsertionPoint) {\n    let c$ = node.querySelectorAll(insertionPointTag);\n    for (let i=0, n, np, na; (i<c$.length) && (n=c$[i]); i++) {\n      np = n.parentNode;\n      // don't allow node's parent to be fragment itself\n      if (np === node) {\n        np = parent;\n      }\n      na = _maybeAddInsertionPoint(n, np, root);\n      added = added || na;\n    }\n  } else if (node.localName === insertionPointTag) {\n    recordChildNodes(parent);\n    recordChildNodes(node);\n    added = true;\n  }\n  return added;\n}\n\nfunction _nodeNeedsDistribution(node) {\n  return node && node.shadyRoot &&\n    node.shadyRoot.hasInsertionPoint();\n}\n\nfunction _removeDistributedChildren(root, container) {\n  let hostNeedsDist;\n  let ip$ = root._insertionPoints;\n  for (let i=0; i<ip$.length; i++) {\n    let insertionPoint = ip$[i];\n    if (_contains(container, insertionPoint)) {\n      let dc$ = insertionPoint.assignedNodes({flatten: true});\n      for (let j=0; j<dc$.length; j++) {\n        hostNeedsDist = true;\n        let node = dc$[j];\n        let parent = parentNode(node);\n        if (parent) {\n          removeChild.call(parent, node);\n        }\n      }\n    }\n  }\n  return hostNeedsDist;\n}\n\nfunction _contains(container, node) {\n  while (node) {\n    if (node == container) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n}\n\nfunction _removeOwnerShadyRoot(node) {\n  // optimization: only reset the tree if node is actually in a root\n  if (_hasCachedOwnerRoot(node)) {\n    let c$ = node.childNodes;\n    for (let i=0, l=c$.length, n; (i<l) && (n=c$[i]); i++) {\n      _removeOwnerShadyRoot(n);\n    }\n  }\n  node.__ownerShadyRoot = undefined;\n}\n\n// TODO(sorvell): This will fail if distribution that affects this\n// question is pending; this is expected to be exceedingly rare, but if\n// the issue comes up, we can force a flush in this case.\nfunction firstComposedNode(insertionPoint) {\n  let n$ = insertionPoint.assignedNodes({flatten: true});\n  let root = getRootNode(insertionPoint);\n  for (let i=0, l=n$.length, n; (i<l) && (n=n$[i]); i++) {\n    // means that we're composed to this spot.\n    if (root.isFinalDestination(insertionPoint, n)) {\n      return n;\n    }\n  }\n}\n\nfunction maybeDistributeParent(node) {\n  let parent = node.parentNode;\n  if (_nodeNeedsDistribution(parent)) {\n    updateRootViaContentChange(parent.shadyRoot);\n    return true;\n  }\n}\n\nfunction updateRootViaContentChange(root) {\n  // mark root as mutation based on a mutation\n  root._changePending = true;\n  root.update();\n}\n\nfunction distributeAttributeChange(node, name) {\n  if (name === 'slot') {\n    maybeDistributeParent(node);\n  } else if (node.localName === 'slot' && name === 'name') {\n    let root = ownerShadyRootForNode(node);\n    if (root) {\n      root.update();\n    }\n  }\n}\n\n// NOTE: `query` is used primarily for ShadyDOM's querySelector impl,\n// but it's also generally useful to recurse through the element tree\n// and is used by Polymer's styling system.\nfunction query(node, matcher, halter) {\n  let list = [];\n  _queryElements(node.childNodes, matcher,\n    halter, list);\n  return list;\n}\n\nfunction _queryElements(elements, matcher, halter, list) {\n  for (let i=0, l=elements.length, c; (i<l) && (c=elements[i]); i++) {\n    if (c.nodeType === Node.ELEMENT_NODE &&\n        _queryElement(c, matcher, halter, list)) {\n      return true;\n    }\n  }\n}\n\nfunction _queryElement(node, matcher, halter, list) {\n  let result = matcher(node);\n  if (result) {\n    list.push(node);\n  }\n  if (halter && halter(result)) {\n    return result;\n  }\n  _queryElements(node.childNodes, matcher,\n    halter, list);\n}\n\nfunction renderRootNode(element) {\n  var root = element.getRootNode();\n  if (isShadyRoot(root)) {\n    root.render();\n  }\n}\n\nfunction setAttribute$1(node, attr, value) {\n  // avoid scoping elements in non-main document to avoid template documents\n  if (window.ShadyCSS && attr === 'class' && node.ownerDocument === document) {\n    window.ShadyCSS.setElementClass(node, value);\n  } else {\n    setAttribute.call(node, attr, value);\n    distributeAttributeChange(node, attr);\n  }\n}\n\nfunction removeAttribute$1(node, attr) {\n  removeAttribute.call(node, attr);\n  distributeAttributeChange(node, attr);\n}\n\n// cases in which we may not be able to just do standard native call\n// 1. container has a shadyRoot (needsDistribution IFF the shadyRoot\n// has an insertion point)\n// 2. container is a shadyRoot (don't distribute, instead set\n// container to container.host.\n// 3. node is <content> (host of container needs distribution)\nfunction insertBefore$1(parent, node, ref_node) {\n  if (ref_node) {\n    let p = getProperty(ref_node, 'parentNode');\n    if (p !== undefined && p !== parent) {\n      throw Error('The ref_node to be inserted before is not a child ' +\n        'of this node');\n    }\n  }\n  // remove node from its current position iff it's in a tree.\n  if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n    let parent = getProperty(node, 'parentNode');\n    removeNodeFromParent(node, parent);\n  }\n  if (!addNode(parent, node, ref_node)) {\n    if (ref_node) {\n      // if ref_node is an insertion point replace with first distributed node\n      let root = ownerShadyRootForNode(ref_node);\n      if (root) {\n        ref_node = ref_node.localName === root.getInsertionPointTag() ?\n          firstComposedNode(ref_node) : ref_node;\n      }\n    }\n    // if adding to a shadyRoot, add to host instead\n    let container = isShadyRoot(parent) ?\n      parent.host : parent;\n    if (ref_node) {\n      insertBefore.call(container, node, ref_node);\n    } else {\n      appendChild.call(container, node);\n    }\n  }\n  _scheduleObserver(parent, node);\n  return node;\n}\n\n/**\n  Removes the given `node` from the element's `lightChildren`.\n  This method also performs dom composition.\n*/\nfunction removeChild$1(parent, node) {\n  if (node.parentNode !== parent) {\n    throw Error('The node to be removed is not a child of this node: ' +\n      node);\n  }\n  if (!removeNode(node)) {\n    // if removing from a shadyRoot, remove form host instead\n    let container = isShadyRoot(parent) ?\n      parent.host :\n      parent;\n    // not guaranteed to physically be in container; e.g.\n    // undistributed nodes.\n    let nativeParent = parentNode(node);\n    if (container === nativeParent) {\n      removeChild.call(container, node);\n    }\n  }\n  _scheduleObserver(parent, null, node);\n  return node;\n}\n\nfunction cloneNode$1(node, deep) {\n  if (node.localName == 'template') {\n    return cloneNode.call(node, deep);\n  } else {\n    let n = cloneNode.call(node, false);\n    if (deep) {\n      let c$ = node.childNodes;\n      for (let i=0, nc; i < c$.length; i++) {\n        nc = c$[i].cloneNode(true);\n        n.appendChild(nc);\n      }\n    }\n    return n;\n  }\n}\n\n// note: Though not technically correct, we fast path `importNode`\n// when called on a node not owned by the main document.\n// This allows, for example, elements that cannot\n// contain custom elements and are therefore not likely to contain shadowRoots\n// to cloned natively. This is a fairly significant performance win.\nfunction importNode$1(node, deep) {\n  if (node.ownerDocument !== document) {\n    return importNode.call(document, node, deep);\n  }\n  let n = importNode.call(document, node, false);\n  if (deep) {\n    let c$ = node.childNodes;\n    for (let i=0, nc; i < c$.length; i++) {\n      nc = importNode$1(c$[i], true);\n      n.appendChild(nc);\n    }\n  }\n  return n;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// https://github.com/w3c/webcomponents/issues/513#issuecomment-224183937\nlet alwaysComposed = {\n  blur: true,\n  focus: true,\n  focusin: true,\n  focusout: true,\n  click: true,\n  dblclick: true,\n  mousedown: true,\n  mouseenter: true,\n  mouseleave: true,\n  mousemove: true,\n  mouseout: true,\n  mouseover: true,\n  mouseup: true,\n  wheel: true,\n  beforeinput: true,\n  input: true,\n  keydown: true,\n  keyup: true,\n  compositionstart: true,\n  compositionupdate: true,\n  compositionend: true,\n  touchstart: true,\n  touchend: true,\n  touchmove: true,\n  touchcancel: true,\n  pointerover: true,\n  pointerenter: true,\n  pointerdown: true,\n  pointermove: true,\n  pointerup: true,\n  pointercancel: true,\n  pointerout: true,\n  pointerleave: true,\n  gotpointercapture: true,\n  lostpointercapture: true,\n  dragstart: true,\n  drag: true,\n  dragenter: true,\n  dragleave: true,\n  dragover: true,\n  drop: true,\n  dragend: true,\n  DOMActivate: true,\n  DOMFocusIn: true,\n  DOMFocusOut: true,\n  keypress: true\n};\n\nfunction pathComposer(startNode, composed) {\n  let composedPath = [];\n  let current = startNode;\n  let startRoot = startNode === window ? window : startNode.getRootNode();\n  while (current) {\n    composedPath.push(current);\n    if (current.assignedSlot) {\n      current = current.assignedSlot;\n    } else if (current.nodeType === Node.DOCUMENT_FRAGMENT_NODE && current.host && (composed || current !== startRoot)) {\n      current = current.host;\n    } else {\n      current = current.parentNode;\n    }\n  }\n  // event composedPath includes window when startNode's ownerRoot is document\n  if (composedPath[composedPath.length - 1] === document) {\n    composedPath.push(window);\n  }\n  return composedPath;\n}\n\nfunction retarget(refNode, path) {\n  if (!isShadyRoot) {\n    return refNode;\n  }\n  // If ANCESTOR's root is not a shadow root or ANCESTOR's root is BASE's\n  // shadow-including inclusive ancestor, return ANCESTOR.\n  let refNodePath = pathComposer(refNode, true);\n  let p$ = path;\n  for (let i=0, ancestor, lastRoot, root, rootIdx; i < p$.length; i++) {\n    ancestor = p$[i];\n    root = ancestor === window ? window : ancestor.getRootNode();\n    if (root !== lastRoot) {\n      rootIdx = refNodePath.indexOf(root);\n      lastRoot = root;\n    }\n    if (!isShadyRoot(root) || rootIdx > -1) {\n      return ancestor;\n    }\n  }\n}\n\nlet eventMixin = {\n\n  get composed() {\n    if (this.isTrusted && this.__composed === undefined) {\n      this.__composed = alwaysComposed[this.type];\n    }\n    return this.__composed || false;\n  },\n\n  composedPath() {\n    if (!this.__composedPath) {\n      this.__composedPath = pathComposer(this.__target, this.composed);\n    }\n    return this.__composedPath;\n  },\n\n  get target() {\n    return retarget(this.currentTarget, this.composedPath());\n  },\n\n  // http://w3c.github.io/webcomponents/spec/shadow/#event-relatedtarget-retargeting\n  get relatedTarget() {\n    if (!this.__relatedTarget) {\n      return null;\n    }\n    if (!this.__relatedTargetComposedPath) {\n      this.__relatedTargetComposedPath = pathComposer(this.__relatedTarget, true);\n    }\n    // find the deepest node in relatedTarget composed path that is in the same root with the currentTarget\n    return retarget(this.currentTarget, this.__relatedTargetComposedPath);\n  },\n  stopPropagation() {\n    Event.prototype.stopPropagation.call(this);\n    this.__propagationStopped = true;\n  },\n  stopImmediatePropagation() {\n    Event.prototype.stopImmediatePropagation.call(this);\n    this.__immediatePropagationStopped = true;\n    this.__propagationStopped = true;\n  }\n\n};\n\nfunction mixinComposedFlag(Base) {\n  // NOTE: avoiding use of `class` here so that transpiled output does not\n  // try to do `Base.call` with a dom construtor.\n  let klazz = function(type, options) {\n    let event = new Base(type, options);\n    event.__composed = options && Boolean(options.composed);\n    return event;\n  };\n  // put constructor properties on subclass\n  mixin(klazz, Base);\n  klazz.prototype = Base.prototype;\n  return klazz;\n}\n\nlet nonBubblingEventsToRetarget = {\n  focus: true,\n  blur: true\n};\n\nfunction fireHandlers(event, node, phase) {\n  let hs = node.__handlers && node.__handlers[event.type] &&\n    node.__handlers[event.type][phase];\n  if (hs) {\n    for (let i = 0, fn; (fn = hs[i]); i++) {\n      fn.call(node, event);\n      if (event.__immediatePropagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction retargetNonBubblingEvent(e) {\n  let path = e.composedPath();\n  let node;\n  // override `currentTarget` to let patched `target` calculate correctly\n  Object.defineProperty(e, 'currentTarget', {\n    get: function() {\n      return node;\n    },\n    configurable: true\n  });\n  for (let i = path.length - 1; i >= 0; i--) {\n    node = path[i];\n    // capture phase fires all capture handlers\n    fireHandlers(e, node, 'capture');\n    if (e.__propagationStopped) {\n      return;\n    }\n  }\n\n  // set the event phase to `AT_TARGET` as in spec\n  Object.defineProperty(e, 'eventPhase', {value: Event.AT_TARGET});\n\n  // the event only needs to be fired when owner roots change when iterating the event path\n  // keep track of the last seen owner root\n  let lastFiredRoot;\n  for (let i = 0; i < path.length; i++) {\n    node = path[i];\n    if (i === 0 || (node.shadowRoot && node.shadowRoot === lastFiredRoot)) {\n      fireHandlers(e, node, 'bubble');\n      // don't bother with window, it doesn't have `getRootNode` and will be last in the path anyway\n      if (node !== window) {\n        lastFiredRoot = node.getRootNode();\n      }\n      if (e.__propagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction addEventListener$1(type, fn, optionsOrCapture) {\n  if (!fn) {\n    return;\n  }\n\n  // The callback `fn` might be used for multiple nodes/events. Since we generate\n  // a wrapper function, we need to keep track of it when we remove the listener.\n  // It's more efficient to store the node/type/options information as Array in\n  // `fn` itself rather than the node (we assume that the same callback is used\n  // for few nodes at most, whereas a node will likely have many event listeners).\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  let capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  if (fn.__eventWrappers) {\n    // Stop if the wrapper function has already been created.\n    for (let i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        return;\n      }\n    }\n  } else {\n    fn.__eventWrappers = [];\n  }\n\n  const wrapperFn = function(e) {\n    // Support `once` option.\n    if (once) {\n      this.removeEventListener(type, fn, optionsOrCapture);\n    }\n    if (!e.__target) {\n      e.__target = e.target;\n      e.__relatedTarget = e.relatedTarget;\n      patchPrototype(e, eventMixin);\n    }\n    // There are two critera that should stop events from firing on this node\n    // 1. the event is not composed and the current node is not in the same root as the target\n    // 2. when bubbling, if after retargeting, relatedTarget and target point to the same node\n    if (e.composed || e.composedPath().indexOf(this) > -1) {\n      if (e.eventPhase === Event.BUBBLING_PHASE) {\n        if (e.target === e.relatedTarget) {\n          e.stopImmediatePropagation();\n          return;\n        }\n      }\n      return fn(e);\n    }\n  };\n  // Store the wrapper information.\n  fn.__eventWrappers.push({\n    node: this,\n    type: type,\n    capture: capture,\n    once: once,\n    passive: passive,\n    wrapperFn: wrapperFn\n  });\n\n  if (nonBubblingEventsToRetarget[type]) {\n    this.__handlers = this.__handlers || {};\n    this.__handlers[type] = this.__handlers[type] || {capture: [], bubble: []};\n    this.__handlers[type][capture ? 'capture' : 'bubble'].push(wrapperFn);\n  } else {\n    addEventListener.call(this, type, wrapperFn, optionsOrCapture);\n  }\n}\n\nfunction removeEventListener$1(type, fn, optionsOrCapture) {\n  if (!fn) {\n    return;\n  }\n\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  let capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  // Search the wrapped function.\n  let wrapperFn = undefined;\n  if (fn.__eventWrappers) {\n    for (let i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        wrapperFn = fn.__eventWrappers.splice(i, 1)[0].wrapperFn;\n        // Cleanup.\n        if (!fn.__eventWrappers.length) {\n          fn.__eventWrappers = undefined;\n        }\n        break;\n      }\n    }\n  }\n\n  removeEventListener.call(this, type, wrapperFn || fn, optionsOrCapture);\n  if (wrapperFn && nonBubblingEventsToRetarget[type] &&\n      this.__handlers && this.__handlers[type]) {\n    const arr = this.__handlers[type][capture ? 'capture' : 'bubble'];\n    const idx = arr.indexOf(wrapperFn);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n    }\n  }\n}\n\nfunction activateFocusEventOverrides() {\n  for (let ev in nonBubblingEventsToRetarget) {\n    window.addEventListener(ev, function(e) {\n      if (!e.__target) {\n        e.__target = e.target;\n        e.__relatedTarget = e.relatedTarget;\n        patchPrototype(e, eventMixin);\n        retargetNonBubblingEvent(e);\n        e.stopImmediatePropagation();\n      }\n    }, true);\n  }\n}\n\nlet PatchedEvent = mixinComposedFlag(window.Event);\nlet PatchedCustomEvent = mixinComposedFlag(window.CustomEvent);\nlet PatchedMouseEvent = mixinComposedFlag(window.MouseEvent);\n\nfunction patchEvents() {\n  window.Event = PatchedEvent;\n  window.CustomEvent = PatchedCustomEvent;\n  window.MouseEvent = PatchedMouseEvent;\n  activateFocusEventOverrides();\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction newSplice(index, removed, addedCount) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n\nlet ArraySplice = {\n\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances(current, currentStart, currentEnd,\n                              old, oldStart, oldEnd) {\n    // \"Deletion\" columns\n    let rowCount = oldEnd - oldStart + 1;\n    let columnCount = currentEnd - currentStart + 1;\n    let distances = new Array(rowCount);\n\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; i++) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (let j = 0; j < columnCount; j++)\n      distances[0][j] = j;\n\n    for (let i = 1; i < rowCount; i++) {\n      for (let j = 1; j < columnCount; j++) {\n        if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))\n          distances[i][j] = distances[i - 1][j - 1];\n        else {\n          let north = distances[i - 1][j] + 1;\n          let west = distances[i][j - 1] + 1;\n          distances[i][j] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances(distances) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    let edits = [];\n    while (i > 0 || j > 0) {\n      if (i == 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j == 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      let northWest = distances[i - 1][j - 1];\n      let west = distances[i - 1][j];\n      let north = distances[i][j - 1];\n\n      let min;\n      if (west < north)\n        min = west < northWest ? west : northWest;\n      else\n        min = north < northWest ? north : northWest;\n\n      if (min == northWest) {\n        if (northWest == current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min == west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices(current, currentStart, currentEnd,\n                        old, oldStart, oldEnd) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n    let splice;\n\n    let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart == 0 && oldStart == 0)\n      prefixCount = this.sharedPrefix(current, old, minLength);\n\n    if (currentEnd == current.length && oldEnd == old.length)\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n      return [];\n\n    if (currentStart == currentEnd) {\n      splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd)\n        splice.removed.push(old[oldStart++]);\n\n      return [ splice ];\n    } else if (oldStart == oldEnd)\n      return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n    let ops = this.spliceOperationsFromEditDistances(\n        this.calcEditDistances(current, currentStart, currentEnd,\n                               old, oldStart, oldEnd));\n\n    splice = undefined;\n    let splices = [];\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; i++) {\n      switch(ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix(current, old, searchLength) {\n    for (let i = 0; i < searchLength; i++)\n      if (!this.equals(current[i], old[i]))\n        return i;\n    return searchLength;\n  },\n\n  sharedSuffix(current, old, searchLength) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2]))\n      count++;\n\n    return count;\n  },\n\n  calculateSplices(current, previous) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n                            previous.length);\n  },\n\n  equals(currentValue, previousValue) {\n    return currentValue === previousValue;\n  }\n\n};\n\nlet calculateSplices = (current, previous) =>\n  ArraySplice.calculateSplices(current, previous);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// NOTE: normalize event contruction where necessary (IE11)\nlet NormalizedEvent = typeof Event === 'function' ? Event :\n  function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    return e;\n  };\n\nvar Distributor = class {\n\n  constructor(root) {\n    this.root = root;\n    this.insertionPointTag = 'slot';\n  }\n\n  getInsertionPoints() {\n    return this.root.querySelectorAll(this.insertionPointTag);\n  }\n\n  hasInsertionPoint() {\n    return Boolean(this.root._insertionPoints &&\n      this.root._insertionPoints.length);\n  }\n\n  isInsertionPoint(node) {\n    return node.localName && node.localName == this.insertionPointTag;\n  }\n\n  distribute() {\n    if (this.hasInsertionPoint()) {\n      return this.distributePool(this.root, this.collectPool());\n    }\n    return [];\n  }\n\n  // Gather the pool of nodes that should be distributed. We will combine\n  // these with the \"content root\" to arrive at the composed tree.\n  collectPool() {\n    let host = this.root.host;\n    let pool=[], i=0;\n    for (let n=host.firstChild; n; n=n.nextSibling) {\n      pool[i++] = n;\n    }\n    return pool;\n  }\n\n  // perform \"logical\" distribution; note, no actual dom is moved here,\n  // instead elements are distributed into storage\n  // array where applicable.\n  distributePool(node, pool) {\n    let dirtyRoots = [];\n    let p$ = this.root._insertionPoints;\n    for (let i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n      this.distributeInsertionPoint(p, pool);\n      // provoke redistribution on insertion point parents\n      // must do this on all candidate hosts since distribution in this\n      // scope invalidates their distribution.\n      // only get logical parent.\n      let parent = p.parentNode;\n      if (parent && parent.shadyRoot &&\n          this.hasInsertionPoint(parent.shadyRoot)) {\n        dirtyRoots.push(parent.shadyRoot);\n      }\n    }\n    for (let i=0; i < pool.length; i++) {\n      let p = pool[i];\n      if (p) {\n        p.__shady = p.__shady || {};\n        p.__shady.assignedSlot = undefined;\n        // remove undistributed elements from physical dom.\n        let parent = parentNode(p);\n        if (parent) {\n          removeChild.call(parent, p);\n        }\n      }\n    }\n    return dirtyRoots;\n  }\n\n  distributeInsertionPoint(insertionPoint, pool) {\n    let prevAssignedNodes = insertionPoint.__shady.assignedNodes;\n    if (prevAssignedNodes) {\n      this.clearAssignedSlots(insertionPoint, true);\n    }\n    insertionPoint.__shady.assignedNodes = [];\n    let needsSlotChange = false;\n    // distribute nodes from the pool that this selector matches\n    let anyDistributed = false;\n    for (let i=0, l=pool.length, node; i < l; i++) {\n      node=pool[i];\n      // skip nodes that were already used\n      if (!node) {\n        continue;\n      }\n      // distribute this node if it matches\n      if (this.matchesInsertionPoint(node, insertionPoint)) {\n        if (node.__shady._prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this.distributeNodeInto(node, insertionPoint);\n        // remove this node from the pool\n        pool[i] = undefined;\n        // since at least one node matched, we won't need fallback content\n        anyDistributed = true;\n      }\n    }\n    // Fallback content if nothing was distributed here\n    if (!anyDistributed) {\n      let children$$1 = insertionPoint.childNodes;\n      for (let j = 0, node; j < children$$1.length; j++) {\n        node = children$$1[j];\n        if (node.__shady._prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this.distributeNodeInto(node, insertionPoint);\n      }\n    }\n    // we're already dirty if a node was newly added to the slot\n    // and we're also dirty if the assigned count decreased.\n    if (prevAssignedNodes) {\n      // TODO(sorvell): the tracking of previously assigned slots\n      // could instead by done with a Set and then we could\n      // avoid needing to iterate here to clear the info.\n      for (let i=0; i < prevAssignedNodes.length; i++) {\n        prevAssignedNodes[i].__shady._prevAssignedSlot = null;\n      }\n      if (insertionPoint.__shady.assignedNodes.length < prevAssignedNodes.length) {\n        needsSlotChange = true;\n      }\n    }\n    this.setDistributedNodesOnInsertionPoint(insertionPoint);\n    if (needsSlotChange) {\n      this._fireSlotChange(insertionPoint);\n    }\n  }\n\n  clearAssignedSlots(slot, savePrevious) {\n    let n$ = slot.__shady.assignedNodes;\n    if (n$) {\n      for (let i=0; i < n$.length; i++) {\n        let n = n$[i];\n        if (savePrevious) {\n          n.__shady._prevAssignedSlot = n.__shady.assignedSlot;\n        }\n        // only clear if it was previously set to this slot;\n        // this helps ensure that if the node has otherwise been distributed\n        // ignore it.\n        if (n.__shady.assignedSlot === slot) {\n          n.__shady.assignedSlot = null;\n        }\n      }\n    }\n  }\n\n  matchesInsertionPoint(node, insertionPoint) {\n    let slotName = insertionPoint.getAttribute('name');\n    slotName = slotName ? slotName.trim() : '';\n    let slot = node.getAttribute && node.getAttribute('slot');\n    slot = slot ? slot.trim() : '';\n    return (slot == slotName);\n  }\n\n  distributeNodeInto(child, insertionPoint) {\n    insertionPoint.__shady.assignedNodes.push(child);\n    child.__shady.assignedSlot = insertionPoint;\n  }\n\n  setDistributedNodesOnInsertionPoint(insertionPoint) {\n    let n$ = insertionPoint.__shady.assignedNodes;\n    insertionPoint.__shady.distributedNodes = [];\n    for (let i=0, n; (i<n$.length) && (n=n$[i]) ; i++) {\n      if (this.isInsertionPoint(n)) {\n        let d$ = n.__shady.distributedNodes;\n        if (d$) {\n          for (let j=0; j < d$.length; j++) {\n            insertionPoint.__shady.distributedNodes.push(d$[j]);\n          }\n        }\n      } else {\n        insertionPoint.__shady.distributedNodes.push(n$[i]);\n      }\n    }\n  }\n\n  _fireSlotChange(insertionPoint) {\n    // NOTE: cannot bubble correctly here so not setting bubbles: true\n    // Safari tech preview does not bubble but chrome does\n    // Spec says it bubbles (https://dom.spec.whatwg.org/#mutation-observers)\n    insertionPoint.dispatchEvent(new NormalizedEvent('slotchange'));\n    if (insertionPoint.__shady.assignedSlot) {\n      this._fireSlotChange(insertionPoint.__shady.assignedSlot);\n    }\n  }\n\n  isFinalDestination(insertionPoint) {\n    return !(insertionPoint.__shady.assignedSlot);\n  }\n\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Do not export this object. It must be passed as the first argument to the\n// ShadyRoot constructor in `attachShadow` to prevent the constructor from\n// throwing. This prevents the user from being able to manually construct a\n// ShadyRoot (i.e. `new ShadowRoot()`).\nconst ShadyRootConstructionToken = {};\n\nlet ShadyRoot = function(token, host) {\n  if (token !== ShadyRootConstructionToken) {\n    throw new TypeError('Illegal constructor');\n  }\n  // NOTE: this strange construction is necessary because\n  // DocumentFragment cannot be subclassed on older browsers.\n  let shadowRoot = document.createDocumentFragment();\n  shadowRoot.__proto__ = ShadyRoot.prototype;\n  shadowRoot._init(host);\n  return shadowRoot;\n};\n\nShadyRoot.prototype = Object.create(DocumentFragment.prototype);\nextendAll(ShadyRoot.prototype, {\n\n  _init(host) {\n    // NOTE: set a fake local name so this element can be\n    // distinguished from a DocumentFragment when patching.\n    // FF doesn't allow this to be `localName`\n    this.__localName = 'ShadyRoot';\n    // logical dom setup\n    recordChildNodes(host);\n    recordChildNodes(this);\n    // root <=> host\n    host.shadowRoot = this;\n    this.host = host;\n    // state flags\n    this._renderPending = false;\n    this._hasRendered = false;\n    this._changePending = false;\n    this._distributor = new Distributor(this);\n    this.update();\n  },\n\n  // async render\n  update() {\n    if (!this._renderPending) {\n      this._renderPending = true;\n      enqueue(() => this.render());\n    }\n  },\n\n  // returns the oldest renderPending ancestor root.\n  _getRenderRoot() {\n    let renderRoot = this;\n    let root = this;\n    while (root) {\n      if (root._renderPending) {\n        renderRoot = root;\n      }\n      root = root._rendererForHost();\n    }\n    return renderRoot;\n  },\n\n  // Returns the shadyRoot `this.host` if `this.host`\n  // has children that require distribution.\n  _rendererForHost() {\n    let root = this.host.getRootNode();\n    if (isShadyRoot(root)) {\n      let c$ = this.host.childNodes;\n      for (let i=0, c; i < c$.length; i++) {\n        c = c$[i];\n        if (this._distributor.isInsertionPoint(c)) {\n          return root;\n        }\n      }\n    }\n  },\n\n  render() {\n    if (this._renderPending) {\n      this._getRenderRoot()._render();\n    }\n  },\n\n  _render() {\n    this._renderPending = false;\n    this._changePending = false;\n    if (!this._skipUpdateInsertionPoints) {\n      this.updateInsertionPoints();\n    } else if (!this._hasRendered) {\n      this._insertionPoints = [];\n    }\n    this._skipUpdateInsertionPoints = false;\n    // TODO(sorvell): can add a first render optimization here\n    // to use if there are no insertion points\n    // 1. clear host node of composed children\n    // 2. appendChild the shadowRoot itself or (more robust) its logical children\n    // NOTE: this didn't seem worth it in perf testing\n    // but not ready to delete this info.\n    // logical\n    this.distribute();\n    // physical\n    this.compose();\n    this._hasRendered = true;\n  },\n\n  forceRender() {\n    this._renderPending = true;\n    this.render();\n  },\n\n  distribute() {\n    let dirtyRoots = this._distributor.distribute();\n    for (let i=0; i<dirtyRoots.length; i++) {\n      dirtyRoots[i]._render();\n    }\n  },\n\n  updateInsertionPoints() {\n    let i$ = this.__insertionPoints;\n    // if any insertion points have been removed, clear their distribution info\n    if (i$) {\n      for (let i=0, c; i < i$.length; i++) {\n        c = i$[i];\n        if (c.getRootNode() !== this) {\n          this._distributor.clearAssignedSlots(c);\n        }\n      }\n    }\n    i$ = this._insertionPoints = this._distributor.getInsertionPoints();\n    // ensure insertionPoints's and their parents have logical dom info.\n    // save logical tree info\n    // a. for shadyRoot\n    // b. for insertion points (fallback)\n    // c. for parents of insertion points\n    for (let i=0, c; i < i$.length; i++) {\n      c = i$[i];\n      c.__shady = c.__shady || {};\n      recordChildNodes(c);\n      recordChildNodes(c.parentNode);\n    }\n  },\n\n  get _insertionPoints() {\n    if (!this.__insertionPoints) {\n      this.updateInsertionPoints();\n    }\n    return this.__insertionPoints || (this.__insertionPoints = []);\n  },\n\n  set _insertionPoints(insertionPoints) {\n    this.__insertionPoints = insertionPoints;\n  },\n\n  hasInsertionPoint() {\n    return this._distributor.hasInsertionPoint();\n  },\n\n  compose() {\n    // compose self\n    // note: it's important to mark this clean before distribution\n    // so that attachment that provokes additional distribution (e.g.\n    // adding something to your parentNode) works\n    this._composeTree();\n    // TODO(sorvell): See fast paths here in Polymer v1\n    // (these seem unnecessary)\n  },\n\n  // Reify dom such that it is at its correct rendering position\n  // based on logical distribution.\n  _composeTree() {\n    this._updateChildNodes(this.host, this._composeNode(this.host));\n    let p$ = this._insertionPoints || [];\n    for (let i=0, l=p$.length, p, parent; (i<l) && (p=p$[i]); i++) {\n      parent = p.parentNode;\n      if ((parent !== this.host) && (parent !== this)) {\n        this._updateChildNodes(parent, this._composeNode(parent));\n      }\n    }\n  },\n\n  // Returns the list of nodes which should be rendered inside `node`.\n  _composeNode(node) {\n    let children$$1 = [];\n    let c$ = (node.shadyRoot || node).childNodes;\n    for (let i = 0; i < c$.length; i++) {\n      let child = c$[i];\n      if (this._distributor.isInsertionPoint(child)) {\n        let distributedNodes = child.__shady.distributedNodes ||\n          (child.__shady.distributedNodes = []);\n        for (let j = 0; j < distributedNodes.length; j++) {\n          let distributedNode = distributedNodes[j];\n          if (this.isFinalDestination(child, distributedNode)) {\n            children$$1.push(distributedNode);\n          }\n        }\n      } else {\n        children$$1.push(child);\n      }\n    }\n    return children$$1;\n  },\n\n  isFinalDestination(insertionPoint, node) {\n    return this._distributor.isFinalDestination(\n      insertionPoint, node);\n  },\n\n  // Ensures that the rendered node list inside `container` is `children`.\n  _updateChildNodes(container, children$$1) {\n    let composed = childNodes(container);\n    let splices = calculateSplices(children$$1, composed);\n    // process removals\n    for (let i=0, d=0, s; (i<splices.length) && (s=splices[i]); i++) {\n      for (let j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n        // check if the node is still where we expect it is before trying\n        // to remove it; this can happen if we move a node and\n        // then schedule its previous host for distribution resulting in\n        // the node being removed here.\n        if (parentNode(n) === container) {\n          removeChild.call(container, n);\n        }\n        composed.splice(s.index + d, 1);\n      }\n      d -= s.addedCount;\n    }\n    // process adds\n    for (let i=0, s, next; (i<splices.length) && (s=splices[i]); i++) { //eslint-disable-line no-redeclare\n      next = composed[s.index];\n      for (let j=s.index, n; j < s.index + s.addedCount; j++) {\n        n = children$$1[j];\n        insertBefore.call(container, n, next);\n        // TODO(sorvell): is this splice strictly needed?\n        composed.splice(j, 0, n);\n      }\n    }\n  },\n\n  getInsertionPointTag() {\n    return this._distributor.insertionPointTag;\n  }\n\n});\n\n/**\n  Implements a pared down version of ShadowDOM's scoping, which is easy to\n  polyfill across browsers.\n*/\nfunction attachShadow(host, options) {\n  if (!host) {\n    throw 'Must provide a host.';\n  }\n  if (!options) {\n    throw 'Not enough arguments.'\n  }\n  return new ShadyRoot(ShadyRootConstructionToken, host);\n}\n\npatchShadowRootAccessors(ShadyRoot.prototype);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction getAssignedSlot(node) {\n  renderRootNode(node);\n  return getProperty(node, 'assignedSlot') || null;\n}\n\nlet nodeMixin = {\n\n  addEventListener: addEventListener$1,\n\n  removeEventListener: removeEventListener$1,\n\n  appendChild(node) {\n    return insertBefore$1(this, node);\n  },\n\n  insertBefore(node, ref_node) {\n    return insertBefore$1(this, node, ref_node);\n  },\n\n  removeChild(node) {\n    return removeChild$1(this, node);\n  },\n\n  replaceChild(node, ref_node) {\n    this.insertBefore(node, ref_node);\n    this.removeChild(ref_node);\n    return node;\n  },\n\n  cloneNode(deep) {\n    return cloneNode$1(this, deep);\n  },\n\n  getRootNode(options) {\n    return getRootNode(this, options);\n  },\n\n  get isConnected() {\n    // Fast path for distributed nodes.\n    const ownerDocument = this.ownerDocument;\n    if (ownerDocument && ownerDocument.contains && ownerDocument.contains(this)) return true;\n    const ownerDocumentElement = ownerDocument.documentElement;\n    if (ownerDocumentElement && ownerDocumentElement.contains && ownerDocumentElement.contains(this)) return true;\n\n    let node = this;\n    while (node && !(node instanceof Document)) {\n      node = node.parentNode || (node instanceof ShadyRoot ? node.host : undefined);\n    }\n    return !!(node && node instanceof Document);\n  }\n\n};\n\n// NOTE: For some reason `Text` redefines `assignedSlot`\nlet textMixin = {\n  get assignedSlot() {\n    return getAssignedSlot(this);\n  }\n};\n\nlet fragmentMixin = {\n\n  // TODO(sorvell): consider doing native QSA and filtering results.\n  querySelector(selector) {\n    // match selector and halt on first result.\n    let result = query(this, function(n) {\n      return matchesSelector(n, selector);\n    }, function(n) {\n      return Boolean(n);\n    })[0];\n    return result || null;\n  },\n\n  querySelectorAll(selector) {\n    return query(this, function(n) {\n      return matchesSelector(n, selector);\n    });\n  }\n\n};\n\nlet slotMixin = {\n\n  assignedNodes(options) {\n    if (this.localName === 'slot') {\n      renderRootNode(this);\n      return this.__shady ?\n        ((options && options.flatten ? this.__shady.distributedNodes :\n        this.__shady.assignedNodes) || []) :\n        [];\n    }\n  }\n\n};\n\nlet elementMixin = extendAll({\n\n  setAttribute(name, value) {\n    setAttribute$1(this, name, value);\n  },\n\n  removeAttribute(name) {\n    removeAttribute$1(this, name);\n  },\n\n  attachShadow(options) {\n    return attachShadow(this, options);\n  },\n\n  get slot() {\n    return this.getAttribute('slot');\n  },\n\n  set slot(value) {\n    this.setAttribute('slot', value);\n  },\n\n  get assignedSlot() {\n    return getAssignedSlot(this);\n  }\n\n}, fragmentMixin, slotMixin);\n\nObject.defineProperties(elementMixin, ShadowRootAccessor);\n\nlet documentMixin = extendAll({\n  importNode(node, deep) {\n    return importNode$1(node, deep);\n  }\n}, fragmentMixin);\n\nObject.defineProperties(documentMixin, {\n  _activeElement: ActiveElementAccessor.activeElement\n});\n\nfunction patchBuiltin(proto, obj) {\n  let n$ = Object.getOwnPropertyNames(obj);\n  for (let i=0; i < n$.length; i++) {\n    let n = n$[i];\n    let d = Object.getOwnPropertyDescriptor(obj, n);\n    // NOTE: we prefer writing directly here because some browsers\n    // have descriptors that are writable but not configurable (e.g.\n    // `appendChild` on older browsers)\n    if (d.value) {\n      proto[n] = d.value;\n    } else {\n      Object.defineProperty(proto, n, d);\n    }\n  }\n}\n\n\n// Apply patches to builtins (e.g. Element.prototype). Some of these patches\n// can be done unconditionally (mostly methods like\n// `Element.prototype.appendChild`) and some can only be done when the browser\n// has proper descriptors on the builtin prototype\n// (e.g. `Element.prototype.firstChild`)`. When descriptors are not available,\n// elements are individually patched when needed (see e.g.\n// `patchInside/OutsideElementAccessors` in `patch-accessors.js`).\nfunction patchBuiltins() {\n  // These patches can always be done, for all supported browsers.\n  patchBuiltin(window.Node.prototype, nodeMixin);\n  patchBuiltin(window.Text.prototype, textMixin);\n  patchBuiltin(window.DocumentFragment.prototype, fragmentMixin);\n  patchBuiltin(window.Element.prototype, elementMixin);\n  patchBuiltin(window.Document.prototype, documentMixin);\n  if (window.HTMLSlotElement) {\n    patchBuiltin(window.HTMLSlotElement.prototype, slotMixin);\n  }\n  // These patches can *only* be done\n  // on browsers that have proper property descriptors on builtin prototypes.\n  // This includes: IE11, Edge, Chrome >= 4?; Safari >= 10, Firefox\n  // On older browsers (Chrome <= 4?, Safari 9), a per element patching\n  // strategy is used for patching accessors.\n  if (settings.hasDescriptors) {\n    patchAccessors(window.Node.prototype);\n    patchAccessors(window.Text.prototype);\n    patchAccessors(window.DocumentFragment.prototype);\n    patchAccessors(window.Element.prototype);\n    let nativeHTMLElement =\n      (window.customElements && customElements.nativeHTMLElement) ||\n      HTMLElement;\n    patchAccessors(nativeHTMLElement.prototype);\n    patchAccessors(window.Document.prototype);\n    if (window.HTMLSlotElement) {\n      patchAccessors(window.HTMLSlotElement.prototype);\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nif (settings.inUse) {\n\n  window.ShadyDOM = {\n    // TODO(sorvell): remove when Polymer does not depend on this.\n    inUse: settings.inUse,\n    // TODO(sorvell): remove when Polymer does not depend on this.\n    patch: function(node) { return node; },\n    isShadyRoot: isShadyRoot,\n    enqueue: enqueue,\n    flush: flush,\n    settings: settings,\n    filterMutations: filterMutations,\n    observeChildren: observeChildren,\n    unobserveChildren: unobserveChildren,\n    nativeMethods: nativeMethods,\n    nativeTree: nativeTree\n  };\n\n  // Apply patches to events...\n  patchEvents();\n  // Apply patches to builtins (e.g. Element.prototype) where applicable.\n  patchBuiltins();\n\n  window.ShadowRoot = ShadyRoot;\n}\n\n}());\n"]}