(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function t(jt){return!('ShadyRoot'!==jt.__localName)}function o(jt){let qt=jt.getRootNode();if(t(qt))return qt}function r(jt,qt){return ke.call(jt,qt)}function a(jt,qt,Gt){let Bt=Object.getOwnPropertyDescriptor(qt,jt);Bt&&Object.defineProperty(Gt,jt,Bt)}function _(jt,qt){if(jt&&qt){let Gt=Object.getOwnPropertyNames(qt);for(let zt,Bt=0;Bt<Gt.length&&(zt=Gt[Bt]);Bt++)a(zt,qt,jt)}return jt||qt}function h(jt,...qt){for(let Gt=0;Gt<qt.length;Gt++)_(jt,qt[Gt]);return jt}function u(jt,qt){for(var Gt in qt)jt[Gt]=qt[Gt];return jt}function g(jt,qt){let Gt=Object.getPrototypeOf(jt);if(!Gt.hasOwnProperty('__patchProto')){let Bt=Object.create(Gt);Bt.__sourceProto=Gt,_(Bt,qt),Gt.__patchProto=Bt}jt.__proto__=Gt.__patchProto}function y(jt){He||(He=!0,We.then(N)),Ue.push(jt)}function N(){for(He=!1,je++;Ue.length;)Ue.shift()();Fe&&Fe.flush&&Fe.flush();const jt=100<je;if(Ue.length&&!jt&&N(),je=0,jt)throw new Error('Loop detected in ShadyDOM distribution, aborting.')}function f(jt,qt){const Gt=qt.getRootNode();return jt.map(function(Bt){const zt=Gt===Bt.target.getRootNode();if(zt&&Bt.addedNodes){let Vt=Array.from(Bt.addedNodes).filter(function(Xt){return Gt===Xt.getRootNode()});if(Vt.length)return Bt=Object.create(Bt),Object.defineProperty(Bt,'addedNodes',{value:Vt,configurable:!0}),Bt}else if(zt)return Bt}).filter(function(Bt){return Bt})}function b(jt){return'&'===jt?'&amp;':'<'===jt?'&lt;':'>'===jt?'&gt;':'"'===jt?'&quot;':'\xA0'===jt?'&nbsp;':void 0}function v(jt){return jt.replace(tt,b)}function E(jt){return jt.replace(ot,b)}function S(jt){let qt={};for(let Gt=0;Gt<jt.length;Gt++)qt[jt[Gt]]=!0;return qt}function P(jt,qt,Gt){switch(jt.nodeType){case Node.ELEMENT_NODE:{let Bt=jt.localName,zt='<'+Bt,Vt=jt.attributes;for(let Qt,Xt=0;Qt=Vt[Xt];Xt++)zt+=' '+Qt.name+'="'+v(Qt.value)+'"';return zt+='>',rt[Bt]?zt:zt+T(jt,Gt)+'</'+Bt+'>'}case Node.TEXT_NODE:{let Bt=jt.data;return qt&&nt[qt.localName]?Bt:E(Bt)}case Node.COMMENT_NODE:return'<!--'+jt.data+'-->';default:throw window.console.error(jt),new Error('not implemented');}}function T(jt,qt){'template'===jt.localName&&(jt=jt.content);let Gt='',Bt=qt?qt(jt):jt.childNodes;for(let Xt,zt=0,Vt=Bt.length;zt<Vt&&(Xt=Bt[zt]);zt++)Gt+=P(Xt,jt,qt);return Gt}function C(jt){return st.currentNode=jt,st.parentNode()}function D(jt){return st.currentNode=jt,st.firstChild()}function M(jt){return st.currentNode=jt,st.lastChild()}function O(jt){let qt=[];st.currentNode=jt;for(let Gt=st.firstChild();Gt;)qt.push(Gt),Gt=st.nextSibling();return qt}function R(jt){return dt.currentNode=jt,dt.firstChild()}function x(jt){return dt.currentNode=jt,dt.lastChild()}function I(jt){return dt.currentNode=jt,dt.previousSibling()}function A(jt){return dt.currentNode=jt,dt.nextSibling()}function w(jt){let qt=[];dt.currentNode=jt;for(let Gt=dt.firstChild();Gt;)qt.push(Gt),Gt=dt.nextSibling();return qt}function L(jt){return T(jt,qt=>O(qt))}function k(jt){if(jt.nodeType!==Node.ELEMENT_NODE)return jt.nodeValue;let qt=document.createTreeWalker(jt,NodeFilter.SHOW_TEXT,null,!1),Gt='',Bt;for(;Bt=qt.nextNode();)Gt+=Bt.nodeValue;return Gt}function W(jt,qt){return jt.__shady&&jt.__shady[qt]}function F(jt,qt){return W(jt,qt)!==void 0}function U(jt){return{get(){let qt=W(this,jt);return qt===void 0?it[jt](this):qt},configurable:!0}}function H(jt){for(;jt.firstChild;)jt.removeChild(jt.firstChild)}function q(){if(ht&&ht.get)return ht.get.call(document);return Ae.hasDescriptors?void 0:document.activeElement}function G(jt){let qt=q();if(!qt)return null;let Gt=!!t(jt);if(jt!==document){if(!Gt)return null;if(jt.host===qt||!jt.host.contains(qt))return null}let Bt=o(qt);for(;Bt&&Bt!==jt;)qt=Bt.host,Bt=o(qt);return jt===document?Bt?null:qt:Bt===jt?qt:null}function B(jt,qt,Gt){for(let Bt in qt){let zt=Object.getOwnPropertyDescriptor(jt,Bt);zt&&zt.configurable||!zt&&Gt?Object.defineProperty(jt,Bt,qt[Bt]):Gt&&console.warn('Could not define',Bt,'on',jt)}}function z(jt){B(jt,pt),B(jt,ut),B(jt,gt)}function V(jt,qt,Gt){if(Nt(qt),qt.__shady=qt.__shady||{},F(qt,'firstChild')&&(qt.__shady.childNodes=null),jt.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let Bt=jt.childNodes;for(let Vt=0;Vt<Bt.length;Vt++)X(Bt[Vt],qt,Gt);jt.__shady=jt.__shady||{};let zt=F(jt,'firstChild')?null:void 0;jt.__shady.firstChild=jt.__shady.lastChild=zt,jt.__shady.childNodes=zt}else X(jt,qt,Gt)}function X(jt,qt,Gt){yt(jt),Gt=Gt||null,jt.__shady=jt.__shady||{},qt.__shady=qt.__shady||{},Gt&&(Gt.__shady=Gt.__shady||{}),jt.__shady.previousSibling=Gt?Gt.__shady.previousSibling:qt.lastChild;let Bt=jt.__shady.previousSibling;Bt&&Bt.__shady&&(Bt.__shady.nextSibling=jt);let zt=jt.__shady.nextSibling=Gt;zt&&zt.__shady&&(zt.__shady.previousSibling=jt),jt.__shady.parentNode=qt,Gt?Gt===qt.__shady.firstChild&&(qt.__shady.firstChild=jt):(qt.__shady.lastChild=jt,!qt.__shady.firstChild&&(qt.__shady.firstChild=jt)),qt.__shady.childNodes=null}function Q(jt,qt){jt.__shady=jt.__shady||{},qt.__shady=qt.__shady||{},jt===qt.__shady.firstChild&&(qt.__shady.firstChild=jt.__shady.nextSibling),jt===qt.__shady.lastChild&&(qt.__shady.lastChild=jt.__shady.previousSibling);let Gt=jt.__shady.previousSibling,Bt=jt.__shady.nextSibling;Gt&&(Gt.__shady=Gt.__shady||{},Gt.__shady.nextSibling=Bt),Bt&&(Bt.__shady=Bt.__shady||{},Bt.__shady.previousSibling=Gt),jt.__shady.parentNode=jt.__shady.previousSibling=jt.__shady.nextSibling=void 0,F(qt,'childNodes')&&(qt.__shady.childNodes=null)}function K(jt,qt,Gt){let Bt=o(jt),zt;Bt&&(qt.__noInsertionPoint&&!Bt._changePending&&(Bt._skipUpdateInsertionPoints=!0),zt=oe(qt,jt,Bt),zt&&(Bt._skipUpdateInsertionPoints=!1)),F(jt,'firstChild')&&V(qt,jt,Gt);let Vt=te(qt,jt,Bt,zt)||jt.shadyRoot;return Vt}function J(jt){let Gt,qt=F(jt,'parentNode')&&W(jt,'parentNode'),Bt=o(jt);if(qt||Bt){Gt=ae(jt),qt&&Q(jt,qt);let zt=Bt&&ne(Bt,jt),Vt=qt&&Bt&&qt.localName===Bt.getInsertionPointTag();(zt||Vt)&&(Bt._skipUpdateInsertionPoints=!1,le(Bt))}return de(jt),Gt}function Y(jt,qt,Gt){let Bt=jt.__shady&&jt.__shady.observer;Bt&&(qt&&Bt.addedNodes.push(qt),Gt&&Bt.removedNodes.push(Gt),Bt.schedule())}function Z(jt,qt){return qt?(Y(qt,null,jt),J(jt)):void de(jt)}function $(jt){return!(jt.__ownerShadyRoot===void 0)}function ee(jt){if(jt&&jt.nodeType){let qt=jt.__ownerShadyRoot;if(void 0===qt){if(t(jt))qt=jt;else{let Gt=jt.parentNode;qt=Gt?ee(Gt):jt}document.documentElement.contains(jt)&&(jt.__ownerShadyRoot=qt)}return qt}}function te(jt,qt,Gt,Bt){let zt=Gt&&Gt.getInsertionPointTag()||'',Vt=jt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!jt.__noInsertionPoint&&zt&&jt.querySelector(zt),Xt=Vt&&Vt.parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,Qt=Vt||jt.localName===zt;(Qt||qt.localName===zt||Bt)&&Gt&&le(Gt);let Kt=re(qt);return Kt&&le(qt.shadyRoot),Kt||Qt&&!Xt}function oe(jt,qt,Gt){let Bt,zt=Gt.getInsertionPointTag();if(jt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!jt.__noInsertionPoint){let Vt=jt.querySelectorAll(zt);for(let Qt,Kt,Jt,Xt=0;Xt<Vt.length&&(Qt=Vt[Xt]);Xt++)Kt=Qt.parentNode,Kt===jt&&(Kt=qt),Jt=oe(Qt,Kt,Gt),Bt=Bt||Jt}else jt.localName===zt&&(mt(qt),mt(jt),Bt=!0);return Bt}function re(jt){return jt&&jt.shadyRoot&&jt.shadyRoot.hasInsertionPoint()}function ne(jt,qt){let Gt,Bt=jt._insertionPoints;for(let zt=0;zt<Bt.length;zt++){let Vt=Bt[zt];if(se(qt,Vt)){let Xt=Vt.assignedNodes({flatten:!0});for(let Qt=0;Qt<Xt.length;Qt++){Gt=!0;let Kt=Xt[Qt],Jt=C(Kt);Jt&&Xe.call(Jt,Kt)}}}return Gt}function se(jt,qt){for(;qt;){if(qt==jt)return!0;qt=qt.parentNode}}function de(jt){if($(jt)){let qt=jt.childNodes;for(let zt,Gt=0,Bt=qt.length;Gt<Bt&&(zt=qt[Gt]);Gt++)de(zt)}jt.__ownerShadyRoot=void 0}function ie(jt){let qt=jt.assignedNodes({flatten:!0}),Gt=ee(jt);for(let Vt,Bt=0,zt=qt.length;Bt<zt&&(Vt=qt[Bt]);Bt++)if(Gt.isFinalDestination(jt,Vt))return Vt}function ae(jt){let qt=jt.parentNode;if(re(qt))return le(qt.shadyRoot),!0}function le(jt){jt._changePending=!0,jt.update()}function _e(jt,qt){if('slot'===qt)ae(jt);else if('slot'===jt.localName&&'name'===qt){let Gt=o(jt);Gt&&Gt.update()}}function he(jt,qt,Gt){let Bt=[];return pe(jt.childNodes,qt,Gt,Bt),Bt}function pe(jt,qt,Gt,Bt){for(let Xt,zt=0,Vt=jt.length;zt<Vt&&(Xt=jt[zt]);zt++)if(Xt.nodeType===Node.ELEMENT_NODE&&ue(Xt,qt,Gt,Bt))return!0}function ue(jt,qt,Gt,Bt){let zt=qt(jt);return zt&&Bt.push(jt),Gt&&Gt(zt)?zt:void pe(jt.childNodes,qt,Gt,Bt)}function ce(jt){var qt=jt.getRootNode();t(qt)&&qt.render()}function ge(jt,qt,Gt){window.ShadyCSS&&'class'===qt&&jt.ownerDocument===document?window.ShadyCSS.setElementClass(jt,Gt):(Qe.call(jt,qt,Gt),_e(jt,qt))}function ye(jt,qt){Ke.call(jt,qt),_e(jt,qt)}function Ne(jt,qt,Gt){if(Gt){let Bt=W(Gt,'parentNode');if(void 0!==Bt&&Bt!==jt)throw Error('The ref_node to be inserted before is not a child of this node')}if(qt.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){let Bt=W(qt,'parentNode');Bt?Z(qt,Bt):qt.parentNode&&Xe.call(qt.parentNode,qt)}if(!K(jt,qt,Gt)){if(Gt){let zt=o(Gt);zt&&(Gt=Gt.localName===zt.getInsertionPointTag()?ie(Gt):Gt)}let Bt=t(jt)?jt.host:jt;Gt?Ve.call(Bt,qt,Gt):ze.call(Bt,qt)}return Y(jt,qt),qt}function me(jt,qt){if(qt.parentNode!==jt)throw Error('The node to be removed is not a child of this node: '+qt);if(!J(qt)){let Gt=t(jt)?jt.host:jt,Bt=C(qt);Gt===Bt&&Xe.call(Gt,qt)}return Y(jt,null,qt),qt}function fe(jt,qt){if('template'==jt.localName)return Je.call(jt,qt);let Gt=Je.call(jt,!1);if(qt){let Bt=jt.childNodes;for(let Vt,zt=0;zt<Bt.length;zt++)Vt=Bt[zt].cloneNode(!0),Gt.appendChild(Vt)}return Gt}function be(jt,qt){if(jt.ownerDocument!==document)return Ye.call(document,jt,qt);let Gt=Ye.call(document,jt,!1);if(qt){let Bt=jt.childNodes;for(let Vt,zt=0;zt<Bt.length;zt++)Vt=be(Bt[zt],!0),Gt.appendChild(Vt)}return Gt}function ve(jt,qt){let Gt=[],Bt=jt,zt=jt===window?window:jt.getRootNode();for(;Bt;)Gt.push(Bt),Bt=Bt.assignedSlot?Bt.assignedSlot:Bt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Bt.host&&(qt||Bt!==zt)?Bt.host:Bt.parentNode;return Gt[Gt.length-1]===document&&Gt.push(window),Gt}function Ee(jt,qt){if(!t)return jt;let Gt=ve(jt,!0),Bt=qt;for(let Vt,Xt,Qt,Kt,zt=0;zt<Bt.length;zt++)if(Vt=Bt[zt],Qt=Vt===window?window:Vt.getRootNode(),Qt!=Xt&&(Kt=Gt.indexOf(Qt),Xt=Qt),!t(Qt)||-1<Kt)return Vt}function Se(jt){let qt=function(Gt,Bt){let zt=new jt(Gt,Bt);return zt.__composed=Bt&&!!Bt.composed,zt};return u(qt,jt),qt.prototype=jt.prototype,qt}function Pe(jt,qt,Gt){let Bt=qt.__handlers&&qt.__handlers[jt.type]&&qt.__handlers[jt.type][Gt];if(Bt)for(let Vt,zt=0;Vt=Bt[zt];zt++)if(Vt.call(qt,jt),jt.__immediatePropagationStopped)return}function Te(jt){let qt=jt.composedPath(),Gt;Object.defineProperty(jt,'currentTarget',{get:function(){return Gt},configurable:!0});for(let zt=qt.length-1;0<=zt;zt--)if(Gt=qt[zt],Pe(jt,Gt,'capture'),jt.__propagationStopped)return;Object.defineProperty(jt,'eventPhase',{value:Event.AT_TARGET});let Bt;for(let zt=0;zt<qt.length;zt++)if(Gt=qt[zt],(0===zt||Gt.shadowRoot&&Gt.shadowRoot===Bt)&&(Pe(jt,Gt,'bubble'),Gt!==window&&(Bt=Gt.getRootNode()),jt.__propagationStopped))return}function Ce(){for(let jt in vt)window.addEventListener(jt,function(qt){qt.__target||(qt.__target=qt.target,qt.__relatedTarget=qt.relatedTarget,g(qt,bt),Te(qt),qt.stopImmediatePropagation())},!0)}function De(){window.Event=Et,window.CustomEvent=St,window.MouseEvent=Pt,Ce()}function Me(jt,qt,Gt){return{index:jt,removed:qt,addedCount:Gt}}function Oe(jt,qt){if(!jt)throw'Must provide a host.';if(!qt)throw'Not enough arguments.';return new wt(At,jt)}function Re(jt){return ce(jt),W(jt,'assignedSlot')||null}function xe(jt,qt){let Gt=Object.getOwnPropertyNames(qt);for(let Bt=0;Bt<Gt.length;Bt++){let zt=Gt[Bt],Vt=Object.getOwnPropertyDescriptor(qt,zt);Vt.value?jt[zt]=Vt.value:Object.defineProperty(jt,zt,Vt)}}function Ie(){if(xe(window.Node.prototype,Lt),xe(window.Text.prototype,kt),xe(window.DocumentFragment.prototype,Wt),xe(window.Element.prototype,Ut),xe(window.Document.prototype,Ht),window.HTMLSlotElement&&xe(window.HTMLSlotElement.prototype,Ft),Ae.hasDescriptors){z(window.Node.prototype),z(window.Text.prototype),z(window.DocumentFragment.prototype),z(window.Element.prototype);let jt=window.customElements&&customElements.nativeHTMLElement||HTMLElement;z(jt.prototype),z(window.Document.prototype),window.HTMLSlotElement&&z(window.HTMLSlotElement.prototype)}}let Ae=window.ShadyDOM||{};Ae.hasNativeShadowDOM=!!(Element.prototype.attachShadow&&Node.prototype.getRootNode);let we=Object.getOwnPropertyDescriptor(Node.prototype,'firstChild');Ae.hasDescriptors=!!(we&&we.configurable&&we.get),Ae.inUse=Ae.force||!Ae.hasNativeShadowDOM;let Le=Element.prototype,ke=Le.matches||Le.matchesSelector||Le.mozMatchesSelector||Le.msMatchesSelector||Le.oMatchesSelector||Le.webkitMatchesSelector,We;if(window.Promise)We=Promise.resolve();else{let jt=document.createTextNode(''),qt=0;We={then(Gt){let Bt=new MutationObserver(function(){Bt.disconnect(),Gt()});Bt.observe(jt,{characterData:!0}),jt.textContent=qt++}}}let Fe=window.customElements,Ue=[],He,je=0;N.list=Ue;class qe{constructor(){this._scheduled=!1,this.addedNodes=[],this.removedNodes=[],this.callbacks=new Set}schedule(){this._scheduled||(this._scheduled=!0,We.then(()=>{this.flush()}))}flush(){if(this._scheduled){this._scheduled=!1;let jt=this.takeRecords();jt.length&&this.callbacks.forEach(function(qt){qt(jt)})}}takeRecords(){if(this.addedNodes.length||this.removedNodes.length){let jt=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],jt}return[]}}let Ge=function(jt,qt){jt.__shady=jt.__shady||{},jt.__shady.observer||(jt.__shady.observer=new qe),jt.__shady.observer.callbacks.add(qt);let Gt=jt.__shady.observer;return{_callback:qt,_observer:Gt,_node:jt,takeRecords(){return Gt.takeRecords()}}},Be=function(jt){let qt=jt&&jt._observer;qt&&(qt.callbacks.delete(jt._callback),!qt.callbacks.size&&(jt._node.__shady.observer=null))},ze=Element.prototype.appendChild,Ve=Element.prototype.insertBefore,Xe=Element.prototype.removeChild,Qe=Element.prototype.setAttribute,Ke=Element.prototype.removeAttribute,Je=Element.prototype.cloneNode,Ye=Document.prototype.importNode,Ze=Element.prototype.addEventListener,$e=Element.prototype.removeEventListener;var et=Object.freeze({appendChild:ze,insertBefore:Ve,removeChild:Xe,setAttribute:Qe,removeAttribute:Ke,cloneNode:Je,importNode:Ye,addEventListener:Ze,removeEventListener:$e});let tt=/[&\u00A0"]/g,ot=/[&\u00A0<>]/g,rt=S(['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr']),nt=S(['style','script','xmp','iframe','noembed','noframes','plaintext','noscript']),st=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),dt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);var it=Object.freeze({parentNode:C,firstChild:D,lastChild:M,previousSibling:function(qt){return st.currentNode=qt,st.previousSibling()},nextSibling:function(qt){return st.currentNode=qt,st.nextSibling()},childNodes:O,parentElement:function(qt){return dt.currentNode=qt,dt.parentNode()},firstElementChild:R,lastElementChild:x,previousElementSibling:I,nextElementSibling:A,children:w,innerHTML:L,textContent:k});const at=Object.getOwnPropertyDescriptor(Element.prototype,'innerHTML')||Object.getOwnPropertyDescriptor(HTMLElement.prototype,'innerHTML'),lt=document.implementation.createHTMLDocument('inert'),_t=lt.createElement('div'),ht=Object.getOwnPropertyDescriptor(Document.prototype,'activeElement');let pt={parentElement:U('parentElement'),parentNode:U('parentNode'),nextSibling:U('nextSibling'),previousSibling:U('previousSibling'),className:{get(){return this.getAttribute('class')},set(jt){this.setAttribute('class',jt)},configurable:!0},nextElementSibling:{get(){if(F(this,'nextSibling')){let jt=this.nextSibling;for(;jt&&jt.nodeType!==Node.ELEMENT_NODE;)jt=jt.nextSibling;return jt}return A(this)},configurable:!0},previousElementSibling:{get(){if(F(this,'previousSibling')){let jt=this.previousSibling;for(;jt&&jt.nodeType!==Node.ELEMENT_NODE;)jt=jt.previousSibling;return jt}return I(this)},configurable:!0}},ut={childNodes:{get(){if(F(this,'firstChild')){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(let jt=this.firstChild;jt;jt=jt.nextSibling)this.__shady.childNodes.push(jt)}return this.__shady.childNodes}return O(this)},configurable:!0},firstChild:U('firstChild'),lastChild:U('lastChild'),textContent:{get(){if(F(this,'firstChild')){let jt=[];for(let Bt,qt=0,Gt=this.childNodes;Bt=Gt[qt];qt++)Bt.nodeType!==Node.COMMENT_NODE&&jt.push(Bt.textContent);return jt.join('')}return k(this)},set(jt){this.nodeType===Node.ELEMENT_NODE?(H(this),jt&&this.appendChild(document.createTextNode(jt))):this.nodeValue=jt},configurable:!0},firstElementChild:{get(){if(F(this,'firstChild')){let jt=this.firstChild;for(;jt&&jt.nodeType!==Node.ELEMENT_NODE;)jt=jt.nextSibling;return jt}return R(this)},configurable:!0},lastElementChild:{get(){if(F(this,'lastChild')){let jt=this.lastChild;for(;jt&&jt.nodeType!==Node.ELEMENT_NODE;)jt=jt.previousSibling;return jt}return x(this)},configurable:!0},children:{get(){return F(this,'firstChild')?Array.prototype.filter.call(this.childNodes,function(jt){return jt.nodeType===Node.ELEMENT_NODE}):w(this)},configurable:!0},innerHTML:{get(){let jt='template'===this.localName?this.content:this;return F(this,'firstChild')?T(jt):L(jt)},set(jt){let qt='template'===this.localName?this.content:this;for(H(qt),at&&at.set?at.set.call(_t,jt):_t.innerHTML=jt;_t.firstChild;)qt.appendChild(_t.firstChild)},configurable:!0}},ct={shadowRoot:{get(){return this.shadyRoot},set(jt){this.shadyRoot=jt},configurable:!0}},gt={activeElement:{get(){return G(this)},set(){},configurable:!0}},yt=Ae.hasDescriptors?function(){}:function(jt){jt.__shady&&jt.__shady.__outsideAccessors||(jt.__shady=jt.__shady||{},jt.__shady.__outsideAccessors=!0,B(jt,pt,!0))},Nt=Ae.hasDescriptors?function(){}:function(jt){jt.__shady&&jt.__shady.__insideAccessors||(jt.__shady=jt.__shady||{},jt.__shady.__insideAccessors=!0,B(jt,ut,!0),B(jt,ct,!0))},mt=function(jt){if(!F(jt,'firstChild')){jt.__shady=jt.__shady||{},jt.__shady.firstChild=D(jt),jt.__shady.lastChild=M(jt),Nt(jt);let qt=jt.__shady.childNodes=O(jt);for(let Bt,Gt=0;Gt<qt.length&&(Bt=qt[Gt]);Gt++)Bt.__shady=Bt.__shady||{},Bt.__shady.parentNode=jt,Bt.__shady.nextSibling=qt[Gt+1]||null,Bt.__shady.previousSibling=qt[Gt-1]||null,yt(Bt)}},ft={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},bt={get composed(){return this.isTrusted&&void 0===this.__composed&&(this.__composed=ft[this.type]),this.__composed||!1},composedPath(){return this.__composedPath||(this.__composedPath=ve(this.__target,this.composed)),this.__composedPath},get target(){return Ee(this.currentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=ve(this.__relatedTarget,!0)),Ee(this.currentTarget,this.__relatedTargetComposedPath)):null},stopPropagation(){Event.prototype.stopPropagation.call(this),this.__propagationStopped=!0},stopImmediatePropagation(){Event.prototype.stopImmediatePropagation.call(this),this.__immediatePropagationStopped=!0,this.__propagationStopped=!0}},vt={focus:!0,blur:!0},Et=Se(window.Event),St=Se(window.CustomEvent),Pt=Se(window.MouseEvent);const Tt=0,Ct=1,Dt=2,Mt=3;let Ot={calcEditDistances(jt,qt,Gt,Bt,zt,Vt){let Xt=Vt-zt+1,Qt=Gt-qt+1,Kt=Array(Xt);for(let Jt=0;Jt<Xt;Jt++)Kt[Jt]=Array(Qt),Kt[Jt][0]=Jt;for(let Jt=0;Jt<Qt;Jt++)Kt[0][Jt]=Jt;for(let Jt=1;Jt<Xt;Jt++)for(let Yt=1;Yt<Qt;Yt++)if(this.equals(jt[qt+Yt-1],Bt[zt+Jt-1]))Kt[Jt][Yt]=Kt[Jt-1][Yt-1];else{let Zt=Kt[Jt-1][Yt]+1,$t=Kt[Jt][Yt-1]+1;Kt[Jt][Yt]=Zt<$t?Zt:$t}return Kt},spliceOperationsFromEditDistances(jt){let qt=jt.length-1,Gt=jt[0].length-1,Bt=jt[qt][Gt],zt=[];for(;0<qt||0<Gt;){if(0==qt){zt.push(Dt),Gt--;continue}if(0==Gt){zt.push(Mt),qt--;continue}let Kt,Vt=jt[qt-1][Gt-1],Xt=jt[qt-1][Gt],Qt=jt[qt][Gt-1];Kt=Xt<Qt?Xt<Vt?Xt:Vt:Qt<Vt?Qt:Vt,Kt==Vt?(Vt==Bt?zt.push(Tt):(zt.push(Ct),Bt=Vt),qt--,Gt--):Kt==Xt?(zt.push(Mt),qt--,Bt=Xt):(zt.push(Dt),Gt--,Bt=Qt)}return zt.reverse(),zt},calcSplices(jt,qt,Gt,Bt,zt,Vt){let Kt,Xt=0,Qt=0,Jt=Math.min(Gt-qt,Vt-zt);if(0==qt&&0==zt&&(Xt=this.sharedPrefix(jt,Bt,Jt)),Gt==jt.length&&Vt==Bt.length&&(Qt=this.sharedSuffix(jt,Bt,Jt-Xt)),qt+=Xt,zt+=Xt,Gt-=Qt,Vt-=Qt,0==Gt-qt&&0==Vt-zt)return[];if(qt==Gt){for(Kt=Me(qt,[],0);zt<Vt;)Kt.removed.push(Bt[zt++]);return[Kt]}if(zt==Vt)return[Me(qt,[],Gt-qt)];let Yt=this.spliceOperationsFromEditDistances(this.calcEditDistances(jt,qt,Gt,Bt,zt,Vt));Kt=void 0;let Zt=[],$t=qt,eo=zt;for(let to=0;to<Yt.length;to++)switch(Yt[to]){case Tt:Kt&&(Zt.push(Kt),Kt=void 0),$t++,eo++;break;case Ct:Kt||(Kt=Me($t,[],0)),Kt.addedCount++,$t++,Kt.removed.push(Bt[eo]),eo++;break;case Dt:Kt||(Kt=Me($t,[],0)),Kt.addedCount++,$t++;break;case Mt:Kt||(Kt=Me($t,[],0)),Kt.removed.push(Bt[eo]),eo++;}return Kt&&Zt.push(Kt),Zt},sharedPrefix(jt,qt,Gt){for(let Bt=0;Bt<Gt;Bt++)if(!this.equals(jt[Bt],qt[Bt]))return Bt;return Gt},sharedSuffix(jt,qt,Gt){let Bt=jt.length,zt=qt.length,Vt=0;for(;Vt<Gt&&this.equals(jt[--Bt],qt[--zt]);)Vt++;return Vt},calculateSplices(jt,qt){return this.calcSplices(jt,0,jt.length,qt,0,qt.length)},equals(jt,qt){return jt===qt}},Rt=(jt,qt)=>Ot.calculateSplices(jt,qt),xt='function'==typeof Event?Event:function(jt,qt){qt=qt||{};var Gt=document.createEvent('Event');return Gt.initEvent(jt,!!qt.bubbles,!!qt.cancelable),Gt};var It=class{constructor(jt){this.root=jt,this.insertionPointTag='slot'}getInsertionPoints(){return this.root.querySelectorAll(this.insertionPointTag)}hasInsertionPoint(){return!!(this.root._insertionPoints&&this.root._insertionPoints.length)}isInsertionPoint(jt){return jt.localName&&jt.localName==this.insertionPointTag}distribute(){return this.hasInsertionPoint()?this.distributePool(this.root,this.collectPool()):[]}collectPool(){let jt=this.root.host,qt=[],Gt=0;for(let Bt=jt.firstChild;Bt;Bt=Bt.nextSibling)qt[Gt++]=Bt;return qt}distributePool(jt,qt){let Gt=[],Bt=this.root._insertionPoints;for(let Xt,zt=0,Vt=Bt.length;zt<Vt&&(Xt=Bt[zt]);zt++){this.distributeInsertionPoint(Xt,qt);let Qt=Xt.parentNode;Qt&&Qt.shadyRoot&&this.hasInsertionPoint(Qt.shadyRoot)&&Gt.push(Qt.shadyRoot)}for(let zt=0;zt<qt.length;zt++){let Vt=qt[zt];if(Vt){Vt.__shady=Vt.__shady||{},Vt.__shady.assignedSlot=void 0;let Xt=C(Vt);Xt&&Xe.call(Xt,Vt)}}return Gt}distributeInsertionPoint(jt,qt){let Gt=jt.__shady.assignedNodes;Gt&&this.clearAssignedSlots(jt,!0),jt.__shady.assignedNodes=[];let Bt=!1,zt=!1;for(let Qt,Vt=0,Xt=qt.length;Vt<Xt;Vt++)(Qt=qt[Vt],!!Qt)&&this.matchesInsertionPoint(Qt,jt)&&(Qt.__shady._prevAssignedSlot!=jt&&(Bt=!0),this.distributeNodeInto(Qt,jt),qt[Vt]=void 0,zt=!0);if(!zt){let Vt=jt.childNodes;for(let Qt,Xt=0;Xt<Vt.length;Xt++)Qt=Vt[Xt],Qt.__shady._prevAssignedSlot!=jt&&(Bt=!0),this.distributeNodeInto(Qt,jt)}if(Gt){for(let Vt=0;Vt<Gt.length;Vt++)Gt[Vt].__shady._prevAssignedSlot=null;jt.__shady.assignedNodes.length<Gt.length&&(Bt=!0)}this.setDistributedNodesOnInsertionPoint(jt),Bt&&this._fireSlotChange(jt)}clearAssignedSlots(jt,qt){let Gt=jt.__shady.assignedNodes;if(Gt)for(let Bt=0;Bt<Gt.length;Bt++){let zt=Gt[Bt];qt&&(zt.__shady._prevAssignedSlot=zt.__shady.assignedSlot),zt.__shady.assignedSlot===jt&&(zt.__shady.assignedSlot=null)}}matchesInsertionPoint(jt,qt){let Gt=qt.getAttribute('name');Gt=Gt?Gt.trim():'';let Bt=jt.getAttribute&&jt.getAttribute('slot');return Bt=Bt?Bt.trim():'',Bt==Gt}distributeNodeInto(jt,qt){qt.__shady.assignedNodes.push(jt),jt.__shady.assignedSlot=qt}setDistributedNodesOnInsertionPoint(jt){let qt=jt.__shady.assignedNodes;jt.__shady.distributedNodes=[];for(let Bt,Gt=0;Gt<qt.length&&(Bt=qt[Gt]);Gt++)if(this.isInsertionPoint(Bt)){let zt=Bt.__shady.distributedNodes;if(zt)for(let Vt=0;Vt<zt.length;Vt++)jt.__shady.distributedNodes.push(zt[Vt])}else jt.__shady.distributedNodes.push(qt[Gt])}_fireSlotChange(jt){jt.dispatchEvent(new xt('slotchange')),jt.__shady.assignedSlot&&this._fireSlotChange(jt.__shady.assignedSlot)}isFinalDestination(jt){return!jt.__shady.assignedSlot}};const At={};let wt=function(jt,qt){if(jt!==At)throw new TypeError('Illegal constructor');let Gt=document.createDocumentFragment();return Gt.__proto__=wt.prototype,Gt._init(qt),Gt};wt.prototype=Object.create(DocumentFragment.prototype),h(wt.prototype,{_init(jt){this.__localName='ShadyRoot',mt(jt),mt(this),jt.shadowRoot=this,this.host=jt,this._renderPending=!1,this._hasRendered=!1,this._changePending=!1,this._distributor=new It(this),this.update()},update(){this._renderPending||(this._renderPending=!0,y(()=>this.render()))},_getRenderRoot(){let jt=this,qt=this;for(;qt;)qt._renderPending&&(jt=qt),qt=qt._rendererForHost();return jt},_rendererForHost(){let jt=this.host.getRootNode();if(t(jt)){let qt=this.host.childNodes;for(let Bt,Gt=0;Gt<qt.length;Gt++)if(Bt=qt[Gt],this._distributor.isInsertionPoint(Bt))return jt}},render(){this._renderPending&&this._getRenderRoot()._render()},_render(){this._renderPending=!1,this._changePending=!1,this._skipUpdateInsertionPoints?!this._hasRendered&&(this._insertionPoints=[]):this.updateInsertionPoints(),this._skipUpdateInsertionPoints=!1,this.distribute(),this.compose(),this._hasRendered=!0},forceRender(){this._renderPending=!0,this.render()},distribute(){let jt=this._distributor.distribute();for(let qt=0;qt<jt.length;qt++)jt[qt]._render()},updateInsertionPoints(){let jt=this.__insertionPoints;if(jt)for(let Gt,qt=0;qt<jt.length;qt++)Gt=jt[qt],Gt.getRootNode()!==this&&this._distributor.clearAssignedSlots(Gt);jt=this._insertionPoints=this._distributor.getInsertionPoints();for(let Gt,qt=0;qt<jt.length;qt++)Gt=jt[qt],Gt.__shady=Gt.__shady||{},mt(Gt),mt(Gt.parentNode)},get _insertionPoints(){return this.__insertionPoints||this.updateInsertionPoints(),this.__insertionPoints||(this.__insertionPoints=[])},set _insertionPoints(jt){this.__insertionPoints=jt},hasInsertionPoint(){return this._distributor.hasInsertionPoint()},compose(){this._composeTree()},_composeTree(){this._updateChildNodes(this.host,this._composeNode(this.host));let jt=this._insertionPoints||[];for(let Bt,zt,qt=0,Gt=jt.length;qt<Gt&&(Bt=jt[qt]);qt++)zt=Bt.parentNode,zt!==this.host&&zt!==this&&this._updateChildNodes(zt,this._composeNode(zt))},_composeNode(jt){let qt=[],Gt=(jt.shadyRoot||jt).childNodes;for(let Bt=0;Bt<Gt.length;Bt++){let zt=Gt[Bt];if(this._distributor.isInsertionPoint(zt)){let Vt=zt.__shady.distributedNodes||(zt.__shady.distributedNodes=[]);for(let Xt=0;Xt<Vt.length;Xt++){let Qt=Vt[Xt];this.isFinalDestination(zt,Qt)&&qt.push(Qt)}}else qt.push(zt)}return qt},isFinalDestination(jt,qt){return this._distributor.isFinalDestination(jt,qt)},_updateChildNodes(jt,qt){let Gt=O(jt),Bt=Rt(qt,Gt);for(let Xt,zt=0,Vt=0;zt<Bt.length&&(Xt=Bt[zt]);zt++){for(let Kt,Qt=0;Qt<Xt.removed.length&&(Kt=Xt.removed[Qt]);Qt++)C(Kt)===jt&&Xe.call(jt,Kt),Gt.splice(Xt.index+Vt,1);Vt-=Xt.addedCount}for(let Vt,Xt,zt=0;zt<Bt.length&&(Vt=Bt[zt]);zt++){Xt=Gt[Vt.index];for(let Kt,Qt=Vt.index;Qt<Vt.index+Vt.addedCount;Qt++)Kt=qt[Qt],Ve.call(jt,Kt,Xt),Gt.splice(Qt,0,Kt)}},getInsertionPointTag(){return this._distributor.insertionPointTag}}),function(qt){B(qt,ut,!0),B(qt,gt,!0)}(wt.prototype);let Lt={addEventListener:function(qt,Gt,Bt){if(Gt){let zt,Vt,Xt;if('object'==typeof Bt?(zt=!!Bt.capture,Vt=!!Bt.once,Xt=!!Bt.passive):(zt=!!Bt,Vt=!1,Xt=!1),Gt.__eventWrappers){for(let Kt=0;Kt<Gt.__eventWrappers.length;Kt++)if(Gt.__eventWrappers[Kt].node===this&&Gt.__eventWrappers[Kt].type===qt&&Gt.__eventWrappers[Kt].capture===zt&&Gt.__eventWrappers[Kt].once===Vt&&Gt.__eventWrappers[Kt].passive===Xt)return;}else Gt.__eventWrappers=[];const Qt=function(Kt){if(Vt&&this.removeEventListener(qt,Gt,Bt),Kt.__target||(Kt.__target=Kt.target,Kt.__relatedTarget=Kt.relatedTarget,g(Kt,bt)),Kt.composed||-1<Kt.composedPath().indexOf(this))return Kt.eventPhase===Event.BUBBLING_PHASE&&Kt.target===Kt.relatedTarget?void Kt.stopImmediatePropagation():Gt(Kt)};Gt.__eventWrappers.push({node:this,type:qt,capture:zt,once:Vt,passive:Xt,wrapperFn:Qt}),vt[qt]?(this.__handlers=this.__handlers||{},this.__handlers[qt]=this.__handlers[qt]||{capture:[],bubble:[]},this.__handlers[qt][zt?'capture':'bubble'].push(Qt)):Ze.call(this,qt,Qt,Bt)}},removeEventListener:function(qt,Gt,Bt){if(Gt){let zt,Vt,Xt;'object'==typeof Bt?(zt=!!Bt.capture,Vt=!!Bt.once,Xt=!!Bt.passive):(zt=!!Bt,Vt=!1,Xt=!1);let Qt;if(Gt.__eventWrappers)for(let Kt=0;Kt<Gt.__eventWrappers.length;Kt++)if(Gt.__eventWrappers[Kt].node===this&&Gt.__eventWrappers[Kt].type===qt&&Gt.__eventWrappers[Kt].capture===zt&&Gt.__eventWrappers[Kt].once===Vt&&Gt.__eventWrappers[Kt].passive===Xt){Qt=Gt.__eventWrappers.splice(Kt,1)[0].wrapperFn,Gt.__eventWrappers.length||(Gt.__eventWrappers=void 0);break}if($e.call(this,qt,Qt||Gt,Bt),Qt&&vt[qt]&&this.__handlers&&this.__handlers[qt]){const Kt=this.__handlers[qt][zt?'capture':'bubble'],Jt=Kt.indexOf(Qt);-1<Jt&&Kt.splice(Jt,1)}}},appendChild(jt){return Ne(this,jt)},insertBefore(jt,qt){return Ne(this,jt,qt)},removeChild(jt){return me(this,jt)},replaceChild(jt,qt){return this.insertBefore(jt,qt),this.removeChild(qt),jt},cloneNode(jt){return fe(this,jt)},getRootNode(jt){return ee(this,jt)},get isConnected(){if(this.ownerDocument.documentElement.contains(this))return!0;let jt=this;for(;jt&&!(jt instanceof Document);)jt=jt.parentNode||(jt instanceof wt?jt.host:void 0);return!!(jt&&jt instanceof Document)}},kt={get assignedSlot(){return Re(this)}},Wt={querySelector(jt){let qt=he(this,function(Gt){return r(Gt,jt)},function(Gt){return!!Gt})[0];return qt||null},querySelectorAll(jt){return he(this,function(qt){return r(qt,jt)})}},Ft={assignedNodes(jt){if('slot'===this.localName)return ce(this),this.__shady?(jt&&jt.flatten?this.__shady.distributedNodes:this.__shady.assignedNodes)||[]:[]}},Ut=h({setAttribute(jt,qt){ge(this,jt,qt)},removeAttribute(jt){ye(this,jt)},attachShadow(jt){return Oe(this,jt)},get slot(){return this.getAttribute('slot')},set slot(jt){this.setAttribute('slot',jt)},get assignedSlot(){return Re(this)}},Wt,Ft);Object.defineProperties(Ut,ct);let Ht=h({importNode(jt,qt){return be(jt,qt)}},Wt);Object.defineProperties(Ht,{_activeElement:gt.activeElement}),Ae.inUse&&(window.ShadyDOM={inUse:Ae.inUse,patch:function(jt){return jt},isShadyRoot:t,enqueue:y,flush:N,settings:Ae,filterMutations:f,observeChildren:Ge,unobserveChildren:Be,nativeMethods:et,nativeTree:it},De(),Ie(),window.ShadowRoot=wt)})();
//# sourceMappingURL=shadydom.min.js.map
